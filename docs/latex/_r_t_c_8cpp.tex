\hypertarget{_r_t_c_8cpp}{}\section{C\+:/\+Users/sjh13/sources/\+Visual\+Boy\+Advance/src/\+R\+TC.cpp 파일 참조}
\label{_r_t_c_8cpp}\index{C\+:/\+Users/sjh13/sources/\+Visual\+Boy\+Advance/src/\+R\+T\+C.\+cpp@{C\+:/\+Users/sjh13/sources/\+Visual\+Boy\+Advance/src/\+R\+T\+C.\+cpp}}
{\ttfamily \#include \char`\"{}System.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}G\+B\+A.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Globals.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Port.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Util.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}N\+L\+S.\+h\char`\"{}}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
{\ttfamily \#include $<$memory.\+h$>$}\newline
R\+T\+C.\+cpp에 대한 include 의존 그래프
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_r_t_c_8cpp__incl}
\end{center}
\end{figure}
\subsection*{클래스}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a}{R\+T\+C\+C\+L\+O\+C\+K\+D\+A\+TA}}
\end{DoxyCompactItemize}
\subsection*{열거형 타입}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367}{R\+T\+C\+S\+T\+A\+TE}} \{ \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367afd6a0e4343048b10646dd2976cc5ad18}{I\+D\+LE}}, 
\mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367ae680fa7eb860abe7832f792cc18a44b4}{C\+O\+M\+M\+A\+ND}}, 
\mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367a9d7d6f31868d66330397c967c4afd2d2}{D\+A\+TA}}, 
\mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367a5ca29dec2db72072b674e37fe9930a39}{R\+E\+A\+D\+D\+A\+TA}}
 \}
\end{DoxyCompactItemize}
\subsection*{함수}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{_r_t_c_8cpp_adeda2e1885e236dfefcf2be3760e6ac1}{rtc\+Enable}} (bool e)
\item 
bool \mbox{\hyperlink{_r_t_c_8cpp_ac4f1fa25d2f9812a2337aba1f69cea9f}{rtc\+Is\+Enabled}} ()
\item 
\mbox{\hyperlink{_system_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} \mbox{\hyperlink{_r_t_c_8cpp_ad77b1ba36cb9281f82259d1a7a4b4c5c}{rtc\+Read}} (\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} address)
\item 
bool \mbox{\hyperlink{_r_t_c_8cpp_af75e3d5b7d6e1a00d1f335c8476de9e7}{rtc\+Write}} (\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} address, \mbox{\hyperlink{_system_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} value)
\item 
void \mbox{\hyperlink{_r_t_c_8cpp_aa2e24dcf7319f95099440c8943cfa7e1}{rtc\+Reset}} ()
\item 
void \mbox{\hyperlink{_r_t_c_8cpp_ad783e9ca6d3653f44f6cff21c7eec47e}{rtc\+Save\+Game}} (gz\+File gz\+File)
\item 
void \mbox{\hyperlink{_r_t_c_8cpp_a16788a471c2a76dc75739132e516a34c}{rtc\+Read\+Game}} (gz\+File gz\+File)
\end{DoxyCompactItemize}


\subsection{열거형 타입 문서화}
\mbox{\Hypertarget{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367}\label{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367}} 
\index{R\+T\+C.\+cpp@{R\+T\+C.\+cpp}!R\+T\+C\+S\+T\+A\+TE@{R\+T\+C\+S\+T\+A\+TE}}
\index{R\+T\+C\+S\+T\+A\+TE@{R\+T\+C\+S\+T\+A\+TE}!R\+T\+C.\+cpp@{R\+T\+C.\+cpp}}
\subsubsection{\texorpdfstring{R\+T\+C\+S\+T\+A\+TE}{RTCSTATE}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367}{R\+T\+C\+S\+T\+A\+TE}}}

\begin{DoxyEnumFields}{열거형 멤버}
\raisebox{\heightof{T}}[0pt][0pt]{\index{I\+D\+LE@{I\+D\+LE}!R\+T\+C.\+cpp@{R\+T\+C.\+cpp}}\index{R\+T\+C.\+cpp@{R\+T\+C.\+cpp}!I\+D\+LE@{I\+D\+LE}}}\mbox{\Hypertarget{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367afd6a0e4343048b10646dd2976cc5ad18}\label{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367afd6a0e4343048b10646dd2976cc5ad18}} 
I\+D\+LE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{C\+O\+M\+M\+A\+ND@{C\+O\+M\+M\+A\+ND}!R\+T\+C.\+cpp@{R\+T\+C.\+cpp}}\index{R\+T\+C.\+cpp@{R\+T\+C.\+cpp}!C\+O\+M\+M\+A\+ND@{C\+O\+M\+M\+A\+ND}}}\mbox{\Hypertarget{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367ae680fa7eb860abe7832f792cc18a44b4}\label{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367ae680fa7eb860abe7832f792cc18a44b4}} 
C\+O\+M\+M\+A\+ND&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{D\+A\+TA@{D\+A\+TA}!R\+T\+C.\+cpp@{R\+T\+C.\+cpp}}\index{R\+T\+C.\+cpp@{R\+T\+C.\+cpp}!D\+A\+TA@{D\+A\+TA}}}\mbox{\Hypertarget{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367a9d7d6f31868d66330397c967c4afd2d2}\label{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367a9d7d6f31868d66330397c967c4afd2d2}} 
D\+A\+TA&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{R\+E\+A\+D\+D\+A\+TA@{R\+E\+A\+D\+D\+A\+TA}!R\+T\+C.\+cpp@{R\+T\+C.\+cpp}}\index{R\+T\+C.\+cpp@{R\+T\+C.\+cpp}!R\+E\+A\+D\+D\+A\+TA@{R\+E\+A\+D\+D\+A\+TA}}}\mbox{\Hypertarget{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367a5ca29dec2db72072b674e37fe9930a39}\label{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367a5ca29dec2db72072b674e37fe9930a39}} 
R\+E\+A\+D\+D\+A\+TA&\\
\hline

\end{DoxyEnumFields}


R\+T\+C.\+cpp 파일의 29 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
29 \{ \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367afd6a0e4343048b10646dd2976cc5ad18}{IDLE}}, \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367ae680fa7eb860abe7832f792cc18a44b4}{COMMAND}}, \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367a9d7d6f31868d66330397c967c4afd2d2}{DATA}}, \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367a5ca29dec2db72072b674e37fe9930a39}{READDATA}} \};
\end{DoxyCode}


\subsection{함수 문서화}
\mbox{\Hypertarget{_r_t_c_8cpp_adeda2e1885e236dfefcf2be3760e6ac1}\label{_r_t_c_8cpp_adeda2e1885e236dfefcf2be3760e6ac1}} 
\index{R\+T\+C.\+cpp@{R\+T\+C.\+cpp}!rtc\+Enable@{rtc\+Enable}}
\index{rtc\+Enable@{rtc\+Enable}!R\+T\+C.\+cpp@{R\+T\+C.\+cpp}}
\subsubsection{\texorpdfstring{rtc\+Enable()}{rtcEnable()}}
{\footnotesize\ttfamily void rtc\+Enable (\begin{DoxyParamCaption}\item[{bool}]{e }\end{DoxyParamCaption})}



R\+T\+C.\+cpp 파일의 49 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
50 \{
51   rtcEnabled = e;
52 \}
\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_r_t_c_8cpp_adeda2e1885e236dfefcf2be3760e6ac1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_r_t_c_8cpp_ac4f1fa25d2f9812a2337aba1f69cea9f}\label{_r_t_c_8cpp_ac4f1fa25d2f9812a2337aba1f69cea9f}} 
\index{R\+T\+C.\+cpp@{R\+T\+C.\+cpp}!rtc\+Is\+Enabled@{rtc\+Is\+Enabled}}
\index{rtc\+Is\+Enabled@{rtc\+Is\+Enabled}!R\+T\+C.\+cpp@{R\+T\+C.\+cpp}}
\subsubsection{\texorpdfstring{rtc\+Is\+Enabled()}{rtcIsEnabled()}}
{\footnotesize\ttfamily bool rtc\+Is\+Enabled (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



R\+T\+C.\+cpp 파일의 54 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
55 \{
56   \textcolor{keywordflow}{return} rtcEnabled;
57 \}
\end{DoxyCode}
\mbox{\Hypertarget{_r_t_c_8cpp_ad77b1ba36cb9281f82259d1a7a4b4c5c}\label{_r_t_c_8cpp_ad77b1ba36cb9281f82259d1a7a4b4c5c}} 
\index{R\+T\+C.\+cpp@{R\+T\+C.\+cpp}!rtc\+Read@{rtc\+Read}}
\index{rtc\+Read@{rtc\+Read}!R\+T\+C.\+cpp@{R\+T\+C.\+cpp}}
\subsubsection{\texorpdfstring{rtc\+Read()}{rtcRead()}}
{\footnotesize\ttfamily \mbox{\hyperlink{_system_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} rtc\+Read (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}}}]{address }\end{DoxyParamCaption})}



R\+T\+C.\+cpp 파일의 59 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
60 \{
61   \textcolor{keywordflow}{if}(rtcEnabled) \{
62     \textcolor{keywordflow}{if}(address == 0x80000c8)
63       \textcolor{keywordflow}{return} rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a35e3e12280a58eeac5fd27e586c9b57a}{byte2}};
64     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(address == 0x80000c6)
65       \textcolor{keywordflow}{return} rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a7e8628728166853bb0c50a22a1071af8}{byte1}};
66     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(address == 0x80000c4) \{
67       \textcolor{keywordflow}{return} rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a6761fe56d94421e4d8a684d2dd0acad3}{byte0}};
68     \}
69   \}
70   
71   \textcolor{keywordflow}{return} \mbox{\hyperlink{_port_8h_aab2636d96a4fed5ce311260a2f48ca73}{READ16LE}}((&\mbox{\hyperlink{_globals_8cpp_adafc6ed627110c42f3893c9783f55320}{rom}}[address & 0x1FFFFFE]));
72 \}
\end{DoxyCode}
\mbox{\Hypertarget{_r_t_c_8cpp_a16788a471c2a76dc75739132e516a34c}\label{_r_t_c_8cpp_a16788a471c2a76dc75739132e516a34c}} 
\index{R\+T\+C.\+cpp@{R\+T\+C.\+cpp}!rtc\+Read\+Game@{rtc\+Read\+Game}}
\index{rtc\+Read\+Game@{rtc\+Read\+Game}!R\+T\+C.\+cpp@{R\+T\+C.\+cpp}}
\subsubsection{\texorpdfstring{rtc\+Read\+Game()}{rtcReadGame()}}
{\footnotesize\ttfamily void rtc\+Read\+Game (\begin{DoxyParamCaption}\item[{gz\+File}]{gz\+File }\end{DoxyParamCaption})}



R\+T\+C.\+cpp 파일의 219 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
220 \{
221   \mbox{\hyperlink{_util_8cpp_a7c3497694953dfa7b0170b41e4b6ce93}{utilGzRead}}(gzFile, &rtcClockData, \textcolor{keyword}{sizeof}(rtcClockData));
222 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=258pt]{_r_t_c_8cpp_a16788a471c2a76dc75739132e516a34c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_r_t_c_8cpp_aa2e24dcf7319f95099440c8943cfa7e1}\label{_r_t_c_8cpp_aa2e24dcf7319f95099440c8943cfa7e1}} 
\index{R\+T\+C.\+cpp@{R\+T\+C.\+cpp}!rtc\+Reset@{rtc\+Reset}}
\index{rtc\+Reset@{rtc\+Reset}!R\+T\+C.\+cpp@{R\+T\+C.\+cpp}}
\subsubsection{\texorpdfstring{rtc\+Reset()}{rtcReset()}}
{\footnotesize\ttfamily void rtc\+Reset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



R\+T\+C.\+cpp 파일의 201 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
202 \{
203   memset(&rtcClockData, 0, \textcolor{keyword}{sizeof}(rtcClockData));
204   
205   rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a6761fe56d94421e4d8a684d2dd0acad3}{byte0}} = 0;
206   rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a7e8628728166853bb0c50a22a1071af8}{byte1}} = 0;
207   rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a35e3e12280a58eeac5fd27e586c9b57a}{byte2}} = 0;
208   rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a911611e39e00cb0cc98cad454768f888}{command}} = 0;
209   rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_ac87f848e9ad2f8d80c19f25c528f9fe8}{dataLen}} = 0;
210   rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a20c0f94e7e275c1d52b18be2886df0df}{bits}} = 0;
211   rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_aff7d87dd71426276629f84e79cf3e77a}{state}} = \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367afd6a0e4343048b10646dd2976cc5ad18}{IDLE}};
212 \}
\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_r_t_c_8cpp_aa2e24dcf7319f95099440c8943cfa7e1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_r_t_c_8cpp_ad783e9ca6d3653f44f6cff21c7eec47e}\label{_r_t_c_8cpp_ad783e9ca6d3653f44f6cff21c7eec47e}} 
\index{R\+T\+C.\+cpp@{R\+T\+C.\+cpp}!rtc\+Save\+Game@{rtc\+Save\+Game}}
\index{rtc\+Save\+Game@{rtc\+Save\+Game}!R\+T\+C.\+cpp@{R\+T\+C.\+cpp}}
\subsubsection{\texorpdfstring{rtc\+Save\+Game()}{rtcSaveGame()}}
{\footnotesize\ttfamily void rtc\+Save\+Game (\begin{DoxyParamCaption}\item[{gz\+File}]{gz\+File }\end{DoxyParamCaption})}



R\+T\+C.\+cpp 파일의 214 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
215 \{
216   \mbox{\hyperlink{_util_8cpp_a0c984fb94b8626c6a105fa293fa73d0e}{utilGzWrite}}(gzFile, &rtcClockData, \textcolor{keyword}{sizeof}(rtcClockData));
217 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=256pt]{_r_t_c_8cpp_ad783e9ca6d3653f44f6cff21c7eec47e_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_r_t_c_8cpp_af75e3d5b7d6e1a00d1f335c8476de9e7}\label{_r_t_c_8cpp_af75e3d5b7d6e1a00d1f335c8476de9e7}} 
\index{R\+T\+C.\+cpp@{R\+T\+C.\+cpp}!rtc\+Write@{rtc\+Write}}
\index{rtc\+Write@{rtc\+Write}!R\+T\+C.\+cpp@{R\+T\+C.\+cpp}}
\subsubsection{\texorpdfstring{rtc\+Write()}{rtcWrite()}}
{\footnotesize\ttfamily bool rtc\+Write (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}}}]{address,  }\item[{\mbox{\hyperlink{_system_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}}}]{value }\end{DoxyParamCaption})}



R\+T\+C.\+cpp 파일의 82 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
83 \{
84   \textcolor{keywordflow}{if}(!rtcEnabled)
85     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
86   
87   \textcolor{keywordflow}{if}(address == 0x80000c8) \{
88     rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a35e3e12280a58eeac5fd27e586c9b57a}{byte2}} = (\mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}})value; \textcolor{comment}{// enable ?}
89   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(address == 0x80000c6) \{
90     rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a7e8628728166853bb0c50a22a1071af8}{byte1}} = (\mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}})value; \textcolor{comment}{// read/write}
91   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(address == 0x80000c4) \{
92     \textcolor{keywordflow}{if}(rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a35e3e12280a58eeac5fd27e586c9b57a}{byte2}} & 1) \{
93       \textcolor{keywordflow}{if}(rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_aff7d87dd71426276629f84e79cf3e77a}{state}} == \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367afd6a0e4343048b10646dd2976cc5ad18}{IDLE}} && rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a6761fe56d94421e4d8a684d2dd0acad3}{byte0}} == 1 && value == 5) \{
94           rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_aff7d87dd71426276629f84e79cf3e77a}{state}} = \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367ae680fa7eb860abe7832f792cc18a44b4}{COMMAND}};
95           rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a20c0f94e7e275c1d52b18be2886df0df}{bits}} = 0;
96           rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a911611e39e00cb0cc98cad454768f888}{command}} = 0;
97       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(!(rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a6761fe56d94421e4d8a684d2dd0acad3}{byte0}} & 1) && (value & 1)) \{ \textcolor{comment}{// bit transfer}
98         rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a6761fe56d94421e4d8a684d2dd0acad3}{byte0}} = (\mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}})value;        
99         \textcolor{keywordflow}{switch}(rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_aff7d87dd71426276629f84e79cf3e77a}{state}}) \{
100         \textcolor{keywordflow}{case} \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367ae680fa7eb860abe7832f792cc18a44b4}{COMMAND}}:
101           rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a911611e39e00cb0cc98cad454768f888}{command}} |= ((value & 2) >> 1) << (7-rtcClockData.
      \mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a20c0f94e7e275c1d52b18be2886df0df}{bits}});
102           rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a20c0f94e7e275c1d52b18be2886df0df}{bits}}++;
103           \textcolor{keywordflow}{if}(rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a20c0f94e7e275c1d52b18be2886df0df}{bits}} == 8) \{
104             rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a20c0f94e7e275c1d52b18be2886df0df}{bits}} = 0;
105             \textcolor{keywordflow}{switch}(rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a911611e39e00cb0cc98cad454768f888}{command}}) \{
106             \textcolor{keywordflow}{case} 0x60:
107               \textcolor{comment}{// not sure what this command does but it doesn't take parameters}
108               \textcolor{comment}{// maybe it is a reset or stop}
109               rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_aff7d87dd71426276629f84e79cf3e77a}{state}} = \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367afd6a0e4343048b10646dd2976cc5ad18}{IDLE}};
110               rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a20c0f94e7e275c1d52b18be2886df0df}{bits}} = 0;
111               \textcolor{keywordflow}{break};
112             \textcolor{keywordflow}{case} 0x62:
113               \textcolor{comment}{// this sets the control state but not sure what those values are}
114               rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_aff7d87dd71426276629f84e79cf3e77a}{state}} = \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367a5ca29dec2db72072b674e37fe9930a39}{READDATA}};
115               rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_ac87f848e9ad2f8d80c19f25c528f9fe8}{dataLen}} = 1;
116               \textcolor{keywordflow}{break};
117             \textcolor{keywordflow}{case} 0x63:
118               rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_ac87f848e9ad2f8d80c19f25c528f9fe8}{dataLen}} = 1;
119               rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a0ba8929e9478b7a19f1d852f1b059ffd}{data}}[0] = 0x40;
120               rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_aff7d87dd71426276629f84e79cf3e77a}{state}} = \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367a9d7d6f31868d66330397c967c4afd2d2}{DATA}};
121               \textcolor{keywordflow}{break};
122             \textcolor{keywordflow}{case} 0x64:
123               \textcolor{keywordflow}{break};
124             \textcolor{keywordflow}{case} 0x65:
125               \{
126                 \textcolor{keyword}{struct }tm *newtime;
127                 time\_t long\_time;
128 
129                 time( &long\_time );                \textcolor{comment}{/* Get time as long integer. */}
130                 newtime = localtime( &long\_time ); \textcolor{comment}{/* Convert to local time. */}
131                 
132                 rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_ac87f848e9ad2f8d80c19f25c528f9fe8}{dataLen}} = 7;
133                 rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a0ba8929e9478b7a19f1d852f1b059ffd}{data}}[0] = toBCD(newtime->tm\_year);
134                 rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a0ba8929e9478b7a19f1d852f1b059ffd}{data}}[1] = toBCD(newtime->tm\_mon+1);
135                 rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a0ba8929e9478b7a19f1d852f1b059ffd}{data}}[2] = toBCD(newtime->tm\_mday);
136                 rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a0ba8929e9478b7a19f1d852f1b059ffd}{data}}[3] = toBCD(newtime->tm\_wday);
137                 rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a0ba8929e9478b7a19f1d852f1b059ffd}{data}}[4] = toBCD(newtime->tm\_hour);
138                 rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a0ba8929e9478b7a19f1d852f1b059ffd}{data}}[5] = toBCD(newtime->tm\_min);
139                 rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a0ba8929e9478b7a19f1d852f1b059ffd}{data}}[6] = toBCD(newtime->tm\_sec);
140                 rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_aff7d87dd71426276629f84e79cf3e77a}{state}} = \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367a9d7d6f31868d66330397c967c4afd2d2}{DATA}};
141               \}
142               \textcolor{keywordflow}{break};              
143             \textcolor{keywordflow}{case} 0x67:
144               \{
145                 \textcolor{keyword}{struct }tm *newtime;
146                 time\_t long\_time;
147 
148                 time( &long\_time );                \textcolor{comment}{/* Get time as long integer. */}
149                 newtime = localtime( &long\_time ); \textcolor{comment}{/* Convert to local time. */}
150                 
151                 rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_ac87f848e9ad2f8d80c19f25c528f9fe8}{dataLen}} = 3;
152                 rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a0ba8929e9478b7a19f1d852f1b059ffd}{data}}[0] = toBCD(newtime->tm\_hour);
153                 rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a0ba8929e9478b7a19f1d852f1b059ffd}{data}}[1] = toBCD(newtime->tm\_min);
154                 rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a0ba8929e9478b7a19f1d852f1b059ffd}{data}}[2] = toBCD(newtime->tm\_sec);
155                 rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_aff7d87dd71426276629f84e79cf3e77a}{state}} = \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367a9d7d6f31868d66330397c967c4afd2d2}{DATA}};
156               \}
157               \textcolor{keywordflow}{break};
158             \textcolor{keywordflow}{default}:
159               \mbox{\hyperlink{system_8cpp_a747a9cb8e015a3d45cca636b5bd0fc69}{systemMessage}}(0, \mbox{\hyperlink{intl_8h_a75278405e7f034d2b1af80bfd94675fe}{N\_}}(\textcolor{stringliteral}{"Unknown RTC command %02x"}), rtcClockData.
      \mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a911611e39e00cb0cc98cad454768f888}{command}});
160               rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_aff7d87dd71426276629f84e79cf3e77a}{state}} = \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367afd6a0e4343048b10646dd2976cc5ad18}{IDLE}};
161               \textcolor{keywordflow}{break};
162             \}
163           \}
164           \textcolor{keywordflow}{break};
165         \textcolor{keywordflow}{case} \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367a9d7d6f31868d66330397c967c4afd2d2}{DATA}}:
166           \textcolor{keywordflow}{if}(rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a7e8628728166853bb0c50a22a1071af8}{byte1}} & 2) \{
167           \} \textcolor{keywordflow}{else} \{
168             rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a6761fe56d94421e4d8a684d2dd0acad3}{byte0}} = (rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a6761fe56d94421e4d8a684d2dd0acad3}{byte0}} & ~2) |
169               ((rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a0ba8929e9478b7a19f1d852f1b059ffd}{data}}[rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a20c0f94e7e275c1d52b18be2886df0df}{bits}} >> 3] >>
170                 (rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a20c0f94e7e275c1d52b18be2886df0df}{bits}} & 7)) & 1)*2;
171             rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a20c0f94e7e275c1d52b18be2886df0df}{bits}}++;
172             \textcolor{keywordflow}{if}(rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a20c0f94e7e275c1d52b18be2886df0df}{bits}} == 8*rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_ac87f848e9ad2f8d80c19f25c528f9fe8}{dataLen}}) \{
173               rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a20c0f94e7e275c1d52b18be2886df0df}{bits}} = 0;
174               rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_aff7d87dd71426276629f84e79cf3e77a}{state}} = \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367afd6a0e4343048b10646dd2976cc5ad18}{IDLE}};
175             \}
176           \}
177           \textcolor{keywordflow}{break};
178         \textcolor{keywordflow}{case} \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367a5ca29dec2db72072b674e37fe9930a39}{READDATA}}:
179           \textcolor{keywordflow}{if}(!(rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a7e8628728166853bb0c50a22a1071af8}{byte1}} & 2)) \{
180           \} \textcolor{keywordflow}{else} \{
181             rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a0ba8929e9478b7a19f1d852f1b059ffd}{data}}[rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a20c0f94e7e275c1d52b18be2886df0df}{bits}} >> 3] =
182               (rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a0ba8929e9478b7a19f1d852f1b059ffd}{data}}[rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a20c0f94e7e275c1d52b18be2886df0df}{bits}} >> 3] >> 1) |
183               ((value << 6) & 128);
184             rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a20c0f94e7e275c1d52b18be2886df0df}{bits}}++;
185             \textcolor{keywordflow}{if}(rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a20c0f94e7e275c1d52b18be2886df0df}{bits}} == 8*rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_ac87f848e9ad2f8d80c19f25c528f9fe8}{dataLen}}) \{
186               rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a20c0f94e7e275c1d52b18be2886df0df}{bits}} = 0;
187               rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_aff7d87dd71426276629f84e79cf3e77a}{state}} = \mbox{\hyperlink{_r_t_c_8cpp_a54e09f92e494a3c69e989df3d1129367afd6a0e4343048b10646dd2976cc5ad18}{IDLE}};
188             \}
189           \}
190           \textcolor{keywordflow}{break};
191         \textcolor{keywordflow}{default}:
192           \textcolor{keywordflow}{break};
193         \}
194       \} \textcolor{keywordflow}{else}
195         rtcClockData.\mbox{\hyperlink{struct_r_t_c_c_l_o_c_k_d_a_t_a_a6761fe56d94421e4d8a684d2dd0acad3}{byte0}} = (\mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}})value;
196     \}
197   \}
198   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
199 \}
\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_r_t_c_8cpp_af75e3d5b7d6e1a00d1f335c8476de9e7_icgraph}
\end{center}
\end{figure}
