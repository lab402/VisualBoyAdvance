\hypertarget{_g_b_8h}{}\section{C\+:/\+Users/sjh13/sources/\+Visual\+Boy\+Advance/src/gb/\+GB.h 파일 참조}
\label{_g_b_8h}\index{C\+:/\+Users/sjh13/sources/\+Visual\+Boy\+Advance/src/gb/\+G\+B.\+h@{C\+:/\+Users/sjh13/sources/\+Visual\+Boy\+Advance/src/gb/\+G\+B.\+h}}
이 그래프는 이 파일을 직/간접적으로 include 하는 파일들을 보여줍니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{클래스}
\begin{DoxyCompactItemize}
\item 
union \mbox{\hyperlink{uniongb_register}{gb\+Register}}
\end{DoxyCompactItemize}
\subsection*{매크로}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{_g_b_8h_aa29c80f7f7f901ec7a2c57887f56585d}{C\+\_\+\+F\+L\+AG}}~0x10
\item 
\#define \mbox{\hyperlink{_g_b_8h_abb182b0bdbed48570d905d7f5ee90849}{H\+\_\+\+F\+L\+AG}}~0x20
\item 
\#define \mbox{\hyperlink{_g_b_8h_a6de466ba75c7d109f8efb7598c10047f}{N\+\_\+\+F\+L\+AG}}~0x40
\item 
\#define \mbox{\hyperlink{_g_b_8h_a53a7db1c6b43d8626d6fb547dc2cc1cb}{Z\+\_\+\+F\+L\+AG}}~0x80
\end{DoxyCompactItemize}
\subsection*{함수}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{_g_b_8h_a48e969accbc9331054f8c83e76f9c846}{gb\+Load\+Rom}} (\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$)
\item 
void \mbox{\hyperlink{_g_b_8h_ad61e0a4cf5a6e1f6bfda43f9e2a67826}{gb\+Emulate}} (\mbox{\hyperlink{_util_8cpp_a0ef32aa8672df19503a49fab2d0c8071}{int}})
\item 
void \mbox{\hyperlink{_g_b_8h_a157c79a0dc4e8fc437f796e71c05b9ba}{gb\+Write\+Memory}} (register \mbox{\hyperlink{_system_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}}, register \mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}})
\item 
void \mbox{\hyperlink{_g_b_8h_a56a5a87fcb903edecc9dd1f53cd1fd4b}{gb\+Draw\+Line}} ()
\item 
bool \mbox{\hyperlink{_g_b_8h_af00d6ca488541088d207841b4d173cee}{gb\+Is\+Gameboy\+Rom}} (\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$)
\item 
void \mbox{\hyperlink{_g_b_8h_aa86b9ce126dc3c399fc94443164c0d98}{gb\+Sound\+Reset}} ()
\item 
void \mbox{\hyperlink{_g_b_8h_a86ed9a5e6bb5230a501d753280690618}{gb\+Sound\+Set\+Quality}} (\mbox{\hyperlink{_util_8cpp_a0ef32aa8672df19503a49fab2d0c8071}{int}})
\item 
void \mbox{\hyperlink{_g_b_8h_ad725bcd0342924fc011fbe07e6e42ce5}{gb\+Get\+Hardware\+Type}} ()
\item 
void \mbox{\hyperlink{_g_b_8h_a9447f508d6d45a49df2ce7619650a6de}{gb\+Reset}} ()
\item 
void \mbox{\hyperlink{_g_b_8h_aeedaf159770f49925b2908103eb86cc6}{gb\+Clean\+Up}} ()
\item 
void \mbox{\hyperlink{_g_b_8h_a5e645062607f54a34f3ec0642db2d79c}{gb\+C\+P\+U\+Init}} (\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$, bool)
\item 
bool \mbox{\hyperlink{_g_b_8h_aad488d5639e18bd991669476a3a7d71a}{gb\+Write\+Battery\+File}} (\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$)
\item 
bool \mbox{\hyperlink{_g_b_8h_a9389fdc85e3522a778e41a7004490282}{gb\+Write\+Battery\+File}} (\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$, bool)
\item 
bool \mbox{\hyperlink{_g_b_8h_a62c7f9b21cc8e3abb19b92bb58706d73}{gb\+Read\+Battery\+File}} (\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$)
\item 
bool \mbox{\hyperlink{_g_b_8h_a16f5ced9f16fed81202b78f8b6ec0874}{gb\+Write\+Save\+State}} (\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$)
\item 
bool \mbox{\hyperlink{_g_b_8h_abf83eaea4927776c4d4e4e70720515eb}{gb\+Write\+Mem\+Save\+State}} (char $\ast$, \mbox{\hyperlink{_util_8cpp_a0ef32aa8672df19503a49fab2d0c8071}{int}})
\item 
bool \mbox{\hyperlink{_g_b_8h_a98ecfffcfe8ea60c1dd0f8a8342f90fd}{gb\+Read\+Save\+State}} (\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$)
\item 
bool \mbox{\hyperlink{_g_b_8h_a0da167f7d0a43c90028ac9e39527c6f0}{gb\+Read\+Mem\+Save\+State}} (char $\ast$, \mbox{\hyperlink{_util_8cpp_a0ef32aa8672df19503a49fab2d0c8071}{int}})
\item 
void \mbox{\hyperlink{_g_b_8h_af317983dce6743159185981f1f84e782}{gb\+Sgb\+Render\+Border}} ()
\item 
bool \mbox{\hyperlink{_g_b_8h_a0c59c2c9bf1b5742e5b5d4eb58ac5357}{gb\+Write\+P\+N\+G\+File}} (\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$)
\item 
bool \mbox{\hyperlink{_g_b_8h_adcfcf660500998b314139045d4067e8d}{gb\+Write\+B\+M\+P\+File}} (\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$)
\item 
bool \mbox{\hyperlink{_g_b_8h_a537f2e73fde869ac2911162699b8f2da}{gb\+Read\+G\+S\+A\+Snapshot}} (\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$)
\end{DoxyCompactItemize}
\subsection*{변수}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_emulated_system}{Emulated\+System}} \mbox{\hyperlink{_g_b_8h_a4b388379bafe0e6ea2e7b57486ffa929}{G\+B\+System}}
\end{DoxyCompactItemize}


\subsection{매크로 문서화}
\mbox{\Hypertarget{_g_b_8h_aa29c80f7f7f901ec7a2c57887f56585d}\label{_g_b_8h_aa29c80f7f7f901ec7a2c57887f56585d}} 
\index{G\+B.\+h@{G\+B.\+h}!C\+\_\+\+F\+L\+AG@{C\+\_\+\+F\+L\+AG}}
\index{C\+\_\+\+F\+L\+AG@{C\+\_\+\+F\+L\+AG}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{C\+\_\+\+F\+L\+AG}{C\_FLAG}}
{\footnotesize\ttfamily \#define C\+\_\+\+F\+L\+AG~0x10}



G\+B.\+h 파일의 23 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_g_b_8h_abb182b0bdbed48570d905d7f5ee90849}\label{_g_b_8h_abb182b0bdbed48570d905d7f5ee90849}} 
\index{G\+B.\+h@{G\+B.\+h}!H\+\_\+\+F\+L\+AG@{H\+\_\+\+F\+L\+AG}}
\index{H\+\_\+\+F\+L\+AG@{H\+\_\+\+F\+L\+AG}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{H\+\_\+\+F\+L\+AG}{H\_FLAG}}
{\footnotesize\ttfamily \#define H\+\_\+\+F\+L\+AG~0x20}



G\+B.\+h 파일의 24 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_g_b_8h_a6de466ba75c7d109f8efb7598c10047f}\label{_g_b_8h_a6de466ba75c7d109f8efb7598c10047f}} 
\index{G\+B.\+h@{G\+B.\+h}!N\+\_\+\+F\+L\+AG@{N\+\_\+\+F\+L\+AG}}
\index{N\+\_\+\+F\+L\+AG@{N\+\_\+\+F\+L\+AG}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{N\+\_\+\+F\+L\+AG}{N\_FLAG}}
{\footnotesize\ttfamily \#define N\+\_\+\+F\+L\+AG~0x40}



G\+B.\+h 파일의 25 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_g_b_8h_a53a7db1c6b43d8626d6fb547dc2cc1cb}\label{_g_b_8h_a53a7db1c6b43d8626d6fb547dc2cc1cb}} 
\index{G\+B.\+h@{G\+B.\+h}!Z\+\_\+\+F\+L\+AG@{Z\+\_\+\+F\+L\+AG}}
\index{Z\+\_\+\+F\+L\+AG@{Z\+\_\+\+F\+L\+AG}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{Z\+\_\+\+F\+L\+AG}{Z\_FLAG}}
{\footnotesize\ttfamily \#define Z\+\_\+\+F\+L\+AG~0x80}



G\+B.\+h 파일의 26 번째 라인에서 정의되었습니다.



\subsection{함수 문서화}
\mbox{\Hypertarget{_g_b_8h_aeedaf159770f49925b2908103eb86cc6}\label{_g_b_8h_aeedaf159770f49925b2908103eb86cc6}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Clean\+Up@{gb\+Clean\+Up}}
\index{gb\+Clean\+Up@{gb\+Clean\+Up}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Clean\+Up()}{gbCleanUp()}}
{\footnotesize\ttfamily void gb\+Clean\+Up (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



G\+B.\+cpp 파일의 3980 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3981 \{
3982   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_a5e89477379c5d2241d53357a34219750}{gbRam}} != \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) \{
3983     free(\mbox{\hyperlink{gb_globals_8cpp_a5e89477379c5d2241d53357a34219750}{gbRam}});
3984     \mbox{\hyperlink{gb_globals_8cpp_a5e89477379c5d2241d53357a34219750}{gbRam}} = \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};
3985   \}
3986 
3987   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_ae4f6bd8162474dbcfdbc54c36d7f5695}{gbRom}} != \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) \{
3988     free(\mbox{\hyperlink{gb_globals_8cpp_ae4f6bd8162474dbcfdbc54c36d7f5695}{gbRom}});
3989     \mbox{\hyperlink{gb_globals_8cpp_ae4f6bd8162474dbcfdbc54c36d7f5695}{gbRom}} = \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};
3990   \}
3991 
3992   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}} != \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) \{
3993     free(\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}});
3994     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}} = \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};
3995   \}
3996 
3997   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_a28491355be3715000cb2fea27dc567d0}{gbLineBuffer}} != \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) \{
3998     free(\mbox{\hyperlink{gb_globals_8cpp_a28491355be3715000cb2fea27dc567d0}{gbLineBuffer}});
3999     \mbox{\hyperlink{gb_globals_8cpp_a28491355be3715000cb2fea27dc567d0}{gbLineBuffer}} = \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};
4000   \}
4001 
4002   \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a5ee6554b606dcde59ac92578b33776d0}{pix}} != \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) \{
4003     free(\mbox{\hyperlink{_g_b_8cpp_a5ee6554b606dcde59ac92578b33776d0}{pix}});
4004     \mbox{\hyperlink{_g_b_8cpp_a5ee6554b606dcde59ac92578b33776d0}{pix}} = \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};
4005   \}
4006   
4007   \mbox{\hyperlink{gb_s_g_b_8cpp_a8824c9c19e1b820e61fedfaaefbdde3a}{gbSgbShutdown}}();
4008   
4009   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_acc4cae98f0f9473610870333741081e9}{gbVram}} != \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) \{
4010     free(\mbox{\hyperlink{gb_globals_8cpp_acc4cae98f0f9473610870333741081e9}{gbVram}});
4011     \mbox{\hyperlink{gb_globals_8cpp_acc4cae98f0f9473610870333741081e9}{gbVram}} = \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};
4012   \}
4013 
4014   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_a8cedc409ffccdcaeae687da92d986004}{gbWram}} != \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) \{
4015     free(\mbox{\hyperlink{gb_globals_8cpp_a8cedc409ffccdcaeae687da92d986004}{gbWram}});
4016     \mbox{\hyperlink{gb_globals_8cpp_a8cedc409ffccdcaeae687da92d986004}{gbWram}} = \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};
4017   \}
4018 
4019   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_ac5ebc7d3480a46e3d5b2edeeac32681e}{gbTAMA5ram}} != \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) \{
4020     free(\mbox{\hyperlink{gb_globals_8cpp_ac5ebc7d3480a46e3d5b2edeeac32681e}{gbTAMA5ram}});
4021     \mbox{\hyperlink{gb_globals_8cpp_ac5ebc7d3480a46e3d5b2edeeac32681e}{gbTAMA5ram}} = \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};
4022   \}
4023 
4024   \mbox{\hyperlink{system_8cpp_a2f706b3379eaffa6beb045c711a2102c}{systemSaveUpdateCounter}} = \mbox{\hyperlink{_system_8h_a84a7ba498ccb75cd12b84b881d4d2db3}{SYSTEM\_SAVE\_NOT\_UPDATED}};
4025 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=267pt]{_g_b_8h_aeedaf159770f49925b2908103eb86cc6_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_aeedaf159770f49925b2908103eb86cc6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_g_b_8h_a5e645062607f54a34f3ec0642db2d79c}\label{_g_b_8h_a5e645062607f54a34f3ec0642db2d79c}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+C\+P\+U\+Init@{gb\+C\+P\+U\+Init}}
\index{gb\+C\+P\+U\+Init@{gb\+C\+P\+U\+Init}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+C\+P\+U\+Init()}{gbCPUInit()}}
{\footnotesize\ttfamily void gb\+C\+P\+U\+Init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$}]{,  }\item[{bool}]{ }\end{DoxyParamCaption})}



G\+B.\+cpp 파일의 2110 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2111 \{
2112   \mbox{\hyperlink{gb_globals_8h_ac2e7c0a19c3be95f9226870ca6875c8b}{useBios}} = \textcolor{keyword}{false};
2113   \textcolor{keywordflow}{if} (useBiosFile)
2114   \{
2115     \textcolor{keywordtype}{int} \mbox{\hyperlink{expr-lex_8cpp_ab7d671599a7b25ca99a487fa341bc33a}{size}} = 0x100;
2116     \textcolor{keywordflow}{if}(\mbox{\hyperlink{_util_8cpp_af7926682aa796c66a08af379d2f12e54}{utilLoad}}(\mbox{\hyperlink{_s_d_l_8cpp_a988fd389114c7a123c3222c1f79f5008}{biosFileName}},
2117                 \mbox{\hyperlink{_g_b_8cpp_a9b5c62f7235ed0912c72d515fef1f4b6}{CPUIsGBBios}},
2118                 \mbox{\hyperlink{gb_globals_8h_aec268401eba88422e56ca0a7a86cb991}{bios}},
2119                 \mbox{\hyperlink{expr-lex_8cpp_ab7d671599a7b25ca99a487fa341bc33a}{size}})) \{
2120       \textcolor{keywordflow}{if}(\mbox{\hyperlink{expr-lex_8cpp_ab7d671599a7b25ca99a487fa341bc33a}{size}} == 0x100)
2121         \mbox{\hyperlink{gb_globals_8h_ac2e7c0a19c3be95f9226870ca6875c8b}{useBios}} = \textcolor{keyword}{true};
2122       \textcolor{keywordflow}{else}
2123         \mbox{\hyperlink{system_8cpp_a747a9cb8e015a3d45cca636b5bd0fc69}{systemMessage}}(\mbox{\hyperlink{_n_l_s_8h_a8b04a47fe622c0455c5283eef881415d}{MSG\_INVALID\_BIOS\_FILE\_SIZE}}, 
      \mbox{\hyperlink{intl_8h_a75278405e7f034d2b1af80bfd94675fe}{N\_}}(\textcolor{stringliteral}{"Invalid BOOTROM file size"}));
2124     \}
2125   \}
2126 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_a5e645062607f54a34f3ec0642db2d79c_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_a5e645062607f54a34f3ec0642db2d79c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_g_b_8h_a56a5a87fcb903edecc9dd1f53cd1fd4b}\label{_g_b_8h_a56a5a87fcb903edecc9dd1f53cd1fd4b}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Draw\+Line@{gb\+Draw\+Line}}
\index{gb\+Draw\+Line@{gb\+Draw\+Line}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Draw\+Line()}{gbDrawLine()}}
{\footnotesize\ttfamily void gb\+Draw\+Line (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



G\+B.\+cpp 파일의 4324 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4325 \{
4326   \textcolor{keywordflow}{switch}(\mbox{\hyperlink{system_8cpp_adaf454a4617a00b5cfed14c203ab6efa}{systemColorDepth}}) \{
4327     \textcolor{keywordflow}{case} 16:
4328     \{
4329       \mbox{\hyperlink{_system_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} * dest = (\mbox{\hyperlink{_system_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} *)\mbox{\hyperlink{_g_b_8cpp_a5ee6554b606dcde59ac92578b33776d0}{pix}} +
4330                    (\mbox{\hyperlink{gb_globals_8cpp_a339d3ea261c09a3d8f8b3912b72dc11a}{gbBorderLineSkip}}+2) * (\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} + 
      \mbox{\hyperlink{gb_globals_8cpp_a7706b8196f64bb526165a1e3db04adb3}{gbBorderRowSkip}}+1)
4331                    + \mbox{\hyperlink{gb_globals_8cpp_a94f76528fdae3fc266629ff515fe0fc4}{gbBorderColumnSkip}};
4332       \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} x = 0; x < 160; ) \{
4333         *dest++ = \mbox{\hyperlink{system_8cpp_a185e030efe12f16a3cdf8e461bb9163b}{systemColorMap16}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4334         *dest++ = \mbox{\hyperlink{system_8cpp_a185e030efe12f16a3cdf8e461bb9163b}{systemColorMap16}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4335         *dest++ = \mbox{\hyperlink{system_8cpp_a185e030efe12f16a3cdf8e461bb9163b}{systemColorMap16}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4336         *dest++ = \mbox{\hyperlink{system_8cpp_a185e030efe12f16a3cdf8e461bb9163b}{systemColorMap16}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4337         
4338         *dest++ = \mbox{\hyperlink{system_8cpp_a185e030efe12f16a3cdf8e461bb9163b}{systemColorMap16}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4339         *dest++ = \mbox{\hyperlink{system_8cpp_a185e030efe12f16a3cdf8e461bb9163b}{systemColorMap16}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4340         *dest++ = \mbox{\hyperlink{system_8cpp_a185e030efe12f16a3cdf8e461bb9163b}{systemColorMap16}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4341         *dest++ = \mbox{\hyperlink{system_8cpp_a185e030efe12f16a3cdf8e461bb9163b}{systemColorMap16}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4342         
4343         *dest++ = \mbox{\hyperlink{system_8cpp_a185e030efe12f16a3cdf8e461bb9163b}{systemColorMap16}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4344         *dest++ = \mbox{\hyperlink{system_8cpp_a185e030efe12f16a3cdf8e461bb9163b}{systemColorMap16}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4345         *dest++ = \mbox{\hyperlink{system_8cpp_a185e030efe12f16a3cdf8e461bb9163b}{systemColorMap16}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4346         *dest++ = \mbox{\hyperlink{system_8cpp_a185e030efe12f16a3cdf8e461bb9163b}{systemColorMap16}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4347         
4348         *dest++ = \mbox{\hyperlink{system_8cpp_a185e030efe12f16a3cdf8e461bb9163b}{systemColorMap16}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4349         *dest++ = \mbox{\hyperlink{system_8cpp_a185e030efe12f16a3cdf8e461bb9163b}{systemColorMap16}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4350         *dest++ = \mbox{\hyperlink{system_8cpp_a185e030efe12f16a3cdf8e461bb9163b}{systemColorMap16}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4351         *dest++ = \mbox{\hyperlink{system_8cpp_a185e030efe12f16a3cdf8e461bb9163b}{systemColorMap16}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4352       \}
4353       \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_a4700c36a68a6b63f7c2e91756a250cd2}{gbBorderOn}})
4354         dest += \mbox{\hyperlink{gb_globals_8cpp_a94f76528fdae3fc266629ff515fe0fc4}{gbBorderColumnSkip}};
4355         *dest++ = 0; \textcolor{comment}{// for filters that read one pixel more}
4356     \}
4357     \textcolor{keywordflow}{break};
4358 
4359     \textcolor{keywordflow}{case} 24:
4360     \{
4361       \mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} *dest = (\mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} *)\mbox{\hyperlink{_g_b_8cpp_a5ee6554b606dcde59ac92578b33776d0}{pix}} +
4362                  3*(\mbox{\hyperlink{gb_globals_8cpp_a339d3ea261c09a3d8f8b3912b72dc11a}{gbBorderLineSkip}} * (\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} + 
      \mbox{\hyperlink{gb_globals_8cpp_a7706b8196f64bb526165a1e3db04adb3}{gbBorderRowSkip}}) +
4363                  \mbox{\hyperlink{gb_globals_8cpp_a94f76528fdae3fc266629ff515fe0fc4}{gbBorderColumnSkip}});
4364       \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} x = 0; x < 160;) \{
4365         *((\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} *)dest) = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4366         dest+= 3;
4367         *((\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} *)dest) = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4368         dest+= 3;
4369         *((\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} *)dest) = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4370         dest+= 3;
4371         *((\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} *)dest) = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4372         dest+= 3;
4373         
4374         *((\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} *)dest) = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4375         dest+= 3;
4376         *((\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} *)dest) = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4377         dest+= 3;
4378         *((\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} *)dest) = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4379         dest+= 3;
4380         *((\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} *)dest) = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4381         dest+= 3;
4382         
4383         *((\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} *)dest) = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4384         dest+= 3;
4385         *((\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} *)dest) = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4386         dest+= 3;
4387         *((\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} *)dest) = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4388         dest+= 3;
4389         *((\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} *)dest) = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4390         dest+= 3;
4391         
4392         *((\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} *)dest) = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4393         dest+= 3;
4394         *((\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} *)dest) = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4395         dest+= 3;
4396         *((\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} *)dest) = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4397         dest+= 3;
4398         *((\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} *)dest) = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4399         dest+= 3;
4400       \}
4401     \}
4402     \textcolor{keywordflow}{break};
4403 
4404     \textcolor{keywordflow}{case} 32:
4405     \{
4406       \mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} * dest = (\mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} *)\mbox{\hyperlink{_g_b_8cpp_a5ee6554b606dcde59ac92578b33776d0}{pix}} +
4407                    (\mbox{\hyperlink{gb_globals_8cpp_a339d3ea261c09a3d8f8b3912b72dc11a}{gbBorderLineSkip}}+1) * (\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} + 
      \mbox{\hyperlink{gb_globals_8cpp_a7706b8196f64bb526165a1e3db04adb3}{gbBorderRowSkip}}+1)
4408                    + \mbox{\hyperlink{gb_globals_8cpp_a94f76528fdae3fc266629ff515fe0fc4}{gbBorderColumnSkip}};
4409       \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} x = 0; x < 160;) \{
4410         *dest++ = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4411         *dest++ = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4412         *dest++ = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4413         *dest++ = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4414         
4415         *dest++ = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4416         *dest++ = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4417         *dest++ = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4418         *dest++ = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4419         
4420         *dest++ = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4421         *dest++ = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4422         *dest++ = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4423         *dest++ = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4424         
4425         *dest++ = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4426         *dest++ = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4427         *dest++ = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4428         *dest++ = \mbox{\hyperlink{system_8cpp_a6b26bbc05fe4abed7788e2ad283fed11}{systemColorMap32}}[\mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[x++]];
4429       \}
4430     \}
4431     \textcolor{keywordflow}{break};
4432   \}
4433 \}
\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_a56a5a87fcb903edecc9dd1f53cd1fd4b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_g_b_8h_ad61e0a4cf5a6e1f6bfda43f9e2a67826}\label{_g_b_8h_ad61e0a4cf5a6e1f6bfda43f9e2a67826}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Emulate@{gb\+Emulate}}
\index{gb\+Emulate@{gb\+Emulate}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Emulate()}{gbEmulate()}}
{\footnotesize\ttfamily void gb\+Emulate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_util_8cpp_a0ef32aa8672df19503a49fab2d0c8071}{int}}}]{ }\end{DoxyParamCaption})}



G\+B.\+cpp 파일의 4435 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4436 \{
4437   \mbox{\hyperlink{uniongb_register}{gbRegister}} tempRegister;
4438   \mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} \mbox{\hyperlink{gb_codes_c_b_8h_a0296b1af8dcf69f9ea7fd4afc97bf75f}{tempValue}};
4439   \mbox{\hyperlink{_system_8h_a151f780fb455885061d3b77ec1c90c03}{s8}} offset;
4440   
4441   \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}} = 0;
4442   \mbox{\hyperlink{gb_globals_8cpp_a5c69b801c0be4a12f58244736b806097}{gbDmaTicks}} = 0;
4443 
4444   \textcolor{keyword}{register} \textcolor{keywordtype}{int} \mbox{\hyperlink{arm-new_8h_a4fc220098f4b9d0e039a28274d05c198}{opcode}} = 0;
4445 
4446   \textcolor{keywordtype}{int} opcode1 = 0;
4447   \textcolor{keywordtype}{int} opcode2 = 0;
4448   \textcolor{keywordtype}{bool} execute = \textcolor{keyword}{false};
4449   
4450   \textcolor{keywordflow}{while}(1) \{
4451 \textcolor{preprocessor}{#ifndef FINAL\_VERSION}
4452     \textcolor{keywordflow}{if}(\mbox{\hyperlink{system_8cpp_afa60dd2422feecb4839acdc9648ed783}{systemDebug}}) \{
4453       \textcolor{keywordflow}{if}(!(\mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} & 0x80)) \{
4454         \textcolor{keywordflow}{if}(\mbox{\hyperlink{system_8cpp_afa60dd2422feecb4839acdc9648ed783}{systemDebug}} > 1) \{
4455           sprintf(\mbox{\hyperlink{_g_b_8cpp_aefd75c2f949957113cc447fc27d0fa81}{gbBuffer}},\textcolor{stringliteral}{"PC=%04x AF=%04x BC=%04x DE=%04x HL=%04x SP=%04x I=%04x\(\backslash\)n"},
4456                    \mbox{\hyperlink{_g_b_8cpp_abc78e2e4c6db630eeae9741c27e9bda3}{PC}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}}, \mbox{\hyperlink{_g_b_8cpp_adbdbabf733f29a8d90be3a45b89db300}{AF}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}}, \mbox{\hyperlink{_g_b_8cpp_a7d5b0176171a95aaf6a5883fcfe15e73}{BC}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}}, \mbox{\hyperlink{_g_b_8cpp_a7ef08d5336cc8f5a93c110c771ba850d}{DE}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}},\mbox{\hyperlink{_g_b_8cpp_a764b6d6d468edba273b26b27618a1f5e}{HL}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}},\mbox{\hyperlink{_g_b_8cpp_ae227d31e10437c2c514b176a640233ee}{SP}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}},\mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}});
4457         \} \textcolor{keywordflow}{else} \{
4458           sprintf(\mbox{\hyperlink{_g_b_8cpp_aefd75c2f949957113cc447fc27d0fa81}{gbBuffer}},\textcolor{stringliteral}{"PC=%04x I=%02x\(\backslash\)n"}, \mbox{\hyperlink{_g_b_8cpp_abc78e2e4c6db630eeae9741c27e9bda3}{PC}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}}, \mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}});
4459         \}
4460         \mbox{\hyperlink{_system_8h_a030b0efa526d082f69e842cc48dff885}{log}}(\mbox{\hyperlink{_g_b_8cpp_aefd75c2f949957113cc447fc27d0fa81}{gbBuffer}});
4461       \}
4462     \}
4463 \textcolor{preprocessor}{#endif}
4464 
4465     \mbox{\hyperlink{_system_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} oldPCW = \mbox{\hyperlink{_g_b_8cpp_abc78e2e4c6db630eeae9741c27e9bda3}{PC}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}};
4466 
4467     \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} & 0x80) \{
4468       \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_af18da9d87d0d4a930844db59eef99432}{register\_LCDC}} & 0x80) \{
4469           \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}} = \mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}};
4470       \} \textcolor{keywordflow}{else}
4471         \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}} = 1000;
4472 
4473       \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}} = \mbox{\hyperlink{_g_b_8cpp_a115aea0bc8f44c18c7b9c9e1b4d0c71e}{gbGetNextEvent}}(\mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}});
4474 
4475       \textcolor{comment}{/*if(gbLcdTicksDelayed < clockTicks)}
4476 \textcolor{comment}{        clockTicks = gbLcdTicksDelayed;}
4477 \textcolor{comment}{}
4478 \textcolor{comment}{      if(gbLcdLYIncrementTicksDelayed < clockTicks)}
4479 \textcolor{comment}{        clockTicks = gbLcdLYIncrementTicksDelayed;}
4480 \textcolor{comment}{}
4481 \textcolor{comment}{      if(gbLcdLYIncrementTicks < clockTicks)}
4482 \textcolor{comment}{        clockTicks = gbLcdLYIncrementTicks;}
4483 \textcolor{comment}{}
4484 \textcolor{comment}{      if(gbSerialOn && (gbSerialTicks < clockTicks))}
4485 \textcolor{comment}{        clockTicks = gbSerialTicks;}
4486 \textcolor{comment}{}
4487 \textcolor{comment}{      if(gbTimerOn && (((gbInternalTimer) & gbTimerMask[gbTimerMode])+1 < clockTicks))}
4488 \textcolor{comment}{        clockTicks = ((gbInternalTimer) & gbTimerMask[gbTimerMode])+1;}
4489 \textcolor{comment}{}
4490 \textcolor{comment}{      if(soundTicks && (soundTicks < clockTicks))}
4491 \textcolor{comment}{        clockTicks = soundTicks;}
4492 \textcolor{comment}{}
4493 \textcolor{comment}{      if ((clockTicks<=0) || (gbInterruptWait))}
4494 \textcolor{comment}{          clockTicks = 1;*/}
4495       
4496     \} \textcolor{keywordflow}{else} \{
4497 
4498       \textcolor{comment}{// First we apply the clockTicks, then we execute the opcodes.}
4499       opcode1 = 0;
4500       opcode2 = 0;
4501       execute = \textcolor{keyword}{true};
4502 
4503       opcode2 = opcode1 = \mbox{\hyperlink{arm-new_8h_a4fc220098f4b9d0e039a28274d05c198}{opcode}} = \mbox{\hyperlink{_g_b_8cpp_a8f4804edd2db0b8180ef4585dff85f48}{gbReadOpcode}}(\mbox{\hyperlink{_g_b_8cpp_abc78e2e4c6db630eeae9741c27e9bda3}{PC}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}}++);
4504 
4505       \textcolor{comment}{// If HALT state was launched while IME = 0 and (register\_IF & register\_IE & 0x1F),}
4506       \textcolor{comment}{// PC.W is not incremented for the first byte of the next instruction.}
4507       \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} & 2)
4508       \{
4509         \mbox{\hyperlink{_g_b_8cpp_abc78e2e4c6db630eeae9741c27e9bda3}{PC}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}}--;
4510         \mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} &= ~2;
4511       \}
4512       
4513       \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}} = \mbox{\hyperlink{_g_b_8cpp_a7c55868c1d64d6a01250deb3eb381faa}{gbCycles}}[\mbox{\hyperlink{arm-new_8h_a4fc220098f4b9d0e039a28274d05c198}{opcode}}];
4514       
4515       \textcolor{keywordflow}{switch}(\mbox{\hyperlink{arm-new_8h_a4fc220098f4b9d0e039a28274d05c198}{opcode}}) \{
4516       \textcolor{keywordflow}{case} 0xCB:
4517         \textcolor{comment}{// extended opcode}
4518         opcode2 = \mbox{\hyperlink{arm-new_8h_a4fc220098f4b9d0e039a28274d05c198}{opcode}} = \mbox{\hyperlink{_g_b_8cpp_a8f4804edd2db0b8180ef4585dff85f48}{gbReadOpcode}}(\mbox{\hyperlink{_g_b_8cpp_abc78e2e4c6db630eeae9741c27e9bda3}{PC}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}}++);
4519         \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}} = \mbox{\hyperlink{_g_b_8cpp_a36c12d3dc9b4349a9fd68c855a94a494}{gbCyclesCB}}[\mbox{\hyperlink{arm-new_8h_a4fc220098f4b9d0e039a28274d05c198}{opcode}}];
4520         \textcolor{keywordflow}{break}; 
4521       \}
4522       \mbox{\hyperlink{_g_b_8cpp_a95d90926e3997e83afac1125e6c4f1a3}{gbOldClockTicks}} = \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}}-1;
4523       \mbox{\hyperlink{_g_b_8cpp_a16ce6d87091693def4744c61d73482af}{gbIntBreak}} = 1;
4524     \}
4525 
4526 
4527     \textcolor{keywordflow}{if}(!\mbox{\hyperlink{gb_globals_8h_af9cc36078b1b311753963297ae7f2a74}{emulating}})
4528       \textcolor{keywordflow}{return};
4529 
4530     \textcolor{comment}{// For 'breakpoint' support (opcode 0xFC is considered as a breakpoint)}
4531     \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}}==0) && execute)
4532     \{
4533       \mbox{\hyperlink{_g_b_8cpp_abc78e2e4c6db630eeae9741c27e9bda3}{PC}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}} = oldPCW;
4534       \textcolor{keywordflow}{return};
4535     \}
4536 
4537 
4538     \textcolor{keywordflow}{if} (!(\mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} & 0x80))
4539       \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}} = 1;
4540 
4541     gbRedoLoop:
4542 
4543 
4544 
4545     \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a7f28a7d19b1ffde812b67a444c46ad26}{gbInterruptWait}})
4546       \mbox{\hyperlink{_g_b_8cpp_a7f28a7d19b1ffde812b67a444c46ad26}{gbInterruptWait}} = 0;
4547     \textcolor{keywordflow}{else}
4548       \mbox{\hyperlink{_g_b_8cpp_a413abd6bf283ad6ba31ebe12e13083ab}{gbInterruptLaunched}} = 0;
4549 
4550 
4551     \textcolor{comment}{// Used for the EI/DI instruction's delay.}
4552     \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} & 0x38)
4553     \{
4554         \textcolor{keywordtype}{int} tempIFF = (\mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} >> 4) & 3;
4555             
4556         \textcolor{keywordflow}{if} (tempIFF <=\mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}})
4557         \{
4558             tempIFF = 0;
4559             \mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} |=1;
4560         \}
4561         \textcolor{keywordflow}{else}
4562           tempIFF -= \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}};
4563         \mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} = (\mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} & 0xCF) | (tempIFF <<4);
4564 
4565         \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} & 0x08)
4566           \mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} &= 0x82;
4567     \}
4568 
4569 
4570     \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_adc3de5d9e717dd87fe6b58a696449dcd}{register\_LCDCBusy}})
4571     \{
4572       \mbox{\hyperlink{_g_b_8cpp_adc3de5d9e717dd87fe6b58a696449dcd}{register\_LCDCBusy}}-=\mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}};
4573       \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_adc3de5d9e717dd87fe6b58a696449dcd}{register\_LCDCBusy}}<0)
4574         \mbox{\hyperlink{_g_b_8cpp_adc3de5d9e717dd87fe6b58a696449dcd}{register\_LCDCBusy}} = 0;
4575     \}
4576 
4577 
4578     \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8h_aade6a7bab8d45119651cd9e8103d2cf8}{gbSgbMode}}) \{
4579       \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_s_g_b_8cpp_aa70d50fe11b7f737cf60ba78ccbacd18}{gbSgbPacketTimeout}}) \{
4580         \mbox{\hyperlink{gb_s_g_b_8cpp_aa70d50fe11b7f737cf60ba78ccbacd18}{gbSgbPacketTimeout}} -= \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}};
4581         
4582         \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_s_g_b_8cpp_aa70d50fe11b7f737cf60ba78ccbacd18}{gbSgbPacketTimeout}} <= 0)
4583           \mbox{\hyperlink{gb_s_g_b_8cpp_a01ebaeb0414de527d7b3ef9285e5b7ef}{gbSgbResetPacketState}}();
4584       \}
4585     \}
4586     
4587     ticksToStop -= \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}};
4588     
4589     \textcolor{comment}{// DIV register emulation}
4590     \mbox{\hyperlink{_g_b_8cpp_a8cad8181524ac81a7b88ca97e91cb806}{gbDivTicks}} -= \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}};
4591     \textcolor{keywordflow}{while}(\mbox{\hyperlink{_g_b_8cpp_a8cad8181524ac81a7b88ca97e91cb806}{gbDivTicks}} <= 0) \{
4592       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff04] = ++\mbox{\hyperlink{_g_b_8cpp_acbcb739ca521418c569a3ec08893c9fc}{register\_DIV}};
4593       \mbox{\hyperlink{_g_b_8cpp_a8cad8181524ac81a7b88ca97e91cb806}{gbDivTicks}} += \mbox{\hyperlink{_g_b_8cpp_a2aeb4daa5c079754ff00de8b6cb071cf}{GBDIV\_CLOCK\_TICKS}};
4594     \}
4595 
4596     \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_af18da9d87d0d4a930844db59eef99432}{register\_LCDC}} & 0x80) \{
4597       \textcolor{comment}{// LCD stuff}
4598 
4599       \mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}} -= \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}};
4600       \mbox{\hyperlink{_g_b_8cpp_a67d7812d16307862d7d865d3683e5f66}{gbLcdTicksDelayed}} -= \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}};
4601       \mbox{\hyperlink{_g_b_8cpp_ae0cdf5545a76d5f524b336ff5b7cd910}{gbLcdLYIncrementTicks}} -= \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}};
4602       \mbox{\hyperlink{_g_b_8cpp_abdb3e275a757da833e774c19ded966d6}{gbLcdLYIncrementTicksDelayed}} -= \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}};
4603 
4604 
4605       \textcolor{comment}{// our counters are off, see what we need to do}
4606 
4607       \textcolor{comment}{// This looks (and kinda is) complicated, however this}
4608       \textcolor{comment}{// is the only way I found to emulate properly the way}
4609       \textcolor{comment}{// the real hardware operates...}
4610       \textcolor{keywordflow}{while}(((\mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}} <= 0) && (\mbox{\hyperlink{_g_b_8cpp_a243ed6fb41567443335cef76d722e1ea}{gbLCDChangeHappened}} == \textcolor{keyword}{false})) ||
4611             ((\mbox{\hyperlink{_g_b_8cpp_a67d7812d16307862d7d865d3683e5f66}{gbLcdTicksDelayed}} <= 0) && (\mbox{\hyperlink{_g_b_8cpp_a243ed6fb41567443335cef76d722e1ea}{gbLCDChangeHappened}} == \textcolor{keyword}{true}))
       ||
4612             ((\mbox{\hyperlink{_g_b_8cpp_ae0cdf5545a76d5f524b336ff5b7cd910}{gbLcdLYIncrementTicks}} <= 0) && (
      \mbox{\hyperlink{_g_b_8cpp_a238377c335fc8259839d03a324993acd}{gbLYChangeHappened}} == \textcolor{keyword}{false})) ||
4613             ((\mbox{\hyperlink{_g_b_8cpp_abdb3e275a757da833e774c19ded966d6}{gbLcdLYIncrementTicksDelayed}}<=0) && (
      \mbox{\hyperlink{_g_b_8cpp_a238377c335fc8259839d03a324993acd}{gbLYChangeHappened}} == \textcolor{keyword}{true})))
4614       \{
4615 
4616         \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_ae0cdf5545a76d5f524b336ff5b7cd910}{gbLcdLYIncrementTicks}} <= 0) && (!
      \mbox{\hyperlink{_g_b_8cpp_a238377c335fc8259839d03a324993acd}{gbLYChangeHappened}}))
4617         \{
4618           \mbox{\hyperlink{_g_b_8cpp_a238377c335fc8259839d03a324993acd}{gbLYChangeHappened}} = \textcolor{keyword}{true};
4619           \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff44] = \mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} = (\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} + 1) % 154;
4620 
4621           \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} == 0x91)
4622           \{
4623            \textcolor{comment}{/* if (IFF & 0x80)}
4624 \textcolor{comment}{              gbScreenOn = !gbScreenOn;}
4625 \textcolor{comment}{            else*/} \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_af18da9d87d0d4a930844db59eef99432}{register\_LCDC}} & 0x80)
4626               \mbox{\hyperlink{_g_b_8cpp_af7a8929b0bdf5ebca2d8d44c524210c5}{gbScreenOn}} = \textcolor{keyword}{true};
4627           \}
4628 
4629           \mbox{\hyperlink{_g_b_8cpp_ae0cdf5545a76d5f524b336ff5b7cd910}{gbLcdLYIncrementTicks}} += 
      \mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}};
4630 
4631           \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} == 1)
4632           \{
4633 
4634             \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} == 153)
4635               \mbox{\hyperlink{_g_b_8cpp_ae0cdf5545a76d5f524b336ff5b7cd910}{gbLcdLYIncrementTicks}} -= 
      \mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}} - \mbox{\hyperlink{_g_b_8cpp_a28b3e64f4ae9ec2cf12131267e7c8a8f}{gbLine99Ticks}};
4636             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} == 0)
4637               \mbox{\hyperlink{_g_b_8cpp_ae0cdf5545a76d5f524b336ff5b7cd910}{gbLcdLYIncrementTicks}} += 
      \mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}} - \mbox{\hyperlink{_g_b_8cpp_a28b3e64f4ae9ec2cf12131267e7c8a8f}{gbLine99Ticks}};
4638           \}
4639 
4640           \textcolor{comment}{// GB only 'bug' : Halt state is broken one tick before LY==LYC interrupt}
4641           \textcolor{comment}{// is reflected in the registers.}
4642           \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 5) && (\mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} & 0x80) && (\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} == 
      \mbox{\hyperlink{_g_b_8cpp_aaef25423ec345e8c454581a0119b93f8}{register\_LYC}})
4643               && (\mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}} & 0x40) && (\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} != 0))
4644           \{
4645             \textcolor{keywordflow}{if} (!((\mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} != 1) && (\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}}==0)))
4646             \{
4647               \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} &= ~9;
4648               \mbox{\hyperlink{_g_b_8cpp_aa26a94a9b4a904634ab42555ae8cd05b}{gbCompareLYToLYC}}();
4649               \mbox{\hyperlink{_g_b_8cpp_a238377c335fc8259839d03a324993acd}{gbLYChangeHappened}} = \textcolor{keyword}{false};
4650               \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff41] = \mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}};
4651               \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff0f] = \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}};
4652             \}
4653 
4654             \mbox{\hyperlink{_g_b_8cpp_abdb3e275a757da833e774c19ded966d6}{gbLcdLYIncrementTicksDelayed}} += 
      \mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}} - \mbox{\hyperlink{_g_b_8cpp_a28b3e64f4ae9ec2cf12131267e7c8a8f}{gbLine99Ticks}}+1;
4655           \}
4656         \}
4657 
4658 
4659         \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}} <= 0) && (!\mbox{\hyperlink{_g_b_8cpp_a243ed6fb41567443335cef76d722e1ea}{gbLCDChangeHappened}}))
4660         \{
4661           \mbox{\hyperlink{_g_b_8cpp_a243ed6fb41567443335cef76d722e1ea}{gbLCDChangeHappened}} = \textcolor{keyword}{true};
4662 
4663           \textcolor{keywordflow}{switch}(\mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}})
4664           \{
4665             \textcolor{keywordflow}{case} 0:
4666             \{
4667               \textcolor{comment}{// H-Blank              }
4668               \textcolor{comment}{// check if we reached the V-Blank period       }
4669               \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} == 144) \{
4670                 \textcolor{comment}{// Yes, V-Blank}
4671                 \textcolor{comment}{// set the LY increment counter}
4672                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 0x5)
4673                 \{
4674                   \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} |= 1; \textcolor{comment}{// V-Blank interrupt}
4675                 \}
4676 
4677                   \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} &= ~6;
4678                   \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}} & 0x10)
4679                   \{
4680                     \textcolor{comment}{// send LCD interrupt only if no interrupt 48h signal...}
4681                     \textcolor{keywordflow}{if} ((!(\mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} & 1)) && ((!(\mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} & 8)) || (
      \mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 0x0a)))
4682                     \{
4683                       \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} |=2;
4684                       \mbox{\hyperlink{_g_b_8cpp_a413abd6bf283ad6ba31ebe12e13083ab}{gbInterruptLaunched}} |= 2;
4685                       \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 0xa)
4686                         \mbox{\hyperlink{_g_b_8cpp_a7f28a7d19b1ffde812b67a444c46ad26}{gbInterruptWait}} = 1;
4687                     \}
4688                     \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} |= 2;
4689                   \}
4690                   \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} &= ~1;
4691 
4692                 \mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}} += \mbox{\hyperlink{_g_b_8cpp_a900fd616aa8e189323d0f172a19e41db}{GBLCD\_MODE\_1\_CLOCK\_TICKS}};
4693                 \mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} = 1;
4694 
4695               \} \textcolor{keywordflow}{else} \{
4696                 \textcolor{comment}{// go the the OAM being accessed mode}
4697                 \mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}} += \mbox{\hyperlink{_g_b_8cpp_a694d78b9d65ea5c8d37256038db17e80}{GBLCD\_MODE\_2\_CLOCK\_TICKS}};
4698                 \mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} = 2;
4699 
4700                 \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} &= ~6;
4701                 \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}} & 0x20)
4702                 \{
4703                   \textcolor{comment}{// send LCD interrupt only if no interrupt 48h signal...}
4704                   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}})
4705                   \{
4706                     \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} |= 2;
4707                     \mbox{\hyperlink{_g_b_8cpp_a413abd6bf283ad6ba31ebe12e13083ab}{gbInterruptLaunched}} |= 2;
4708                   \}
4709                   \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} |= 4;
4710                 \}
4711                 \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} &= ~1;
4712               \}
4713             \}
4714             \textcolor{keywordflow}{break};
4715             \textcolor{keywordflow}{case} 1:
4716             \{
4717               \textcolor{comment}{// V-Blank}
4718               \textcolor{comment}{// next mode is OAM being accessed mode}
4719               \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} &= ~5;
4720               \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}} & 0x20)
4721               \{
4722                 \textcolor{comment}{// send LCD interrupt only if no interrupt 48h signal...}
4723                 \textcolor{keywordflow}{if} (!\mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}})
4724                 \{
4725                   \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} |= 2;
4726                   \mbox{\hyperlink{_g_b_8cpp_a413abd6bf283ad6ba31ebe12e13083ab}{gbInterruptLaunched}} |= 2;
4727                   \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 0xa) && (\mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} & 0x80))
4728                     \mbox{\hyperlink{_g_b_8cpp_a7f28a7d19b1ffde812b67a444c46ad26}{gbInterruptWait}} = 1;
4729                 \}
4730                 \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} |= 4;
4731               \}
4732               \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} &= ~2;
4733 
4734               \mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}} += \mbox{\hyperlink{_g_b_8cpp_a694d78b9d65ea5c8d37256038db17e80}{GBLCD\_MODE\_2\_CLOCK\_TICKS}};
4735 
4736               \mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} = 2;
4737               \mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} = 0x00;
4738 
4739             \}
4740             \textcolor{keywordflow}{break};
4741             \textcolor{keywordflow}{case} 2:
4742             \{
4743 
4744               \textcolor{comment}{// OAM being accessed mode}
4745               \textcolor{comment}{// next mode is OAM and VRAM in use}
4746               \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_af7a8929b0bdf5ebca2d8d44c524210c5}{gbScreenOn}}) && (\mbox{\hyperlink{_g_b_8cpp_af18da9d87d0d4a930844db59eef99432}{register\_LCDC}} & 0x80))
4747               \{
4748                 \mbox{\hyperlink{gb_gfx_8cpp_a989a0a4901bb2263dcbdb7f4dd69e003}{gbDrawSprites}}(\textcolor{keyword}{false});
4749                 \textcolor{comment}{// Used to add a one tick delay when a window line is drawn.}
4750                 \textcolor{comment}{//(fixes a part of Carmaggedon problem)}
4751                 \textcolor{keywordflow}{if}((\mbox{\hyperlink{_g_b_8cpp_af18da9d87d0d4a930844db59eef99432}{register\_LCDC}} & 0x01 || \mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}}) && (
      \mbox{\hyperlink{_g_b_8cpp_af18da9d87d0d4a930844db59eef99432}{register\_LCDC}} & 0x20) &&
4752                    (\mbox{\hyperlink{gb_globals_8cpp_a406aa032fac9ced7e3642fad4e0edd44}{gbWindowLine}} != -2)) \{
4753 
4754                   \textcolor{keywordtype}{int} \mbox{\hyperlink{_g_b_8cpp_a29995e8cccff0ba14835253b6a3f193d}{inUseRegister\_WY}} = 0;
4755                   \textcolor{keywordtype}{int} tempgbWindowLine = \mbox{\hyperlink{gb_globals_8cpp_a406aa032fac9ced7e3642fad4e0edd44}{gbWindowLine}};
4756 
4757                   \textcolor{keywordflow}{if} ((tempgbWindowLine == -1) || (tempgbWindowLine>144))
4758                   \{
4759                     \mbox{\hyperlink{_g_b_8cpp_a29995e8cccff0ba14835253b6a3f193d}{inUseRegister\_WY}} = \mbox{\hyperlink{_g_b_8cpp_ae85aa77fbabadb9981575f14fc251b50}{oldRegister\_WY}};
4760                     \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}}>\mbox{\hyperlink{_g_b_8cpp_ae85aa77fbabadb9981575f14fc251b50}{oldRegister\_WY}})
4761                     tempgbWindowLine = 146;
4762                   \}
4763  
4764                   \textcolor{keywordtype}{int} wy = \mbox{\hyperlink{_g_b_8cpp_a29995e8cccff0ba14835253b6a3f193d}{inUseRegister\_WY}};
4765       
4766                   \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} >= \mbox{\hyperlink{_g_b_8cpp_a29995e8cccff0ba14835253b6a3f193d}{inUseRegister\_WY}}) \{
4767 
4768                     \textcolor{keywordflow}{if} (tempgbWindowLine == -1)
4769                       tempgbWindowLine = 0;
4770 
4771                     \textcolor{keywordtype}{int} wx = \mbox{\hyperlink{_g_b_8cpp_a43896b4dc65b98644f0b065e4e56a636}{register\_WX}};
4772                     wx -= 7;
4773                     \textcolor{keywordflow}{if} (wx<0)
4774                         wx = 0;
4775         
4776                     \textcolor{keywordflow}{if}((wx <= 159) && (tempgbWindowLine <= 143))
4777                       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} = wx; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<300; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)
4778                         \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}})
4779                           \mbox{\hyperlink{_g_b_8cpp_a715f2cbfee64834b0811918eae6133f4}{gbSpritesTicks}}[\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]+=3;
4780                         \textcolor{keywordflow}{else}
4781                           \mbox{\hyperlink{_g_b_8cpp_a715f2cbfee64834b0811918eae6133f4}{gbSpritesTicks}}[\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}]+=1;
4782                   \}
4783                 \}
4784               \}
4785 
4786               \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} &= ~7;
4787 
4788               \mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}} += \mbox{\hyperlink{_g_b_8cpp_a5ff22891600b25586b32912c649900a5}{GBLCD\_MODE\_3\_CLOCK\_TICKS}}+
      \mbox{\hyperlink{_g_b_8cpp_a715f2cbfee64834b0811918eae6133f4}{gbSpritesTicks}}[299];
4789               \mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} = 3;
4790             \}
4791             \textcolor{keywordflow}{break};
4792             \textcolor{keywordflow}{case} 3:
4793             \{
4794               \textcolor{comment}{// OAM and VRAM in use}
4795               \textcolor{comment}{// next mode is H-Blank}
4796 
4797 
4798               \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} &= ~7;
4799               \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}} & 0x08)
4800               \{
4801                 \textcolor{comment}{// send LCD interrupt only if no interrupt 48h signal...}
4802                 \textcolor{keywordflow}{if} (!(\mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} & 8))
4803                 \{
4804                   \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} |= 2;
4805                 \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 0xa) && (\mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} & 0x80))
4806                   \mbox{\hyperlink{_g_b_8cpp_a7f28a7d19b1ffde812b67a444c46ad26}{gbInterruptWait}} = 1;
4807                 \}
4808                 \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} |= 1;
4809               \}
4810 
4811               \mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}} += \mbox{\hyperlink{_g_b_8cpp_ae639d730d73d663ea6f0449f3cd51843}{GBLCD\_MODE\_0\_CLOCK\_TICKS}}-
      \mbox{\hyperlink{_g_b_8cpp_a715f2cbfee64834b0811918eae6133f4}{gbSpritesTicks}}[299];
4812 
4813               \mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} = 0;
4814 
4815               \textcolor{comment}{// No HDMA during HALT !}
4816               \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_ab2950de0ff32aef80979230af408c6c5}{gbHdmaOn}} && (!(\mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} & 0x80) || (\mbox{\hyperlink{_g_b_8cpp_a94319ecba885d1837ce422125f5e4b7a}{register\_IE}} & 
      \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} & 0x1f))) \{
4817                 \mbox{\hyperlink{_g_b_8cpp_a2711feca0f3db1195f06f2068309c407}{gbDoHdma}}();
4818               \}
4819 
4820             \}
4821             \textcolor{keywordflow}{break};
4822           \}
4823         \}
4824 
4825 
4826         \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_a67d7812d16307862d7d865d3683e5f66}{gbLcdTicksDelayed}} <= 0) && (\mbox{\hyperlink{_g_b_8cpp_a243ed6fb41567443335cef76d722e1ea}{gbLCDChangeHappened}})) \{
4827           \textcolor{keywordtype}{int} framesToSkip = \mbox{\hyperlink{system_8cpp_ac88aa402d015fda6917b150c22a28968}{systemFrameSkip}};
4828           \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a20b0a3180ffba5989d1414a438ea11dc}{speedup}})
4829             framesToSkip = 9; \textcolor{comment}{// try 6 FPS during speedup}
4830           \textcolor{comment}{//gbLcdTicksDelayed = gbLcdTicks+1;}
4831           \mbox{\hyperlink{_g_b_8cpp_a243ed6fb41567443335cef76d722e1ea}{gbLCDChangeHappened}} = \textcolor{keyword}{false};
4832           \textcolor{keywordflow}{switch}(\mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}}) \{
4833             \textcolor{keywordflow}{case} 0:
4834             \{
4835               \textcolor{comment}{// H-Blank }
4836           
4837               memset(\mbox{\hyperlink{_g_b_8cpp_a26111ddea8553b4079e52f0ecbee0b95}{gbSCYLine}},\mbox{\hyperlink{_g_b_8cpp_a26111ddea8553b4079e52f0ecbee0b95}{gbSCYLine}}[299],\textcolor{keyword}{sizeof}(\mbox{\hyperlink{_g_b_8cpp_a26111ddea8553b4079e52f0ecbee0b95}{gbSCYLine}}));
4838               memset(\mbox{\hyperlink{_g_b_8cpp_a36343b46b0d9331cfee81944cda1087c}{gbSCXLine}},\mbox{\hyperlink{_g_b_8cpp_a36343b46b0d9331cfee81944cda1087c}{gbSCXLine}}[299],\textcolor{keyword}{sizeof}(\mbox{\hyperlink{_g_b_8cpp_a36343b46b0d9331cfee81944cda1087c}{gbSCXLine}}));
4839               memset(\mbox{\hyperlink{_g_b_8cpp_a754f72d502cf0c77a0b99d387a9d60a4}{gbBgpLine}},\mbox{\hyperlink{_g_b_8cpp_a754f72d502cf0c77a0b99d387a9d60a4}{gbBgpLine}}[299],\textcolor{keyword}{sizeof}(\mbox{\hyperlink{_g_b_8cpp_a754f72d502cf0c77a0b99d387a9d60a4}{gbBgpLine}}));
4840               memset(\mbox{\hyperlink{_g_b_8cpp_ae9bdf1830d9cc0311f49bc3ac3619e2b}{gbObp0Line}},\mbox{\hyperlink{_g_b_8cpp_ae9bdf1830d9cc0311f49bc3ac3619e2b}{gbObp0Line}}[299],\textcolor{keyword}{sizeof}(
      \mbox{\hyperlink{_g_b_8cpp_ae9bdf1830d9cc0311f49bc3ac3619e2b}{gbObp0Line}}));
4841               memset(\mbox{\hyperlink{_g_b_8cpp_a5c2bbe8c392c9c591ba889e3ea8ff5fc}{gbObp1Line}},\mbox{\hyperlink{_g_b_8cpp_a5c2bbe8c392c9c591ba889e3ea8ff5fc}{gbObp1Line}}[299],\textcolor{keyword}{sizeof}(
      \mbox{\hyperlink{_g_b_8cpp_a5c2bbe8c392c9c591ba889e3ea8ff5fc}{gbObp1Line}}));
4842               memset(\mbox{\hyperlink{_g_b_8cpp_a715f2cbfee64834b0811918eae6133f4}{gbSpritesTicks}},\mbox{\hyperlink{_g_b_8cpp_a715f2cbfee64834b0811918eae6133f4}{gbSpritesTicks}}[299],\textcolor{keyword}{sizeof}(
      \mbox{\hyperlink{_g_b_8cpp_a715f2cbfee64834b0811918eae6133f4}{gbSpritesTicks}}));
4843 
4844               \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8cpp_a406aa032fac9ced7e3642fad4e0edd44}{gbWindowLine}} <0)
4845                 \mbox{\hyperlink{_g_b_8cpp_ae85aa77fbabadb9981575f14fc251b50}{oldRegister\_WY}} = \mbox{\hyperlink{_g_b_8cpp_a0c0df073066ca310ec6fecb25bd3988c}{register\_WY}};
4846               \textcolor{comment}{// check if we reached the V-Blank period       }
4847               \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} == 144) \{
4848                 \textcolor{comment}{// Yes, V-Blank}
4849                 \textcolor{comment}{// set the LY increment counter}
4850 
4851                 \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_af18da9d87d0d4a930844db59eef99432}{register\_LCDC}} & 0x80) \{
4852                     \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 0xa)
4853                     \{
4854                   
4855                     \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} |= 1; \textcolor{comment}{// V-Blank interrupt}
4856                     \mbox{\hyperlink{_g_b_8cpp_a413abd6bf283ad6ba31ebe12e13083ab}{gbInterruptLaunched}} |=1;
4857                     \}
4858                   
4859 
4860                 \}
4861             
4862                 \mbox{\hyperlink{_g_b_8cpp_a67d7812d16307862d7d865d3683e5f66}{gbLcdTicksDelayed}} += \mbox{\hyperlink{_g_b_8cpp_a900fd616aa8e189323d0f172a19e41db}{GBLCD\_MODE\_1\_CLOCK\_TICKS}};
4863                 \mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} = 1;
4864 
4865                 \mbox{\hyperlink{_g_b_8cpp_a06ee7c3acb6c46cd2db0d121d5d786c0}{gbFrameCount}}++;
4866                 \mbox{\hyperlink{system_8cpp_ac40580c7050aa16b156c1f788d163101}{systemFrame}}();
4867 
4868                 \textcolor{keywordflow}{if}((\mbox{\hyperlink{_g_b_8cpp_a06ee7c3acb6c46cd2db0d121d5d786c0}{gbFrameCount}} % 10) == 0)
4869                   \mbox{\hyperlink{system_8cpp_ac658787d3f292b27ed85ce4b4a2f9ac9}{system10Frames}}(60);
4870 
4871                 \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a06ee7c3acb6c46cd2db0d121d5d786c0}{gbFrameCount}} >= 60) \{
4872                   \mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} currentTime = \mbox{\hyperlink{system_8cpp_a49fda3252b87be83c1bc235b1c217f35}{systemGetClock}}();
4873                   \textcolor{keywordflow}{if}(currentTime != \mbox{\hyperlink{_g_b_8cpp_aca3a31fc6e9ec76072a9b9b104aa37af}{gbLastTime}})
4874                     \mbox{\hyperlink{system_8cpp_a7f5b427698bb5f4198e325e22021f1a1}{systemShowSpeed}}(100000/(currentTime - 
      \mbox{\hyperlink{_g_b_8cpp_aca3a31fc6e9ec76072a9b9b104aa37af}{gbLastTime}}));
4875                   \textcolor{keywordflow}{else}
4876                     \mbox{\hyperlink{system_8cpp_a7f5b427698bb5f4198e325e22021f1a1}{systemShowSpeed}}(0);
4877                   \mbox{\hyperlink{_g_b_8cpp_aca3a31fc6e9ec76072a9b9b104aa37af}{gbLastTime}} = currentTime;
4878                   \mbox{\hyperlink{_g_b_8cpp_a06ee7c3acb6c46cd2db0d121d5d786c0}{gbFrameCount}} = 0;       
4879                 \}
4880 
4881                 \textcolor{keywordflow}{if}(\mbox{\hyperlink{system_8cpp_a24194cb2b20ad5c912f4998dffe67bc0}{systemReadJoypads}}()) \{
4882                   \textcolor{comment}{// read joystick}
4883                   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8h_aade6a7bab8d45119651cd9e8103d2cf8}{gbSgbMode}} && \mbox{\hyperlink{gb_s_g_b_8cpp_ae7a4e78dc83e97655de14311e4c014ef}{gbSgbMultiplayer}}) \{
4884                     \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_s_g_b_8cpp_a054e658ec83c3903e7972672e3724024}{gbSgbFourPlayers}}) \{
4885                       \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[0] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(0);
4886                       \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[1] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(1);
4887                       \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[2] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(2);
4888                       \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[3] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(3);
4889                     \} \textcolor{keywordflow}{else} \{
4890                       \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[0] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(0);
4891                       \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[1] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(1);
4892                     \}
4893                   \} \textcolor{keywordflow}{else} \{
4894                     \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[0] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(-1);
4895                   \}             
4896                 \}
4897                 \textcolor{keywordtype}{int} newmask = \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[0] & 255;
4898 
4899                 \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_aa2d8461e7ac3d690783de903ab527c35}{gbRomType}} == 0x22) \{
4900                   \mbox{\hyperlink{system_8cpp_aa9261eefa083d6e37e2f6ce4a84d882c}{systemUpdateMotionSensor}}();
4901                 \}
4902             
4903                 \textcolor{keywordflow}{if}(newmask)
4904                 \{
4905                   \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff0f] |= 16;
4906                 \}
4907 
4908 
4909                 newmask = (\mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[0] >> 10);
4910             
4911                 \mbox{\hyperlink{_g_b_8cpp_a20b0a3180ffba5989d1414a438ea11dc}{speedup}} = (newmask & 1) ? \textcolor{keyword}{true} : \textcolor{keyword}{false};
4912                 \mbox{\hyperlink{_g_b_8cpp_a54b8c31aa67311322b707d4dfa3a3a70}{gbCapture}} = (newmask & 2) ? \textcolor{keyword}{true} : \textcolor{keyword}{false};
4913 
4914                 \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a54b8c31aa67311322b707d4dfa3a3a70}{gbCapture}} && !\mbox{\hyperlink{_g_b_8cpp_a004bb5071d1580b233cc29ab8f9a9700}{gbCapturePrevious}}) \{
4915                   \mbox{\hyperlink{_g_b_8cpp_ae10e05e913237731bbdc32c82bd9063f}{gbCaptureNumber}}++;
4916                   \mbox{\hyperlink{system_8cpp_a986dcfd32a3d6836f2d4a1b718130d45}{systemScreenCapture}}(\mbox{\hyperlink{_g_b_8cpp_ae10e05e913237731bbdc32c82bd9063f}{gbCaptureNumber}});
4917                 \}
4918                 \mbox{\hyperlink{_g_b_8cpp_a004bb5071d1580b233cc29ab8f9a9700}{gbCapturePrevious}} = \mbox{\hyperlink{_g_b_8cpp_a54b8c31aa67311322b707d4dfa3a3a70}{gbCapture}};
4919             
4920           \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a66060f3f3765316b1ca153040840147c}{gbFrameSkipCount}} >= framesToSkip) \{
4921 
4922             \textcolor{keywordflow}{if}(!\mbox{\hyperlink{gb_s_g_b_8cpp_a6af383938bc15a96c162d47796c79ed9}{gbSgbMask}})
4923             \{
4924               \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8cpp_a4700c36a68a6b63f7c2e91756a250cd2}{gbBorderOn}})
4925                 \mbox{\hyperlink{_g_b_8h_af317983dce6743159185981f1f84e782}{gbSgbRenderBorder}}();
4926               \textcolor{comment}{//if (gbScreenOn)}
4927                 \mbox{\hyperlink{system_8cpp_a14942622916d869491ac62211b9db1b6}{systemDrawScreen}}();
4928             \}
4929             \mbox{\hyperlink{_g_b_8cpp_a66060f3f3765316b1ca153040840147c}{gbFrameSkipCount}} = 0;
4930           \} \textcolor{keywordflow}{else}
4931              \mbox{\hyperlink{_g_b_8cpp_a66060f3f3765316b1ca153040840147c}{gbFrameSkipCount}}++;
4932 
4933               \} \textcolor{keywordflow}{else} \{
4934                 \textcolor{comment}{// go the the OAM being accessed mode}
4935                 \mbox{\hyperlink{_g_b_8cpp_a67d7812d16307862d7d865d3683e5f66}{gbLcdTicksDelayed}} += \mbox{\hyperlink{_g_b_8cpp_a694d78b9d65ea5c8d37256038db17e80}{GBLCD\_MODE\_2\_CLOCK\_TICKS}};
4936                 \mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} = 2;
4937                 \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} &= ~3;
4938               \}
4939             \}
4940             \textcolor{keywordflow}{break};
4941             \textcolor{keywordflow}{case} 1:
4942             \{
4943               \textcolor{comment}{// V-Blank}
4944               \textcolor{comment}{// next mode is OAM being accessed mode}
4945 
4946              \textcolor{comment}{// gbScreenOn = true;}
4947 
4948               \mbox{\hyperlink{_g_b_8cpp_ae85aa77fbabadb9981575f14fc251b50}{oldRegister\_WY}} = \mbox{\hyperlink{_g_b_8cpp_a0c0df073066ca310ec6fecb25bd3988c}{register\_WY}};
4949 
4950               \mbox{\hyperlink{_g_b_8cpp_a67d7812d16307862d7d865d3683e5f66}{gbLcdTicksDelayed}} += \mbox{\hyperlink{_g_b_8cpp_a694d78b9d65ea5c8d37256038db17e80}{GBLCD\_MODE\_2\_CLOCK\_TICKS}};
4951               \mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} = 2;
4952 
4953               \textcolor{comment}{// reset the window line}
4954               \mbox{\hyperlink{gb_globals_8cpp_a406aa032fac9ced7e3642fad4e0edd44}{gbWindowLine}} = -1;
4955             \}
4956             \textcolor{keywordflow}{break};
4957             \textcolor{keywordflow}{case} 2:
4958             \{
4959               \textcolor{comment}{// OAM being accessed mode}
4960               \textcolor{comment}{// next mode is OAM and VRAM in use}
4961               \mbox{\hyperlink{_g_b_8cpp_a67d7812d16307862d7d865d3683e5f66}{gbLcdTicksDelayed}} += \mbox{\hyperlink{_g_b_8cpp_a5ff22891600b25586b32912c649900a5}{GBLCD\_MODE\_3\_CLOCK\_TICKS}}+
      \mbox{\hyperlink{_g_b_8cpp_a715f2cbfee64834b0811918eae6133f4}{gbSpritesTicks}}[299];
4962               \mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} = 3;
4963             \}
4964             \textcolor{keywordflow}{break};
4965             \textcolor{keywordflow}{case} 3:
4966             \{
4967 
4968               \textcolor{comment}{// OAM and VRAM in use}
4969               \textcolor{comment}{// next mode is H-Blank}
4970               \textcolor{keywordflow}{if}((\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} < 144) && (\mbox{\hyperlink{_g_b_8cpp_af18da9d87d0d4a930844db59eef99432}{register\_LCDC}} & 0x80) && 
      \mbox{\hyperlink{_g_b_8cpp_af7a8929b0bdf5ebca2d8d44c524210c5}{gbScreenOn}}) \{
4971                 \textcolor{keywordflow}{if}(!\mbox{\hyperlink{gb_s_g_b_8cpp_a6af383938bc15a96c162d47796c79ed9}{gbSgbMask}}) \{
4972                   \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a66060f3f3765316b1ca153040840147c}{gbFrameSkipCount}} >= framesToSkip) \{
4973                     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{_g_b_8cpp_a926c404490bea6d8e6c1f064e7ee487e}{gbBlackScreen}})
4974                     \{
4975                       \mbox{\hyperlink{gb_gfx_8cpp_a58ad7c6e9c36c06b4b5a778b6a0874e6}{gbRenderLine}}();
4976                       \mbox{\hyperlink{gb_gfx_8cpp_a989a0a4901bb2263dcbdb7f4dd69e003}{gbDrawSprites}}(\textcolor{keyword}{true});
4977                     \}
4978                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a926c404490bea6d8e6c1f064e7ee487e}{gbBlackScreen}})
4979                     \{
4980                       \mbox{\hyperlink{_system_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} color = \mbox{\hyperlink{gb_globals_8cpp_abb08650d8f653865820da10dc8e59a8b}{gbColorOption}} ? \mbox{\hyperlink{gb_globals_8cpp_a3c099dd31f1abe974c65df9e99d74793}{gbColorFilter}}[0] : 0;
4981                       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}})
4982                       color = \mbox{\hyperlink{gb_globals_8cpp_abb08650d8f653865820da10dc8e59a8b}{gbColorOption}} ? \mbox{\hyperlink{gb_globals_8cpp_a3c099dd31f1abe974c65df9e99d74793}{gbColorFilter}}[
      \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[3] & 0x7FFF] :
4983                         \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[3] & 0x7FFF;
4984                       \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} = 0; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} < 160; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)
4985                       \{
4986                         \mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = color;
4987                         \mbox{\hyperlink{gb_globals_8cpp_a28491355be3715000cb2fea27dc567d0}{gbLineBuffer}}[\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = 0;
4988                       \}
4989                     \}
4990                     \mbox{\hyperlink{_g_b_8cpp_a56a5a87fcb903edecc9dd1f53cd1fd4b}{gbDrawLine}}();
4991                   \}
4992                 \}
4993               \}
4994               \mbox{\hyperlink{_g_b_8cpp_a67d7812d16307862d7d865d3683e5f66}{gbLcdTicksDelayed}} += \mbox{\hyperlink{_g_b_8cpp_ae639d730d73d663ea6f0449f3cd51843}{GBLCD\_MODE\_0\_CLOCK\_TICKS}}-
      \mbox{\hyperlink{_g_b_8cpp_a715f2cbfee64834b0811918eae6133f4}{gbSpritesTicks}}[299];
4995               \mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} = 0;
4996             \}
4997             \textcolor{keywordflow}{break};
4998           \}
4999         \}
5000 
5001         \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_abdb3e275a757da833e774c19ded966d6}{gbLcdLYIncrementTicksDelayed}} <= 0) && (
      \mbox{\hyperlink{_g_b_8cpp_a238377c335fc8259839d03a324993acd}{gbLYChangeHappened}} == \textcolor{keyword}{true}))
5002         \{
5003 
5004           \mbox{\hyperlink{_g_b_8cpp_a238377c335fc8259839d03a324993acd}{gbLYChangeHappened}} = \textcolor{keyword}{false};
5005 
5006           \textcolor{keywordflow}{if} (!((\mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} != 1) && (\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}}==0)))
5007           \{
5008             \{
5009               \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} &= ~8;
5010               \mbox{\hyperlink{_g_b_8cpp_aa26a94a9b4a904634ab42555ae8cd05b}{gbCompareLYToLYC}}();
5011               \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} == 8) && (!((\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} == 0) && (
      \mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 1))))
5012                 \mbox{\hyperlink{_g_b_8cpp_a413abd6bf283ad6ba31ebe12e13083ab}{gbInterruptLaunched}} |= 2;
5013               \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & (\mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}} ? 8 : 2)) && (
      \mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}}==0) && ((\mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}} & 0x44) == 0x44) && (
      \mbox{\hyperlink{_g_b_8cpp_abdb3e275a757da833e774c19ded966d6}{gbLcdLYIncrementTicksDelayed}}==0))
5014               \{
5015                  \mbox{\hyperlink{_g_b_8cpp_a7f28a7d19b1ffde812b67a444c46ad26}{gbInterruptWait}} = 1;
5016 
5017               \}
5018             \}
5019           \}
5020           \mbox{\hyperlink{_g_b_8cpp_abdb3e275a757da833e774c19ded966d6}{gbLcdLYIncrementTicksDelayed}} += 
      \mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}};
5021 
5022           \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} == 1)
5023           \{
5024 
5025             \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} == 153)
5026               \mbox{\hyperlink{_g_b_8cpp_abdb3e275a757da833e774c19ded966d6}{gbLcdLYIncrementTicksDelayed}} -= 
      \mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}} - \mbox{\hyperlink{_g_b_8cpp_a28b3e64f4ae9ec2cf12131267e7c8a8f}{gbLine99Ticks}};
5027             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} == 0)
5028               \mbox{\hyperlink{_g_b_8cpp_abdb3e275a757da833e774c19ded966d6}{gbLcdLYIncrementTicksDelayed}} += 
      \mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}} - \mbox{\hyperlink{_g_b_8cpp_a28b3e64f4ae9ec2cf12131267e7c8a8f}{gbLine99Ticks}};
5029           \}
5030           \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff0f] = \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}};
5031           \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff41] = \mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}};
5032         \}
5033       \}
5034       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff0f] = \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}};
5035       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff41] = \mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}} = (\mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}} & 0xfc) | 
      \mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}};
5036     \}
5037     \textcolor{keywordflow}{else}
5038     \{
5039 
5040       \textcolor{comment}{// Used to update the screen with white lines when it's off.}
5041       \textcolor{comment}{// (it looks strange, but it's kinda accurate :p)}
5042       \textcolor{comment}{// You can try the Mario Demo Vx.x for exemple}
5043       \textcolor{comment}{// (check the bottom 2 lines while moving)}
5044      \textcolor{keywordflow}{if} (!\mbox{\hyperlink{_g_b_8cpp_adb51d11b7a22a8272a4335e8714f5d41}{gbWhiteScreen}})
5045       \{
5046         \mbox{\hyperlink{_g_b_8cpp_a7c41c60dd0ca7a252bb3019aa08236a6}{gbScreenTicks}} -= \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}};
5047         \mbox{\hyperlink{_g_b_8cpp_ae0cdf5545a76d5f524b336ff5b7cd910}{gbLcdLYIncrementTicks}} -= \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}};
5048         \textcolor{keywordflow}{while} (\mbox{\hyperlink{_g_b_8cpp_ae0cdf5545a76d5f524b336ff5b7cd910}{gbLcdLYIncrementTicks}} <=0)
5049         \{
5050           \mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} = ((\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}}+1)%154);
5051           \mbox{\hyperlink{_g_b_8cpp_ae0cdf5545a76d5f524b336ff5b7cd910}{gbLcdLYIncrementTicks}}+=\mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}};
       
5052         \}
5053         \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a7c41c60dd0ca7a252bb3019aa08236a6}{gbScreenTicks}} <= 0)
5054         \{
5055           \mbox{\hyperlink{_g_b_8cpp_adb51d11b7a22a8272a4335e8714f5d41}{gbWhiteScreen}} = 1;
5056           \mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} register\_LYLcdOff = ((\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}}+154)%154);
5057           \textcolor{keywordflow}{for} (\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}}=0;\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} <=  0x90;
      \mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}}++)
5058           \{
5059             \mbox{\hyperlink{_system_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} color = \mbox{\hyperlink{gb_globals_8cpp_abb08650d8f653865820da10dc8e59a8b}{gbColorOption}} ? \mbox{\hyperlink{gb_globals_8cpp_a3c099dd31f1abe974c65df9e99d74793}{gbColorFilter}}[0x7FFF] :
5060                         0x7FFF;
5061             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}})
5062             color = \mbox{\hyperlink{gb_globals_8cpp_abb08650d8f653865820da10dc8e59a8b}{gbColorOption}} ? \mbox{\hyperlink{gb_globals_8cpp_a3c099dd31f1abe974c65df9e99d74793}{gbColorFilter}}[
      \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0] & 0x7FFF] :
5063                         \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0] & 0x7FFF;
5064             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} = 0; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} < 160; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)
5065             \{
5066               \mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = color;
5067               \mbox{\hyperlink{gb_globals_8cpp_a28491355be3715000cb2fea27dc567d0}{gbLineBuffer}}[\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = 0;
5068             \}
5069             \mbox{\hyperlink{_g_b_8cpp_a56a5a87fcb903edecc9dd1f53cd1fd4b}{gbDrawLine}}();
5070           \}
5071           \mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} = register\_LYLcdOff;
5072         \}
5073       \}
5074         
5075       \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_adb51d11b7a22a8272a4335e8714f5d41}{gbWhiteScreen}})
5076       \{
5077         \mbox{\hyperlink{_g_b_8cpp_ae0cdf5545a76d5f524b336ff5b7cd910}{gbLcdLYIncrementTicks}} -= \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}};
5078 
5079         \textcolor{keywordflow}{while} (\mbox{\hyperlink{_g_b_8cpp_ae0cdf5545a76d5f524b336ff5b7cd910}{gbLcdLYIncrementTicks}} <=0)
5080         \{
5081           \mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} = ((\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}}+1)%154);
5082           \mbox{\hyperlink{_g_b_8cpp_ae0cdf5545a76d5f524b336ff5b7cd910}{gbLcdLYIncrementTicks}}+=\mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}};
       
5083           \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}}<144)
5084           \{
5085 
5086             \mbox{\hyperlink{_system_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} color = \mbox{\hyperlink{gb_globals_8cpp_abb08650d8f653865820da10dc8e59a8b}{gbColorOption}} ? \mbox{\hyperlink{gb_globals_8cpp_a3c099dd31f1abe974c65df9e99d74793}{gbColorFilter}}[0x7FFF] :
5087                         0x7FFF;
5088             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}})
5089             color = \mbox{\hyperlink{gb_globals_8cpp_abb08650d8f653865820da10dc8e59a8b}{gbColorOption}} ? \mbox{\hyperlink{gb_globals_8cpp_a3c099dd31f1abe974c65df9e99d74793}{gbColorFilter}}[
      \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0] & 0x7FFF] :
5090                         \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0] & 0x7FFF;
5091             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} = 0; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} < 160; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)
5092             \{
5093               \mbox{\hyperlink{_g_b_8cpp_a3cceb8ec3c715f26209bd0d103425b9a}{gbLineMix}}[\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = color;
5094               \mbox{\hyperlink{gb_globals_8cpp_a28491355be3715000cb2fea27dc567d0}{gbLineBuffer}}[\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = 0;
5095             \}
5096             \mbox{\hyperlink{_g_b_8cpp_a56a5a87fcb903edecc9dd1f53cd1fd4b}{gbDrawLine}}();
5097           \}
5098           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}}==144) && (!\mbox{\hyperlink{system_8cpp_ac88aa402d015fda6917b150c22a28968}{systemFrameSkip}}))
5099           \{
5100             \textcolor{keywordtype}{int} framesToSkip = \mbox{\hyperlink{system_8cpp_ac88aa402d015fda6917b150c22a28968}{systemFrameSkip}};
5101             \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a20b0a3180ffba5989d1414a438ea11dc}{speedup}})
5102               framesToSkip = 9; \textcolor{comment}{// try 6 FPS during speedup}
5103             \textcolor{keywordflow}{if}((\mbox{\hyperlink{_g_b_8cpp_a66060f3f3765316b1ca153040840147c}{gbFrameSkipCount}} >= framesToSkip) || (
      \mbox{\hyperlink{_g_b_8cpp_adb51d11b7a22a8272a4335e8714f5d41}{gbWhiteScreen}} == 1)) \{
5104               \mbox{\hyperlink{_g_b_8cpp_adb51d11b7a22a8272a4335e8714f5d41}{gbWhiteScreen}} = 2;
5105 
5106             \textcolor{keywordflow}{if}(!\mbox{\hyperlink{gb_s_g_b_8cpp_a6af383938bc15a96c162d47796c79ed9}{gbSgbMask}})
5107             \{
5108               \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8cpp_a4700c36a68a6b63f7c2e91756a250cd2}{gbBorderOn}})
5109                 \mbox{\hyperlink{_g_b_8h_af317983dce6743159185981f1f84e782}{gbSgbRenderBorder}}();
5110                   \textcolor{comment}{//if (gbScreenOn)}
5111                 \mbox{\hyperlink{system_8cpp_a14942622916d869491ac62211b9db1b6}{systemDrawScreen}}();
5112             \}
5113             \}
5114             \textcolor{keywordflow}{if}(\mbox{\hyperlink{system_8cpp_a24194cb2b20ad5c912f4998dffe67bc0}{systemReadJoypads}}()) \{
5115               \textcolor{comment}{// read joystick}
5116               \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8h_aade6a7bab8d45119651cd9e8103d2cf8}{gbSgbMode}} && \mbox{\hyperlink{gb_s_g_b_8cpp_ae7a4e78dc83e97655de14311e4c014ef}{gbSgbMultiplayer}}) \{
5117                 \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_s_g_b_8cpp_a054e658ec83c3903e7972672e3724024}{gbSgbFourPlayers}}) \{
5118                   \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[0] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(0);
5119                   \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[1] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(1);
5120                   \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[2] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(2);
5121                   \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[3] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(3);
5122                 \} \textcolor{keywordflow}{else} \{
5123                   \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[0] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(0);
5124                   \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[1] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(1);
5125                 \}
5126               \} \textcolor{keywordflow}{else} \{
5127                 \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[0] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(-1);
5128               \}             
5129             \}
5130             \mbox{\hyperlink{_g_b_8cpp_a06ee7c3acb6c46cd2db0d121d5d786c0}{gbFrameCount}}++;
5131 
5132             \mbox{\hyperlink{system_8cpp_ac40580c7050aa16b156c1f788d163101}{systemFrame}}();
5133 
5134             \textcolor{keywordflow}{if}((\mbox{\hyperlink{_g_b_8cpp_a06ee7c3acb6c46cd2db0d121d5d786c0}{gbFrameCount}} % 10) == 0)
5135               \mbox{\hyperlink{system_8cpp_ac658787d3f292b27ed85ce4b4a2f9ac9}{system10Frames}}(60);
5136 
5137             \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a06ee7c3acb6c46cd2db0d121d5d786c0}{gbFrameCount}} >= 60) \{
5138               \mbox{\hyperlink{_system_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} currentTime = \mbox{\hyperlink{system_8cpp_a49fda3252b87be83c1bc235b1c217f35}{systemGetClock}}();
5139               \textcolor{keywordflow}{if}(currentTime != \mbox{\hyperlink{_g_b_8cpp_aca3a31fc6e9ec76072a9b9b104aa37af}{gbLastTime}})
5140                 \mbox{\hyperlink{system_8cpp_a7f5b427698bb5f4198e325e22021f1a1}{systemShowSpeed}}(100000/(currentTime - \mbox{\hyperlink{_g_b_8cpp_aca3a31fc6e9ec76072a9b9b104aa37af}{gbLastTime}}));
5141               \textcolor{keywordflow}{else}
5142                 \mbox{\hyperlink{system_8cpp_a7f5b427698bb5f4198e325e22021f1a1}{systemShowSpeed}}(0);
5143               \mbox{\hyperlink{_g_b_8cpp_aca3a31fc6e9ec76072a9b9b104aa37af}{gbLastTime}} = currentTime;
5144               \mbox{\hyperlink{_g_b_8cpp_a06ee7c3acb6c46cd2db0d121d5d786c0}{gbFrameCount}} = 0; 
5145             \}
5146           \}
5147         \}
5148       \}
5149     \}
5150 
5151     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff41] = \mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}};
5152 
5153     \textcolor{comment}{// serial emulation}
5154     \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a975777bc7fcf27e6cdec077cd985bb89}{gbSerialOn}}) \{
5155 \textcolor{preprocessor}{#ifdef LINK\_EMULATION}
5156       \textcolor{keywordflow}{if}(linkConnected) \{
5157         \mbox{\hyperlink{_g_b_8cpp_a6b56d456e3835eedec7fb20b33c4edf2}{gbSerialTicks}} -= \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}};
5158 
5159         \textcolor{keywordflow}{while}(\mbox{\hyperlink{_g_b_8cpp_a6b56d456e3835eedec7fb20b33c4edf2}{gbSerialTicks}} <= 0) \{
5160           \textcolor{comment}{// increment number of shifted bits}
5161           \mbox{\hyperlink{_g_b_8cpp_aede64838ee11e636b4687a781206f921}{gbSerialBits}}++;
5162           linkProc();
5163           \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a975777bc7fcf27e6cdec077cd985bb89}{gbSerialOn}} && (\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff02] & 1)) \{
5164             \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_aede64838ee11e636b4687a781206f921}{gbSerialBits}} == 8) \{
5165               \mbox{\hyperlink{_g_b_8cpp_aede64838ee11e636b4687a781206f921}{gbSerialBits}} = 0;
5166               \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff01] = 0xff;
5167               \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff02] &= 0x7f;
5168               \mbox{\hyperlink{_g_b_8cpp_a975777bc7fcf27e6cdec077cd985bb89}{gbSerialOn}} = 0;
5169               \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff0f] = \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} |= 8;
5170               \mbox{\hyperlink{_g_b_8cpp_a6b56d456e3835eedec7fb20b33c4edf2}{gbSerialTicks}} = 0;
5171             \}
5172           \}
5173           \mbox{\hyperlink{_g_b_8cpp_a6b56d456e3835eedec7fb20b33c4edf2}{gbSerialTicks}} += \mbox{\hyperlink{_g_b_8cpp_a6e0e4786007aaf918170106e5d8265d4}{GBSERIAL\_CLOCK\_TICKS}};
5174         \}
5175       \} \textcolor{keywordflow}{else} \{
5176 \textcolor{preprocessor}{#endif}
5177         \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff02] & 1) \{
5178           \mbox{\hyperlink{_g_b_8cpp_a6b56d456e3835eedec7fb20b33c4edf2}{gbSerialTicks}} -= \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}};
5179           
5180           \textcolor{comment}{// overflow}
5181           \textcolor{keywordflow}{while}(\mbox{\hyperlink{_g_b_8cpp_a6b56d456e3835eedec7fb20b33c4edf2}{gbSerialTicks}} <= 0) \{
5182             \textcolor{comment}{// shift serial byte to right and put a 1 bit in its place}
5183             \textcolor{comment}{//      gbMemory[0xff01] = 0x80 | (gbMemory[0xff01]>>1);}
5184             \textcolor{comment}{// increment number of shifted bits}
5185             \mbox{\hyperlink{_g_b_8cpp_aede64838ee11e636b4687a781206f921}{gbSerialBits}}++;
5186             \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_aede64838ee11e636b4687a781206f921}{gbSerialBits}} == 8) \{
5187               \textcolor{comment}{// end of transmission}
5188               \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_a824d706a8d4285ee024bfd05a69e47e4}{gbSerialFunction}}) \textcolor{comment}{// external device}
5189                 \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff01] = \mbox{\hyperlink{gb_globals_8cpp_a824d706a8d4285ee024bfd05a69e47e4}{gbSerialFunction}}(
      \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff01]);
5190               \textcolor{keywordflow}{else}
5191                 \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff01] = 0xff;
5192               \mbox{\hyperlink{_g_b_8cpp_a6b56d456e3835eedec7fb20b33c4edf2}{gbSerialTicks}} = 0;
5193               \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff02] &= 0x7f;
5194               \mbox{\hyperlink{_g_b_8cpp_a975777bc7fcf27e6cdec077cd985bb89}{gbSerialOn}} = 0;
5195               \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff0f] = \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} |= 8;
5196               \mbox{\hyperlink{_g_b_8cpp_aede64838ee11e636b4687a781206f921}{gbSerialBits}}  = 0;
5197             \} \textcolor{keywordflow}{else}
5198               \mbox{\hyperlink{_g_b_8cpp_a6b56d456e3835eedec7fb20b33c4edf2}{gbSerialTicks}} += \mbox{\hyperlink{_g_b_8cpp_a6e0e4786007aaf918170106e5d8265d4}{GBSERIAL\_CLOCK\_TICKS}};
5199           \}
5200         \}
5201 \textcolor{preprocessor}{#ifdef LINK\_EMULATION}
5202       \}
5203 \textcolor{preprocessor}{#endif}
5204     \}
5205     
5206 
5207     \mbox{\hyperlink{gb_sound_8cpp_a7b7a0e8dd81f4dce01ae52637208f23b}{soundTicks}} -= \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}};
5208 
5209     \textcolor{keywordflow}{while}(\mbox{\hyperlink{gb_sound_8cpp_a7b7a0e8dd81f4dce01ae52637208f23b}{soundTicks}} < 0) \{
5210       \mbox{\hyperlink{gb_sound_8cpp_a7b7a0e8dd81f4dce01ae52637208f23b}{soundTicks}} += \mbox{\hyperlink{gb_sound_8cpp_aef0cd952d257abbb552903fc848d30d9}{SOUND\_CLOCK\_TICKS}};
5211 
5212       \mbox{\hyperlink{gb_sound_8cpp_af8c5bd90aa6277b85ed407eae7998c4a}{gbSoundTick}}();
5213     \}
5214 
5215 
5216     \textcolor{comment}{// timer emulation}
5217 
5218     \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_aff31e411532ed8705e35d10bf7c7eee8}{gbTimerOn}}) \{
5219       \mbox{\hyperlink{_g_b_8cpp_a30eaefadb9959a0cbd62490b92f89553}{gbTimerTicks}}= ((\mbox{\hyperlink{_g_b_8cpp_af524a74ef8a0ee6751c529ae3cb60479}{gbInternalTimer}}) & \mbox{\hyperlink{_g_b_8cpp_a1bda8dea79bdc023a73d18839e332980}{gbTimerMask}}[
      \mbox{\hyperlink{_g_b_8cpp_ae66612e4574615eb4ae43aaf94e0c247}{gbTimerMode}}])+1-\mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}};
5220 
5221       \textcolor{keywordflow}{while}(\mbox{\hyperlink{_g_b_8cpp_a30eaefadb9959a0cbd62490b92f89553}{gbTimerTicks}} <= 0) \{
5222         \mbox{\hyperlink{_g_b_8cpp_a4b7d2d4e5c539a4ae530c9a87f704364}{register\_TIMA}}++;
5223         \textcolor{comment}{// timer overflow!}
5224         \textcolor{keywordflow}{if}((\mbox{\hyperlink{_g_b_8cpp_a4b7d2d4e5c539a4ae530c9a87f704364}{register\_TIMA}} & 0xff) == 0) \{
5225           \textcolor{comment}{// reload timer modulo}
5226           \mbox{\hyperlink{_g_b_8cpp_a4b7d2d4e5c539a4ae530c9a87f704364}{register\_TIMA}} = \mbox{\hyperlink{_g_b_8cpp_ab72522f07d60001a142345e55ab781a1}{register\_TMA}};
5227           \textcolor{comment}{// flag interrupt}
5228           \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff0f] = \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} |= 4;
5229         \}
5230         \mbox{\hyperlink{_g_b_8cpp_a30eaefadb9959a0cbd62490b92f89553}{gbTimerTicks}} += \mbox{\hyperlink{_g_b_8cpp_a2010725d18c236a99b06b460d03d9de0}{gbTimerClockTicks}};
5231       \}
5232       \mbox{\hyperlink{_g_b_8cpp_ad58156c3b1fa7cf868e57be5029f354f}{gbTimerOnChange}} = \textcolor{keyword}{false};
5233       \mbox{\hyperlink{_g_b_8cpp_a6a791c2b1c13c0c2692288a2df878599}{gbTimerModeChange}} = \textcolor{keyword}{false};
5234 
5235       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff05] = \mbox{\hyperlink{_g_b_8cpp_a4b7d2d4e5c539a4ae530c9a87f704364}{register\_TIMA}};
5236 
5237     \}
5238 
5239     \mbox{\hyperlink{_g_b_8cpp_af524a74ef8a0ee6751c529ae3cb60479}{gbInternalTimer}} -= \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}};
5240     \textcolor{keywordflow}{while} (\mbox{\hyperlink{_g_b_8cpp_af524a74ef8a0ee6751c529ae3cb60479}{gbInternalTimer}}<0)
5241       \mbox{\hyperlink{_g_b_8cpp_af524a74ef8a0ee6751c529ae3cb60479}{gbInternalTimer}}+=0x100;
5242 
5243     \textcolor{comment}{/*}
5244 \textcolor{comment}{    if(soundOffFlag) \{}
5245 \textcolor{comment}{      if(synchronize && !speedup) \{}
5246 \textcolor{comment}{        synchronizeTicks -= clockTicks;}
5247 \textcolor{comment}{        }
5248 \textcolor{comment}{        while(synchronizeTicks < 0) \{}
5249 \textcolor{comment}{          synchronizeTicks += SYNCHRONIZE\_CLOCK\_TICKS;}
5250 \textcolor{comment}{          }
5251 \textcolor{comment}{          DWORD now = timeGetTime();}
5252 \textcolor{comment}{          gbElapsedTime += (now - timeNow);}
5253 \textcolor{comment}{          }
5254 \textcolor{comment}{          if(gbElapsedTime < 50) \{}
5255 \textcolor{comment}{            DWORD diff = 50 - gbElapsedTime;}
5256 \textcolor{comment}{            Sleep(diff);}
5257 \textcolor{comment}{            timeNow = timeGetTime();}
5258 \textcolor{comment}{            elapsedTime = timeNow - now - diff;}
5259 \textcolor{comment}{            if((int)elapsedTime < 0)}
5260 \textcolor{comment}{              elapsedTime = 0;}
5261 \textcolor{comment}{          \} else \{}
5262 \textcolor{comment}{            timeNow = timeGetTime();}
5263 \textcolor{comment}{            elapsedTime = 0;}
5264 \textcolor{comment}{          \}}
5265 \textcolor{comment}{        \}}
5266 \textcolor{comment}{      \}}
5267 \textcolor{comment}{    \}}
5268 \textcolor{comment}{    */}
5269 
5270     \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}} = 0;
5271 
5272     \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a16ce6d87091693def4744c61d73482af}{gbIntBreak}} == 1)
5273     \{
5274       \mbox{\hyperlink{_g_b_8cpp_a16ce6d87091693def4744c61d73482af}{gbIntBreak}} = 0;
5275       \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_a94319ecba885d1837ce422125f5e4b7a}{register\_IE}} & \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} & \mbox{\hyperlink{_g_b_8cpp_a413abd6bf283ad6ba31ebe12e13083ab}{gbInterruptLaunched}} & 0x3) 
      && 
5276          ((\mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} & 0x81) == 1) && (!\mbox{\hyperlink{_g_b_8cpp_a7f28a7d19b1ffde812b67a444c46ad26}{gbInterruptWait}}) && (execute))
5277       \{
5278         \mbox{\hyperlink{_g_b_8cpp_a16ce6d87091693def4744c61d73482af}{gbIntBreak}} = 2;
5279         \mbox{\hyperlink{_g_b_8cpp_abc78e2e4c6db630eeae9741c27e9bda3}{PC}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}} = oldPCW;
5280         execute = \textcolor{keyword}{false};
5281         \mbox{\hyperlink{_g_b_8cpp_a95d90926e3997e83afac1125e6c4f1a3}{gbOldClockTicks}} = 0;
5282       \}
5283       \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a95d90926e3997e83afac1125e6c4f1a3}{gbOldClockTicks}})
5284       \{
5285         \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}} = \mbox{\hyperlink{_g_b_8cpp_a95d90926e3997e83afac1125e6c4f1a3}{gbOldClockTicks}};
5286         \mbox{\hyperlink{_g_b_8cpp_a95d90926e3997e83afac1125e6c4f1a3}{gbOldClockTicks}} = 0;
5287         \textcolor{keywordflow}{goto} gbRedoLoop;
5288       \}
5289     \}
5290 
5291     \textcolor{comment}{// Executes the opcode(s), and apply the instruction's remaining clockTicks (if any).}
5292     \textcolor{keywordflow}{if} (execute)
5293     \{
5294       \textcolor{keywordflow}{switch}(opcode1) \{
5295       \textcolor{keywordflow}{case} 0xCB:
5296         \textcolor{comment}{// extended opcode}
5297         \textcolor{keywordflow}{switch}(opcode2) \{
5298 \textcolor{preprocessor}{#include "\mbox{\hyperlink{gb_codes_c_b_8h}{gbCodesCB.h}}"}
5299         \}
5300         \textcolor{keywordflow}{break};
5301 \textcolor{preprocessor}{#include "\mbox{\hyperlink{gb_codes_8h}{gbCodes.h}}"}    
5302       \}
5303       execute = \textcolor{keyword}{false};
5304 
5305       \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}})
5306       \{
5307         \mbox{\hyperlink{gb_globals_8cpp_a5c69b801c0be4a12f58244736b806097}{gbDmaTicks}} += \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}};
5308         \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}} = 0;
5309       \}
5310     \}
5311 
5312     \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8cpp_a5c69b801c0be4a12f58244736b806097}{gbDmaTicks}})
5313     \{
5314       \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}} = \mbox{\hyperlink{_g_b_8cpp_a115aea0bc8f44c18c7b9c9e1b4d0c71e}{gbGetNextEvent}}(\mbox{\hyperlink{gb_globals_8cpp_a5c69b801c0be4a12f58244736b806097}{gbDmaTicks}});
5315 
5316       \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}}<=\mbox{\hyperlink{gb_globals_8cpp_a5c69b801c0be4a12f58244736b806097}{gbDmaTicks}})
5317         \mbox{\hyperlink{gb_globals_8cpp_a5c69b801c0be4a12f58244736b806097}{gbDmaTicks}} -= \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}};
5318       \textcolor{keywordflow}{else}
5319       \{
5320         \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}} = \mbox{\hyperlink{gb_globals_8cpp_a5c69b801c0be4a12f58244736b806097}{gbDmaTicks}};
5321         \mbox{\hyperlink{gb_globals_8cpp_a5c69b801c0be4a12f58244736b806097}{gbDmaTicks}} = 0;
5322       \}
5323 
5324       \textcolor{keywordflow}{goto} gbRedoLoop;
5325     \}
5326 
5327 
5328     \textcolor{comment}{// Remove the 'if an IE is pending' flag if IE has finished being executed.}
5329     \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} & 0x40) && !(\mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} & 0x30))
5330       \mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} &= 0x81;
5331 
5332 
5333 
5334     \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_a94319ecba885d1837ce422125f5e4b7a}{register\_IE}} & \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} & 0x1f) && (\mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} & 0x81) && (!
      \mbox{\hyperlink{_g_b_8cpp_a7f28a7d19b1ffde812b67a444c46ad26}{gbInterruptWait}}))
5335     \{        
5336 
5337       \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} & 1)
5338       \{
5339         \textcolor{comment}{// Add 5 ticks for the interrupt execution time}
5340         \mbox{\hyperlink{gb_globals_8cpp_a5c69b801c0be4a12f58244736b806097}{gbDmaTicks}} +=  5;
5341 
5342         \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a16ce6d87091693def4744c61d73482af}{gbIntBreak}} == 2)
5343         \{
5344           \mbox{\hyperlink{gb_globals_8cpp_a5c69b801c0be4a12f58244736b806097}{gbDmaTicks}}--;
5345           \mbox{\hyperlink{_g_b_8cpp_a16ce6d87091693def4744c61d73482af}{gbIntBreak}} = 0;
5346         \}
5347 
5348 
5349         \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} & \mbox{\hyperlink{_g_b_8cpp_a94319ecba885d1837ce422125f5e4b7a}{register\_IE}} & 1)
5350           \mbox{\hyperlink{_g_b_8cpp_ac130a501efb238debeffee371de75b76}{gbVblank\_interrupt}}();
5351         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} & \mbox{\hyperlink{_g_b_8cpp_a94319ecba885d1837ce422125f5e4b7a}{register\_IE}} & 2)
5352           \mbox{\hyperlink{_g_b_8cpp_a19fff2993d4a444397da7a5b90dc854e}{gbLcd\_interrupt}}();
5353         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} & \mbox{\hyperlink{_g_b_8cpp_a94319ecba885d1837ce422125f5e4b7a}{register\_IE}} & 4)
5354           \mbox{\hyperlink{_g_b_8cpp_a44d9e00cc746a8837f36145c098b4abf}{gbTimer\_interrupt}}();
5355         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} & \mbox{\hyperlink{_g_b_8cpp_a94319ecba885d1837ce422125f5e4b7a}{register\_IE}} & 8)
5356           \mbox{\hyperlink{_g_b_8cpp_a9e579d0365c256fd369722a5ad640d81}{gbSerial\_interrupt}}();
5357         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} & \mbox{\hyperlink{_g_b_8cpp_a94319ecba885d1837ce422125f5e4b7a}{register\_IE}} & 16)
5358           \mbox{\hyperlink{_g_b_8cpp_af4fd216ba787a1cfd79eb1d675819c49}{gbJoypad\_interrupt}}();
5359       \}
5360 
5361       \mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} &= ~0x81;
5362     \}
5363 
5364     \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} & 0x08)
5365       \mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} &=~0x79;
5366     
5367     \textcolor{comment}{// Used to apply the interrupt's execution time.}
5368     \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8cpp_a5c69b801c0be4a12f58244736b806097}{gbDmaTicks}})
5369     \{
5370       \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}} = \mbox{\hyperlink{_g_b_8cpp_a115aea0bc8f44c18c7b9c9e1b4d0c71e}{gbGetNextEvent}}(\mbox{\hyperlink{gb_globals_8cpp_a5c69b801c0be4a12f58244736b806097}{gbDmaTicks}});
5371 
5372       \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}}<=\mbox{\hyperlink{gb_globals_8cpp_a5c69b801c0be4a12f58244736b806097}{gbDmaTicks}})
5373         \mbox{\hyperlink{gb_globals_8cpp_a5c69b801c0be4a12f58244736b806097}{gbDmaTicks}} -= \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}};
5374       \textcolor{keywordflow}{else}
5375       \{
5376         \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}} = \mbox{\hyperlink{gb_globals_8cpp_a5c69b801c0be4a12f58244736b806097}{gbDmaTicks}};
5377         \mbox{\hyperlink{gb_globals_8cpp_a5c69b801c0be4a12f58244736b806097}{gbDmaTicks}} = 0;
5378       \}
5379       \textcolor{keywordflow}{goto} gbRedoLoop;
5380     \}
5381 
5382 
5383     \mbox{\hyperlink{_g_b_8cpp_a926c404490bea6d8e6c1f064e7ee487e}{gbBlackScreen}} = \textcolor{keyword}{false};
5384 
5385     \textcolor{keywordflow}{if}((ticksToStop <= 0)) \{
5386       \textcolor{keywordflow}{if}(!(\mbox{\hyperlink{_g_b_8cpp_af18da9d87d0d4a930844db59eef99432}{register\_LCDC}} & 0x80)) \{
5387         \textcolor{keywordflow}{if}(\mbox{\hyperlink{system_8cpp_a24194cb2b20ad5c912f4998dffe67bc0}{systemReadJoypads}}()) \{
5388           \textcolor{comment}{// read joystick}
5389           \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8h_aade6a7bab8d45119651cd9e8103d2cf8}{gbSgbMode}} && \mbox{\hyperlink{gb_s_g_b_8cpp_ae7a4e78dc83e97655de14311e4c014ef}{gbSgbMultiplayer}}) \{
5390             \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_s_g_b_8cpp_a054e658ec83c3903e7972672e3724024}{gbSgbFourPlayers}}) \{
5391               \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[0] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(0);
5392               \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[1] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(1);
5393               \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[2] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(2);
5394               \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[3] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(3);
5395             \} \textcolor{keywordflow}{else} \{
5396               \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[0] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(0);
5397               \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[1] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(1);
5398             \}
5399           \} \textcolor{keywordflow}{else} \{
5400             \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[0] = \mbox{\hyperlink{system_8cpp_a95200b1574e59363888f15c9e724437b}{systemReadJoypad}}(-1);
5401           \}             
5402         \}
5403       \}
5404       \textcolor{keywordflow}{return};
5405     \}
5406   \}
5407 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_ad61e0a4cf5a6e1f6bfda43f9e2a67826_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=305pt]{_g_b_8h_ad61e0a4cf5a6e1f6bfda43f9e2a67826_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_g_b_8h_ad725bcd0342924fc011fbe07e6e42ce5}\label{_g_b_8h_ad725bcd0342924fc011fbe07e6e42ce5}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Get\+Hardware\+Type@{gb\+Get\+Hardware\+Type}}
\index{gb\+Get\+Hardware\+Type@{gb\+Get\+Hardware\+Type}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Get\+Hardware\+Type()}{gbGetHardwareType()}}
{\footnotesize\ttfamily void gb\+Get\+Hardware\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



G\+B.\+cpp 파일의 2128 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2129 \{
2130   \mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}} = 0;
2131   \mbox{\hyperlink{gb_globals_8h_aade6a7bab8d45119651cd9e8103d2cf8}{gbSgbMode}} = 0;
2132   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_ae4f6bd8162474dbcfdbc54c36d7f5695}{gbRom}}[0x143] & 0x80) \{
2133     \textcolor{keywordflow}{if}((\mbox{\hyperlink{gb_globals_8cpp_aab449ed6ecf2bd502928a3d5aa5c54c4}{gbEmulatorType}} == 0) ||
2134        \mbox{\hyperlink{gb_globals_8cpp_aab449ed6ecf2bd502928a3d5aa5c54c4}{gbEmulatorType}} == 1 ||
2135        \mbox{\hyperlink{gb_globals_8cpp_aab449ed6ecf2bd502928a3d5aa5c54c4}{gbEmulatorType}} == 4) \{
2136       \mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}} = 1;
2137     \}
2138   \}
2139 
2140   \textcolor{keywordflow}{if}((\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}} == 0 ) && (\mbox{\hyperlink{gb_globals_8cpp_ae4f6bd8162474dbcfdbc54c36d7f5695}{gbRom}}[0x146] == 0x03)) \{
2141     \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_aab449ed6ecf2bd502928a3d5aa5c54c4}{gbEmulatorType}} == 0 ||
2142        \mbox{\hyperlink{gb_globals_8cpp_aab449ed6ecf2bd502928a3d5aa5c54c4}{gbEmulatorType}} == 2 ||
2143        \mbox{\hyperlink{gb_globals_8cpp_aab449ed6ecf2bd502928a3d5aa5c54c4}{gbEmulatorType}} == 5)
2144       \mbox{\hyperlink{gb_globals_8h_aade6a7bab8d45119651cd9e8103d2cf8}{gbSgbMode}} = 1;
2145   \}
2146 
2147   \mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} = 1; \textcolor{comment}{// GB}
2148   \textcolor{keywordflow}{if} (((\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}} == 1) && (\mbox{\hyperlink{gb_globals_8cpp_aab449ed6ecf2bd502928a3d5aa5c54c4}{gbEmulatorType}} == 0)) || (
      \mbox{\hyperlink{gb_globals_8cpp_aab449ed6ecf2bd502928a3d5aa5c54c4}{gbEmulatorType}} == 1))
2149     \mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} = 2; \textcolor{comment}{// GBC}
2150   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (((\mbox{\hyperlink{gb_globals_8h_aade6a7bab8d45119651cd9e8103d2cf8}{gbSgbMode}} == 1) && (\mbox{\hyperlink{gb_globals_8cpp_aab449ed6ecf2bd502928a3d5aa5c54c4}{gbEmulatorType}} == 0)) || (
      \mbox{\hyperlink{gb_globals_8cpp_aab449ed6ecf2bd502928a3d5aa5c54c4}{gbEmulatorType}} == 2) || (\mbox{\hyperlink{gb_globals_8cpp_aab449ed6ecf2bd502928a3d5aa5c54c4}{gbEmulatorType}} == 5))
2151     \mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} = 4; \textcolor{comment}{// SGB(2)}
2152   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8cpp_aab449ed6ecf2bd502928a3d5aa5c54c4}{gbEmulatorType}} == 4)
2153     \mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} = 8; \textcolor{comment}{// GBA}
2154 
2155   \mbox{\hyperlink{_g_b_8cpp_a032797c08251ee8b8912d71aa360049e}{gbGBCColorType}} = 0;
2156   \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 8) \textcolor{comment}{// If GBA is selected, choose the GBA default settings.}
2157     \mbox{\hyperlink{_g_b_8cpp_a032797c08251ee8b8912d71aa360049e}{gbGBCColorType}} = 2;    \textcolor{comment}{// (0 = GBC, 1 = GBA, 2 = GBASP)}
2158 \}
\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_ad725bcd0342924fc011fbe07e6e42ce5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_g_b_8h_af00d6ca488541088d207841b4d173cee}\label{_g_b_8h_af00d6ca488541088d207841b4d173cee}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Is\+Gameboy\+Rom@{gb\+Is\+Gameboy\+Rom}}
\index{gb\+Is\+Gameboy\+Rom@{gb\+Is\+Gameboy\+Rom}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Is\+Gameboy\+Rom()}{gbIsGameboyRom()}}
{\footnotesize\ttfamily bool gb\+Is\+Gameboy\+Rom (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{_g_b_8h_a48e969accbc9331054f8c83e76f9c846}\label{_g_b_8h_a48e969accbc9331054f8c83e76f9c846}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Load\+Rom@{gb\+Load\+Rom}}
\index{gb\+Load\+Rom@{gb\+Load\+Rom}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Load\+Rom()}{gbLoadRom()}}
{\footnotesize\ttfamily bool gb\+Load\+Rom (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$}]{ }\end{DoxyParamCaption})}



G\+B.\+cpp 파일의 4027 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
4028 \{
4029   \textcolor{keywordtype}{int} \mbox{\hyperlink{expr-lex_8cpp_ab7d671599a7b25ca99a487fa341bc33a}{size}} = 0;
4030 
4031   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_ae4f6bd8162474dbcfdbc54c36d7f5695}{gbRom}} != \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) \{
4032     \mbox{\hyperlink{_g_b_8cpp_aeedaf159770f49925b2908103eb86cc6}{gbCleanUp}}();
4033   \}
4034 
4035   \mbox{\hyperlink{system_8cpp_a2f706b3379eaffa6beb045c711a2102c}{systemSaveUpdateCounter}} = \mbox{\hyperlink{_system_8h_a84a7ba498ccb75cd12b84b881d4d2db3}{SYSTEM\_SAVE\_NOT\_UPDATED}};
4036 
4037   \mbox{\hyperlink{gb_globals_8cpp_ae4f6bd8162474dbcfdbc54c36d7f5695}{gbRom}} = \mbox{\hyperlink{_util_8cpp_af7926682aa796c66a08af379d2f12e54}{utilLoad}}(szFile,
4038                    \mbox{\hyperlink{_util_8cpp_a1b9e4b09709f171cf6265d86d9b78929}{utilIsGBImage}},
4039                    \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}},
4040                    \mbox{\hyperlink{expr-lex_8cpp_ab7d671599a7b25ca99a487fa341bc33a}{size}});
4041   \textcolor{keywordflow}{if}(!\mbox{\hyperlink{gb_globals_8cpp_ae4f6bd8162474dbcfdbc54c36d7f5695}{gbRom}})
4042     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
4043 
4044   \mbox{\hyperlink{gb_globals_8cpp_a631a6f355a95e0baa1ddc7e09d61eaa4}{gbRomSize}} = \mbox{\hyperlink{expr-lex_8cpp_ab7d671599a7b25ca99a487fa341bc33a}{size}};
4045 
4046   \mbox{\hyperlink{_g_b_8cpp_a56e69687643cc9893d3029d02e8821e2}{gbBatteryError}} = \textcolor{keyword}{false};
4047 
4048   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8h_aec268401eba88422e56ca0a7a86cb991}{bios}} != \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) \{
4049     free(\mbox{\hyperlink{gb_globals_8h_aec268401eba88422e56ca0a7a86cb991}{bios}});
4050     \mbox{\hyperlink{gb_globals_8h_aec268401eba88422e56ca0a7a86cb991}{bios}} = \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};
4051   \}
4052   \mbox{\hyperlink{gb_globals_8h_aec268401eba88422e56ca0a7a86cb991}{bios}} = (\mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} *)calloc(1,0x100);
4053   
4054   \textcolor{keywordflow}{return} \mbox{\hyperlink{_g_b_8cpp_a488b8f327a7170d7397edf3225f92f62}{gbUpdateSizes}}();
4055 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{_g_b_8h_a48e969accbc9331054f8c83e76f9c846_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_a48e969accbc9331054f8c83e76f9c846_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_g_b_8h_a62c7f9b21cc8e3abb19b92bb58706d73}\label{_g_b_8h_a62c7f9b21cc8e3abb19b92bb58706d73}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Read\+Battery\+File@{gb\+Read\+Battery\+File}}
\index{gb\+Read\+Battery\+File@{gb\+Read\+Battery\+File}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Read\+Battery\+File()}{gbReadBatteryFile()}}
{\footnotesize\ttfamily bool gb\+Read\+Battery\+File (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$}]{ }\end{DoxyParamCaption})}



G\+B.\+cpp 파일의 3275 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3276 \{
3277   \textcolor{keywordtype}{bool} res = \textcolor{keyword}{false};
3278   \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a5499841d2688c9dec70d0b0af42d481e}{gbBattery}}) \{
3279     \textcolor{keywordflow}{switch}(\mbox{\hyperlink{_g_b_8cpp_aa2d8461e7ac3d690783de903ab527c35}{gbRomType}}) \{
3280     \textcolor{keywordflow}{case} 0x03:
3281       res = \mbox{\hyperlink{_g_b_8cpp_abc3e79ccf877af7c67b80c1cde275d11}{gbReadSaveMBC1}}(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}});
3282       \textcolor{keywordflow}{break};
3283     \textcolor{keywordflow}{case} 0x06:
3284       res = \mbox{\hyperlink{_g_b_8cpp_a9027cf69576129edba212aa8224d040f}{gbReadSaveMBC2}}(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}});
3285       \textcolor{keywordflow}{break};
3286     \textcolor{keywordflow}{case} 0x0d:
3287       res = \mbox{\hyperlink{_g_b_8cpp_a22a9e248410b6c3a8acfd65090217155}{gbReadSaveMMM01}}(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}});
3288       \textcolor{keywordflow}{break};
3289     \textcolor{keywordflow}{case} 0x0f:
3290     \textcolor{keywordflow}{case} 0x10:
3291       \textcolor{keywordflow}{if}(!\mbox{\hyperlink{_g_b_8cpp_aa7493e7a0f47d47dcaed5753be5e1e8e}{gbReadSaveMBC3}}(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}})) \{
3292         time(&\mbox{\hyperlink{gb_memory_8cpp_aba489e64022131370e1526c042068e34}{gbDataMBC3}}.\mbox{\hyperlink{structmapper_m_b_c3_a0af0b1504e0506e54dafd63f19bfedf5}{mapperLastTime}});
3293         \textcolor{keyword}{struct }tm *lt;
3294         lt = localtime(&\mbox{\hyperlink{gb_memory_8cpp_aba489e64022131370e1526c042068e34}{gbDataMBC3}}.\mbox{\hyperlink{structmapper_m_b_c3_a0af0b1504e0506e54dafd63f19bfedf5}{mapperLastTime}});
3295         \mbox{\hyperlink{gb_memory_8cpp_aba489e64022131370e1526c042068e34}{gbDataMBC3}}.\mbox{\hyperlink{structmapper_m_b_c3_a9a361b45b036291bc6b6eaa8f612d3e0}{mapperSeconds}} = lt->tm\_sec;
3296         \mbox{\hyperlink{gb_memory_8cpp_aba489e64022131370e1526c042068e34}{gbDataMBC3}}.\mbox{\hyperlink{structmapper_m_b_c3_a1accaec3dd364cbd7c511bc30b1a9c69}{mapperMinutes}} = lt->tm\_min;
3297         \mbox{\hyperlink{gb_memory_8cpp_aba489e64022131370e1526c042068e34}{gbDataMBC3}}.\mbox{\hyperlink{structmapper_m_b_c3_ae781e00e6d350fcaa9799047005d97fd}{mapperHours}} = lt->tm\_hour;
3298         \mbox{\hyperlink{gb_memory_8cpp_aba489e64022131370e1526c042068e34}{gbDataMBC3}}.\mbox{\hyperlink{structmapper_m_b_c3_a0b5ce518ea25e7df36833c2b5ad0ed28}{mapperDays}} = lt->tm\_yday & 255;
3299         \mbox{\hyperlink{gb_memory_8cpp_aba489e64022131370e1526c042068e34}{gbDataMBC3}}.\mbox{\hyperlink{structmapper_m_b_c3_a05a1f6d6d1a63d7b7a9d03fb25b05baf}{mapperControl}} = (\mbox{\hyperlink{gb_memory_8cpp_aba489e64022131370e1526c042068e34}{gbDataMBC3}}.
      \mbox{\hyperlink{structmapper_m_b_c3_a05a1f6d6d1a63d7b7a9d03fb25b05baf}{mapperControl}} & 0xfe) |
3300           (lt->tm\_yday > 255 ? 1: 0);
3301         res = \textcolor{keyword}{false};
3302         \textcolor{keywordflow}{break};
3303       \}
3304       res = \textcolor{keyword}{true};
3305       \textcolor{keywordflow}{break};
3306     \textcolor{keywordflow}{case} 0x13:
3307     \textcolor{keywordflow}{case} 0xfc:
3308       res = \mbox{\hyperlink{_g_b_8cpp_aa7493e7a0f47d47dcaed5753be5e1e8e}{gbReadSaveMBC3}}(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}});
3309     \textcolor{keywordflow}{case} 0x1b:
3310     \textcolor{keywordflow}{case} 0x1e:
3311       res = \mbox{\hyperlink{_g_b_8cpp_a42a3b6c7e74bd3e5b191be39d53d6d51}{gbReadSaveMBC5}}(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}});
3312       \textcolor{keywordflow}{break};
3313     \textcolor{keywordflow}{case} 0x22:
3314       res = \mbox{\hyperlink{_g_b_8cpp_adff05831d0c5cca32b085cda6c6c8851}{gbReadSaveMBC7}}(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}});
3315     \textcolor{keywordflow}{case} 0xfd:
3316       \textcolor{keywordflow}{if}(!\mbox{\hyperlink{_g_b_8cpp_aa25b8535b986adab31232facc51f6629}{gbReadSaveTAMA5}}(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}})) \{
3317         \mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} \mbox{\hyperlink{gb_memory_8cpp_ad52b22551fd7f6be86b1dd6839f74e28}{gbDaysinMonth}} [12] = \{ 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31\};
3318         time(&\mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}}.\mbox{\hyperlink{structmapper_t_a_m_a5_a17c496365ad1dc010ae670fb795ad22e}{mapperLastTime}});
3319         \textcolor{keyword}{struct }tm *lt;
3320         lt = localtime(&\mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}}.\mbox{\hyperlink{structmapper_t_a_m_a5_a17c496365ad1dc010ae670fb795ad22e}{mapperLastTime}});
3321         \mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}}.\mbox{\hyperlink{structmapper_t_a_m_a5_a550e9e8cc1387017520092bbd9890bfc}{mapperSeconds}} = lt->tm\_sec;
3322         \mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}}.\mbox{\hyperlink{structmapper_t_a_m_a5_aeda85e46297097650e96cb4d39d238b0}{mapperMinutes}} = lt->tm\_min;
3323         \mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}}.\mbox{\hyperlink{structmapper_t_a_m_a5_a0deb99c94aea41a2ca1d355a0d209274}{mapperHours}} = lt->tm\_hour;
3324         \mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}}.\mbox{\hyperlink{structmapper_t_a_m_a5_aee94a4b7e0b59dc7eec9b27d708d6b40}{mapperDays}} = 1;
3325         \mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}}.\mbox{\hyperlink{structmapper_t_a_m_a5_ad085d7e9850d22965300876cf540bc4f}{mapperMonths}} = 1;
3326         \mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}}.\mbox{\hyperlink{structmapper_t_a_m_a5_a992518f0c70132b2462a70ae61a19f96}{mapperYears}} = 1970;
3327         \textcolor{keywordtype}{int} days = lt->tm\_yday+365*3;
3328         \textcolor{keywordflow}{while} (days)
3329         \{
3330           \mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}}.\mbox{\hyperlink{structmapper_t_a_m_a5_aee94a4b7e0b59dc7eec9b27d708d6b40}{mapperDays}}++;
3331           days--;
3332           \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}}.\mbox{\hyperlink{structmapper_t_a_m_a5_aee94a4b7e0b59dc7eec9b27d708d6b40}{mapperDays}}>\mbox{\hyperlink{gb_memory_8cpp_ad52b22551fd7f6be86b1dd6839f74e28}{gbDaysinMonth}}[
      \mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}}.\mbox{\hyperlink{structmapper_t_a_m_a5_ad085d7e9850d22965300876cf540bc4f}{mapperMonths}}-1])
3333           \{
3334             \mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}}.\mbox{\hyperlink{structmapper_t_a_m_a5_aee94a4b7e0b59dc7eec9b27d708d6b40}{mapperDays}} = 1;
3335             \mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}}.\mbox{\hyperlink{structmapper_t_a_m_a5_ad085d7e9850d22965300876cf540bc4f}{mapperMonths}}++;
3336             \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}}.\mbox{\hyperlink{structmapper_t_a_m_a5_ad085d7e9850d22965300876cf540bc4f}{mapperMonths}}>12)
3337             \{
3338                \mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}}.\mbox{\hyperlink{structmapper_t_a_m_a5_ad085d7e9850d22965300876cf540bc4f}{mapperMonths}} = 1;
3339                \mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}}.\mbox{\hyperlink{structmapper_t_a_m_a5_a992518f0c70132b2462a70ae61a19f96}{mapperYears}}++;
3340                \textcolor{keywordflow}{if} ((\mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}}.\mbox{\hyperlink{structmapper_t_a_m_a5_a992518f0c70132b2462a70ae61a19f96}{mapperYears}} & 3) == 0)
3341                  \mbox{\hyperlink{gb_memory_8cpp_ad52b22551fd7f6be86b1dd6839f74e28}{gbDaysinMonth}}[1] = 29;
3342                \textcolor{keywordflow}{else}
3343                  \mbox{\hyperlink{gb_memory_8cpp_ad52b22551fd7f6be86b1dd6839f74e28}{gbDaysinMonth}}[1] = 28;
3344             \}
3345           \}
3346         \}
3347         \mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}}.\mbox{\hyperlink{structmapper_t_a_m_a5_aecd47b2b0c963d9f7d41aaf562c67ebd}{mapperControl}} = (\mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}}.
      \mbox{\hyperlink{structmapper_t_a_m_a5_aecd47b2b0c963d9f7d41aaf562c67ebd}{mapperControl}} & 0xfe) |
3348           (lt->tm\_yday > 255 ? 1: 0);
3349         res = \textcolor{keyword}{false};
3350         \textcolor{keywordflow}{break};
3351       \}
3352       res = \textcolor{keyword}{true};
3353       \textcolor{keywordflow}{break};
3354     \textcolor{keywordflow}{case} 0xff:
3355       res = \mbox{\hyperlink{_g_b_8cpp_abc3e79ccf877af7c67b80c1cde275d11}{gbReadSaveMBC1}}(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}});
3356       \textcolor{keywordflow}{break};
3357     \}
3358   \}
3359   \mbox{\hyperlink{system_8cpp_a2f706b3379eaffa6beb045c711a2102c}{systemSaveUpdateCounter}} = \mbox{\hyperlink{_system_8h_a84a7ba498ccb75cd12b84b881d4d2db3}{SYSTEM\_SAVE\_NOT\_UPDATED}};
3360   \textcolor{keywordflow}{return} res;
3361 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_a62c7f9b21cc8e3abb19b92bb58706d73_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_g_b_8h_a537f2e73fde869ac2911162699b8f2da}\label{_g_b_8h_a537f2e73fde869ac2911162699b8f2da}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Read\+G\+S\+A\+Snapshot@{gb\+Read\+G\+S\+A\+Snapshot}}
\index{gb\+Read\+G\+S\+A\+Snapshot@{gb\+Read\+G\+S\+A\+Snapshot}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Read\+G\+S\+A\+Snapshot()}{gbReadGSASnapshot()}}
{\footnotesize\ttfamily bool gb\+Read\+G\+S\+A\+Snapshot (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$}]{ }\end{DoxyParamCaption})}



G\+B.\+cpp 파일의 3363 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3364 \{
3365   FILE *\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}} = fopen(fileName, \textcolor{stringliteral}{"rb"});
3366     
3367   \textcolor{keywordflow}{if}(!\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}}) \{
3368     \mbox{\hyperlink{system_8cpp_a747a9cb8e015a3d45cca636b5bd0fc69}{systemMessage}}(\mbox{\hyperlink{_n_l_s_8h_a92eb477b404441aeb32e495e32f34ee5}{MSG\_CANNOT\_OPEN\_FILE}}, \mbox{\hyperlink{intl_8h_a75278405e7f034d2b1af80bfd94675fe}{N\_}}(\textcolor{stringliteral}{"Cannot open file %s"}), 
      fileName);
3369     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
3370   \}
3371   
3372   fseek(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}}, 0x4, \mbox{\hyperlink{unzip_8cpp_a0d112bae8fd35be772185b6ec6bcbe64}{SEEK\_SET}});
3373   \textcolor{keywordtype}{char} \mbox{\hyperlink{_g_b_a_8cpp_a28d4d3d8445e73a696b2d6f7eadabd96}{buffer}}[16];
3374   \textcolor{keywordtype}{char} buffer2[16];
3375   fread(\mbox{\hyperlink{_g_b_a_8cpp_a28d4d3d8445e73a696b2d6f7eadabd96}{buffer}}, 1, 15, \mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}});
3376   \mbox{\hyperlink{_g_b_a_8cpp_a28d4d3d8445e73a696b2d6f7eadabd96}{buffer}}[15] = 0;
3377   memcpy(buffer2, &\mbox{\hyperlink{gb_globals_8cpp_ae4f6bd8162474dbcfdbc54c36d7f5695}{gbRom}}[0x134], 15);
3378   buffer2[15] = 0;
3379   \textcolor{keywordflow}{if}(memcmp(\mbox{\hyperlink{_g_b_a_8cpp_a28d4d3d8445e73a696b2d6f7eadabd96}{buffer}}, buffer2, 15)) \{
3380     \mbox{\hyperlink{system_8cpp_a747a9cb8e015a3d45cca636b5bd0fc69}{systemMessage}}(\mbox{\hyperlink{_n_l_s_8h_a7800ee088c26546290b0cd7fe553fba0}{MSG\_CANNOT\_IMPORT\_SNAPSHOT\_FOR}},
3381                   \mbox{\hyperlink{intl_8h_a75278405e7f034d2b1af80bfd94675fe}{N\_}}(\textcolor{stringliteral}{"Cannot import snapshot for %s. Current game is %s"}),
3382                   \mbox{\hyperlink{_g_b_a_8cpp_a28d4d3d8445e73a696b2d6f7eadabd96}{buffer}},
3383                   buffer2);
3384     fclose(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}});
3385     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
3386   \}
3387   fseek(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}}, 0x13, \mbox{\hyperlink{unzip_8cpp_a0d112bae8fd35be772185b6ec6bcbe64}{SEEK\_SET}});
3388   \textcolor{keywordtype}{size\_t} read = 0;
3389   \textcolor{keywordtype}{int} toRead = 0;
3390   \textcolor{keywordflow}{switch}(\mbox{\hyperlink{_g_b_8cpp_aa2d8461e7ac3d690783de903ab527c35}{gbRomType}}) \{
3391   \textcolor{keywordflow}{case} 0x03:
3392   \textcolor{keywordflow}{case} 0x0f:
3393   \textcolor{keywordflow}{case} 0x10:
3394   \textcolor{keywordflow}{case} 0x13:
3395   \textcolor{keywordflow}{case} 0x1b:
3396   \textcolor{keywordflow}{case} 0x1e:
3397   \textcolor{keywordflow}{case} 0xff:
3398     read = fread(\mbox{\hyperlink{gb_globals_8cpp_a5e89477379c5d2241d53357a34219750}{gbRam}}, 1, (\mbox{\hyperlink{gb_globals_8cpp_adf988b29b086f0dc9278a557e0bf3a41}{gbRamSizeMask}}+1), \mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}});
3399     toRead = (\mbox{\hyperlink{gb_globals_8cpp_adf988b29b086f0dc9278a557e0bf3a41}{gbRamSizeMask}}+1);
3400     \textcolor{keywordflow}{break};
3401   \textcolor{keywordflow}{case} 0x06:
3402   \textcolor{keywordflow}{case} 0x22:
3403     read = fread(&\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xa000],1,256,\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}});
3404     toRead = 256;
3405     \textcolor{keywordflow}{break};
3406   \textcolor{keywordflow}{default}:
3407     \mbox{\hyperlink{system_8cpp_a747a9cb8e015a3d45cca636b5bd0fc69}{systemMessage}}(\mbox{\hyperlink{_n_l_s_8h_aa3de699a1d8369f6e6fa46f7f85f4b07}{MSG\_UNSUPPORTED\_SNAPSHOT\_FILE}},
3408                   \mbox{\hyperlink{intl_8h_a75278405e7f034d2b1af80bfd94675fe}{N\_}}(\textcolor{stringliteral}{"Unsupported snapshot file %s"}),
3409                   fileName);
3410     fclose(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}});
3411     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
3412   \}    
3413   fclose(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}});
3414   \mbox{\hyperlink{_g_b_8cpp_a9447f508d6d45a49df2ce7619650a6de}{gbReset}}();
3415   \textcolor{keywordflow}{return} \textcolor{keyword}{true};  
3416 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_a537f2e73fde869ac2911162699b8f2da_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_a537f2e73fde869ac2911162699b8f2da_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_g_b_8h_a0da167f7d0a43c90028ac9e39527c6f0}\label{_g_b_8h_a0da167f7d0a43c90028ac9e39527c6f0}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Read\+Mem\+Save\+State@{gb\+Read\+Mem\+Save\+State}}
\index{gb\+Read\+Mem\+Save\+State@{gb\+Read\+Mem\+Save\+State}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Read\+Mem\+Save\+State()}{gbReadMemSaveState()}}
{\footnotesize\ttfamily bool gb\+Read\+Mem\+Save\+State (\begin{DoxyParamCaption}\item[{char $\ast$}]{,  }\item[{\mbox{\hyperlink{_util_8cpp_a0ef32aa8672df19503a49fab2d0c8071}{int}}}]{ }\end{DoxyParamCaption})}



G\+B.\+cpp 파일의 3940 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3941 \{
3942   gzFile gzFile = \mbox{\hyperlink{_util_8cpp_a02e6a64e4965d9911ebe6cf6b43fd192}{utilMemGzOpen}}(memory, available, \textcolor{stringliteral}{"r"});
3943 
3944   \textcolor{keywordtype}{bool} res = \mbox{\hyperlink{_g_b_8cpp_af637f5c9fc3c5a33dc79f4a06ba447bb}{gbReadSaveState}}(gzFile);
3945 
3946   \mbox{\hyperlink{_util_8cpp_ae27f61ca2a7be5ae312a177b9b7eca78}{utilGzClose}}(gzFile);
3947 
3948   \textcolor{keywordflow}{return} res;
3949 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_a0da167f7d0a43c90028ac9e39527c6f0_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_g_b_8h_a98ecfffcfe8ea60c1dd0f8a8342f90fd}\label{_g_b_8h_a98ecfffcfe8ea60c1dd0f8a8342f90fd}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Read\+Save\+State@{gb\+Read\+Save\+State}}
\index{gb\+Read\+Save\+State@{gb\+Read\+Save\+State}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Read\+Save\+State()}{gbReadSaveState()}}
{\footnotesize\ttfamily bool gb\+Read\+Save\+State (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$}]{ }\end{DoxyParamCaption})}



G\+B.\+cpp 파일의 3951 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3952 \{
3953   gzFile gzFile = \mbox{\hyperlink{_util_8cpp_a4030eff11c2659e960204acd8e8fdbd4}{utilGzOpen}}(name,\textcolor{stringliteral}{"rb"});
3954 
3955   \textcolor{keywordflow}{if}(gzFile == \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) \{
3956     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
3957   \}
3958   
3959   \textcolor{keywordtype}{bool} res = \mbox{\hyperlink{_g_b_8cpp_af637f5c9fc3c5a33dc79f4a06ba447bb}{gbReadSaveState}}(gzFile);
3960   
3961   \mbox{\hyperlink{_util_8cpp_ae27f61ca2a7be5ae312a177b9b7eca78}{utilGzClose}}(gzFile);
3962   
3963   \textcolor{keywordflow}{return} res;
3964 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_a98ecfffcfe8ea60c1dd0f8a8342f90fd_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=326pt]{_g_b_8h_a98ecfffcfe8ea60c1dd0f8a8342f90fd_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_g_b_8h_a9447f508d6d45a49df2ce7619650a6de}\label{_g_b_8h_a9447f508d6d45a49df2ce7619650a6de}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Reset@{gb\+Reset}}
\index{gb\+Reset@{gb\+Reset}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Reset()}{gbReset()}}
{\footnotesize\ttfamily void gb\+Reset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



G\+B.\+cpp 파일의 2160 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2161 \{
2162   \mbox{\hyperlink{_g_b_8cpp_ad725bcd0342924fc011fbe07e6e42ce5}{gbGetHardwareType}}();
2163 
2164   \mbox{\hyperlink{_g_b_8cpp_ae85aa77fbabadb9981575f14fc251b50}{oldRegister\_WY}} = 146;
2165   \mbox{\hyperlink{_g_b_8cpp_a413abd6bf283ad6ba31ebe12e13083ab}{gbInterruptLaunched}} = 0;
2166 
2167   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}} == 1) \{
2168       \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8cpp_acc4cae98f0f9473610870333741081e9}{gbVram}} == \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})
2169         \mbox{\hyperlink{gb_globals_8cpp_acc4cae98f0f9473610870333741081e9}{gbVram}} = (\mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} *)malloc(0x4000);
2170       \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8cpp_a8cedc409ffccdcaeae687da92d986004}{gbWram}} == \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})
2171         \mbox{\hyperlink{gb_globals_8cpp_a8cedc409ffccdcaeae687da92d986004}{gbWram}} = (\mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} *)malloc(0x8000);
2172       memset(\mbox{\hyperlink{gb_globals_8cpp_acc4cae98f0f9473610870333741081e9}{gbVram}},0,0x4000);
2173       memset(\mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}},0, 2*128);
2174   \}
2175   \textcolor{keywordflow}{else}
2176   \{
2177     \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_acc4cae98f0f9473610870333741081e9}{gbVram}} != \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) \{
2178       free(\mbox{\hyperlink{gb_globals_8cpp_acc4cae98f0f9473610870333741081e9}{gbVram}});
2179       \mbox{\hyperlink{gb_globals_8cpp_acc4cae98f0f9473610870333741081e9}{gbVram}} = \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};
2180     \}
2181     \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_a8cedc409ffccdcaeae687da92d986004}{gbWram}} != \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) \{
2182       free(\mbox{\hyperlink{gb_globals_8cpp_a8cedc409ffccdcaeae687da92d986004}{gbWram}});
2183       \mbox{\hyperlink{gb_globals_8cpp_a8cedc409ffccdcaeae687da92d986004}{gbWram}} = \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};
2184     \}
2185   \}
2186 
2187   \mbox{\hyperlink{_g_b_8cpp_a238377c335fc8259839d03a324993acd}{gbLYChangeHappened}} = \textcolor{keyword}{false};
2188   \mbox{\hyperlink{_g_b_8cpp_a243ed6fb41567443335cef76d722e1ea}{gbLCDChangeHappened}} = \textcolor{keyword}{false};
2189   \mbox{\hyperlink{_g_b_8cpp_a926c404490bea6d8e6c1f064e7ee487e}{gbBlackScreen}} = \textcolor{keyword}{false};
2190   \mbox{\hyperlink{_g_b_8cpp_a7f28a7d19b1ffde812b67a444c46ad26}{gbInterruptWait}} = 0;
2191   \mbox{\hyperlink{gb_globals_8cpp_a5c69b801c0be4a12f58244736b806097}{gbDmaTicks}} = 0;
2192   \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}} = 0;
2193 
2194   \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}}) \{
2195     \mbox{\hyperlink{_g_b_8cpp_a6016f3db58b8373055d005102a221b12}{gbSpeedSwitch}}();
2196     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff4d] = 0;
2197   \}
2198 
2199   \textcolor{comment}{// clean Wram}
2200   \textcolor{comment}{// This kinda emulates the startup state of Wram on GB/C (not very accurate,}
2201   \textcolor{comment}{// but way closer to the reality than filling it with 00es or FFes).}
2202   \textcolor{comment}{// On GBA/GBASP, it's kinda filled with random data.}
2203   \textcolor{comment}{// In all cases, most of the 2nd bank is filled with 00s.}
2204   \textcolor{comment}{// The starting data are important for some 'buggy' games, like Buster Brothers or}
2205   \textcolor{comment}{// Karamuchou ha Oosawagi!.}
2206   \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}} != \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})
2207   \{
2208     memset(\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}},0xff, 65536);
2209     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} temp = 0xC000; temp < 0xE000; temp++)
2210       \textcolor{keywordflow}{if} ((temp & 0x8) ^((temp & 0x800)>>8))
2211       \{
2212           \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 0x02) && (\mbox{\hyperlink{_g_b_8cpp_a032797c08251ee8b8912d71aa360049e}{gbGBCColorType}} == 0))
2213             \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[temp] = 0x0;
2214           \textcolor{keywordflow}{else}
2215             \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[temp] = 0x0f;
2216       \}
2217 
2218       \textcolor{keywordflow}{else}
2219           \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[temp] = 0xff;
2220   \}
2221 
2222 
2223       
2224   \textcolor{comment}{// clean LineBuffer}
2225   \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8cpp_a28491355be3715000cb2fea27dc567d0}{gbLineBuffer}} != \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})
2226     memset(\mbox{\hyperlink{gb_globals_8cpp_a28491355be3715000cb2fea27dc567d0}{gbLineBuffer}}, 0, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{gb_globals_8cpp_a28491355be3715000cb2fea27dc567d0}{gbLineBuffer}}));
2227   \textcolor{comment}{// clean Pix}
2228   \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a5ee6554b606dcde59ac92578b33776d0}{pix}} != \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})
2229     memset(\mbox{\hyperlink{_g_b_8cpp_a5ee6554b606dcde59ac92578b33776d0}{pix}}, 0, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{_g_b_8cpp_a5ee6554b606dcde59ac92578b33776d0}{pix}}));
2230   \textcolor{comment}{// clean Vram}
2231   \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8cpp_acc4cae98f0f9473610870333741081e9}{gbVram}} != \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})
2232     memset(\mbox{\hyperlink{gb_globals_8cpp_acc4cae98f0f9473610870333741081e9}{gbVram}}, 0, 0x4000);
2233   \textcolor{comment}{// clean Wram 2}
2234   \textcolor{comment}{// This kinda emulates the startup state of Wram on GBC (not very accurate,}
2235   \textcolor{comment}{// but way closer to the reality than filling it with 00es or FFes).}
2236   \textcolor{comment}{// On GBA/GBASP, it's kinda filled with random data.}
2237   \textcolor{comment}{// In all cases, most of the 2nd bank is filled with 00s.}
2238   \textcolor{comment}{// The starting data are important for some 'buggy' games, like Buster Brothers or}
2239   \textcolor{comment}{// Karamuchou ha Oosawagi!}
2240   \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8cpp_a8cedc409ffccdcaeae687da92d986004}{gbWram}} != \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})
2241   \{
2242       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} = 0; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<8; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)
2243           \textcolor{keywordflow}{if} (\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} != 2)
2244       memcpy ((\mbox{\hyperlink{_system_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} *)(\mbox{\hyperlink{gb_globals_8cpp_a8cedc409ffccdcaeae687da92d986004}{gbWram}}+\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}*0x1000), (\mbox{\hyperlink{_system_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} *)(\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}+0xC000), 0x1000);
2245   \}
2246 
2247   memset(\mbox{\hyperlink{_g_b_8cpp_a26111ddea8553b4079e52f0ecbee0b95}{gbSCYLine}},0,\textcolor{keyword}{sizeof}(\mbox{\hyperlink{_g_b_8cpp_a26111ddea8553b4079e52f0ecbee0b95}{gbSCYLine}}));
2248   memset(\mbox{\hyperlink{_g_b_8cpp_a36343b46b0d9331cfee81944cda1087c}{gbSCXLine}},0,\textcolor{keyword}{sizeof}(\mbox{\hyperlink{_g_b_8cpp_a36343b46b0d9331cfee81944cda1087c}{gbSCXLine}}));
2249   memset(\mbox{\hyperlink{_g_b_8cpp_a754f72d502cf0c77a0b99d387a9d60a4}{gbBgpLine}},0xfc,\textcolor{keyword}{sizeof}(\mbox{\hyperlink{_g_b_8cpp_a754f72d502cf0c77a0b99d387a9d60a4}{gbBgpLine}}));
2250   \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 5)
2251   \{
2252     memset(\mbox{\hyperlink{_g_b_8cpp_ae9bdf1830d9cc0311f49bc3ac3619e2b}{gbObp0Line}},0xff,\textcolor{keyword}{sizeof}(\mbox{\hyperlink{_g_b_8cpp_ae9bdf1830d9cc0311f49bc3ac3619e2b}{gbObp0Line}}));
2253     memset(\mbox{\hyperlink{_g_b_8cpp_a5c2bbe8c392c9c591ba889e3ea8ff5fc}{gbObp1Line}},0xff,\textcolor{keyword}{sizeof}(\mbox{\hyperlink{_g_b_8cpp_a5c2bbe8c392c9c591ba889e3ea8ff5fc}{gbObp1Line}}));
2254   \}
2255   \textcolor{keywordflow}{else}
2256   \{
2257     memset(\mbox{\hyperlink{_g_b_8cpp_ae9bdf1830d9cc0311f49bc3ac3619e2b}{gbObp0Line}},0x0,\textcolor{keyword}{sizeof}(\mbox{\hyperlink{_g_b_8cpp_ae9bdf1830d9cc0311f49bc3ac3619e2b}{gbObp0Line}}));
2258     memset(\mbox{\hyperlink{_g_b_8cpp_a5c2bbe8c392c9c591ba889e3ea8ff5fc}{gbObp1Line}},0x0,\textcolor{keyword}{sizeof}(\mbox{\hyperlink{_g_b_8cpp_a5c2bbe8c392c9c591ba889e3ea8ff5fc}{gbObp1Line}}));
2259   \}
2260   memset(\mbox{\hyperlink{_g_b_8cpp_a715f2cbfee64834b0811918eae6133f4}{gbSpritesTicks}},0x0,\textcolor{keyword}{sizeof}(\mbox{\hyperlink{_g_b_8cpp_a715f2cbfee64834b0811918eae6133f4}{gbSpritesTicks}}));
2261 
2262   \mbox{\hyperlink{_g_b_8cpp_ae227d31e10437c2c514b176a640233ee}{SP}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}} = 0xfffe;
2263   \mbox{\hyperlink{_g_b_8cpp_adbdbabf733f29a8d90be3a45b89db300}{AF}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}} = 0x01b0;
2264   \mbox{\hyperlink{_g_b_8cpp_a7d5b0176171a95aaf6a5883fcfe15e73}{BC}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}} = 0x0013;
2265   \mbox{\hyperlink{_g_b_8cpp_a7ef08d5336cc8f5a93c110c771ba850d}{DE}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}} = 0x00d8;
2266   \mbox{\hyperlink{_g_b_8cpp_a764b6d6d468edba273b26b27618a1f5e}{HL}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}} = 0x014d;
2267   \mbox{\hyperlink{_g_b_8cpp_abc78e2e4c6db630eeae9741c27e9bda3}{PC}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}} = 0x0100;
2268   \mbox{\hyperlink{_g_b_8cpp_a5e859ca14cc13bd60eaca4b78b656b6e}{IFF}} = 0;
2269   \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} = 0;
2270   
2271   \mbox{\hyperlink{_g_b_8cpp_a4b7d2d4e5c539a4ae530c9a87f704364}{register\_TIMA}} = 0;
2272   \mbox{\hyperlink{_g_b_8cpp_ab72522f07d60001a142345e55ab781a1}{register\_TMA}} = 0;
2273   \mbox{\hyperlink{_g_b_8cpp_a893111f1604efeaeaccbc1dd11cca3ac}{register\_TAC}} = 0;
2274   \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff0f] = \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} = 1;
2275   \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff40] = \mbox{\hyperlink{_g_b_8cpp_af18da9d87d0d4a930844db59eef99432}{register\_LCDC}} = 0x91;
2276   \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff47] = 0xfc;
2277 
2278   \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}})
2279     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff4d] = 0x7e;
2280   \textcolor{keywordflow}{else}
2281     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff4d] = 0xff;
2282 
2283   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}})
2284     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff70] = \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff74] = 0xff;
2285 
2286   \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}})
2287     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff56] = 0x3e;
2288   \textcolor{keywordflow}{else}
2289     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff56] = 0xff;
2290 
2291   \mbox{\hyperlink{_g_b_8cpp_a969488e6c82c7bb97c6e86968315a960}{register\_SCY}} = 0;
2292   \mbox{\hyperlink{_g_b_8cpp_a28884b40d0a2100be4080ae1184e1400}{register\_SCX}} = 0;   
2293   \mbox{\hyperlink{_g_b_8cpp_aaef25423ec345e8c454581a0119b93f8}{register\_LYC}} = 0;
2294   \mbox{\hyperlink{_g_b_8cpp_a9fe405f39bf84e015c4714a2e579269c}{register\_DMA}} = 0xff;
2295   \mbox{\hyperlink{_g_b_8cpp_a0c0df073066ca310ec6fecb25bd3988c}{register\_WY}} = 0;
2296   \mbox{\hyperlink{_g_b_8cpp_a43896b4dc65b98644f0b065e4e56a636}{register\_WX}} = 0;
2297   \mbox{\hyperlink{_g_b_8cpp_a649138268bf54f59608cbe4543a7d6de}{register\_VBK}} = 0;
2298   \mbox{\hyperlink{_g_b_8cpp_a4b14af08953150e165d5b6f17dc6448c}{register\_HDMA1}} = 0xff;
2299   \mbox{\hyperlink{_g_b_8cpp_ad94b6beda86d4e269d99c507cc2135bd}{register\_HDMA2}} = 0xff;
2300   \mbox{\hyperlink{_g_b_8cpp_a482f3143d580db1097c1a810c26e449e}{register\_HDMA3}} = 0xff;
2301   \mbox{\hyperlink{_g_b_8cpp_a6d2ae54faba31ec925feff674b62da09}{register\_HDMA4}} = 0xff;
2302   \mbox{\hyperlink{_g_b_8cpp_a682149c36122c334759aef3639e3a511}{register\_HDMA5}} = 0xff;
2303   \mbox{\hyperlink{_g_b_8cpp_a77a3aeae8b099c2f838c32192dd46ab1}{register\_SVBK}} = 0;
2304   \mbox{\hyperlink{_g_b_8cpp_a94319ecba885d1837ce422125f5e4b7a}{register\_IE}} = 0;  
2305 
2306   \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}})
2307     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff02] = 0x7c;
2308   \textcolor{keywordflow}{else}
2309     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff02] = 0x7e;
2310 
2311   \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff03] = 0xff;
2312   \textcolor{keywordtype}{int} \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}};
2313   \textcolor{keywordflow}{for} (\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} = 0x8; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<0xf; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)
2314     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff00+\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = 0xff;
2315 
2316   \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff13] = 0xff;
2317   \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff15] = 0xff;
2318   \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff18] = 0xff;
2319   \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff1d] = 0xff;
2320   \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff1f] = 0xff;
2321 
2322   \textcolor{keywordflow}{for} (\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} = 0x27; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<0x30; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)
2323     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff00+\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = 0xff;
2324 
2325   \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff4c] = 0xff;
2326   \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff4e] = 0xff;
2327   \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff50] = 0xff;
2328 
2329   \textcolor{keywordflow}{for} (\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} = 0x57; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<0x68; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)
2330     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff00+\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = 0xff;
2331 
2332   \textcolor{keywordflow}{for} (\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} = 0x5d; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<0x70; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)
2333     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff00+\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = 0xff;
2334 
2335   \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff71] = 0xff;
2336 
2337   \textcolor{keywordflow}{for} (\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} = 0x78; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<0x80; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)
2338     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff00+\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = 0xff;
2339 
2340   \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 0xa)
2341   \{
2342 
2343       \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 2)
2344       \{
2345         \mbox{\hyperlink{_g_b_8cpp_adbdbabf733f29a8d90be3a45b89db300}{AF}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}} = 0x1180;
2346         \mbox{\hyperlink{_g_b_8cpp_a7d5b0176171a95aaf6a5883fcfe15e73}{BC}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}} = 0x0000;
2347       \}
2348       \textcolor{keywordflow}{else}
2349       \{
2350         \mbox{\hyperlink{_g_b_8cpp_adbdbabf733f29a8d90be3a45b89db300}{AF}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}} = 0x1100;
2351         \mbox{\hyperlink{_g_b_8cpp_a7d5b0176171a95aaf6a5883fcfe15e73}{BC}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}} = 0x0100; \textcolor{comment}{// GBA/SP have B = 0x01 (which means GBC & GBA/SP bootrom are different !)}
2352       \}
2353 
2354     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff26] = 0xf1;
2355     \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}})
2356     \{
2357 
2358       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff31] = 0xff;
2359       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff33] = 0xff;
2360       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff35] = 0xff;
2361       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff37] = 0xff;
2362       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff39] = 0xff;
2363       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff3b] = 0xff;
2364       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff3d] = 0xff;
2365 
2366       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff44] = \mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} = 0x90;
2367       \mbox{\hyperlink{_g_b_8cpp_a8cad8181524ac81a7b88ca97e91cb806}{gbDivTicks}} = 0x19 + ((\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 2) >> 1);
2368       \mbox{\hyperlink{_g_b_8cpp_af524a74ef8a0ee6751c529ae3cb60479}{gbInternalTimer}} = 0x58 + ((\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 2) >> 1);
2369       \mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}} = \mbox{\hyperlink{_g_b_8cpp_a900fd616aa8e189323d0f172a19e41db}{GBLCD\_MODE\_1\_CLOCK\_TICKS}} -
2370                    (\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}}-0x8F)*\mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}} + 72 
      + ((\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 2) >> 1);
2371       \mbox{\hyperlink{_g_b_8cpp_ae0cdf5545a76d5f524b336ff5b7cd910}{gbLcdLYIncrementTicks}} = 72 + ((\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 2) >> 1);
2372       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff04] = \mbox{\hyperlink{_g_b_8cpp_acbcb739ca521418c569a3ec08893c9fc}{register\_DIV}} = 0x1E;
2373     \}
2374     \textcolor{keywordflow}{else}
2375     \{
2376       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff44] = \mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} = 0x94;
2377       \mbox{\hyperlink{_g_b_8cpp_a8cad8181524ac81a7b88ca97e91cb806}{gbDivTicks}} = 0x22 + ((\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 2) >> 1);
2378       \mbox{\hyperlink{_g_b_8cpp_af524a74ef8a0ee6751c529ae3cb60479}{gbInternalTimer}} = 0x61 + ((\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 2) >> 1);
2379       \mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}} = \mbox{\hyperlink{_g_b_8cpp_a900fd616aa8e189323d0f172a19e41db}{GBLCD\_MODE\_1\_CLOCK\_TICKS}} -
2380                    (\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}}-0x8F)*\mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}} + 25 
      + ((\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 2) >> 1);
2381       \mbox{\hyperlink{_g_b_8cpp_ae0cdf5545a76d5f524b336ff5b7cd910}{gbLcdLYIncrementTicks}} = 25 + ((\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 2) >> 1);
2382       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff04] = \mbox{\hyperlink{_g_b_8cpp_acbcb739ca521418c569a3ec08893c9fc}{register\_DIV}} = 0x26;
2383     \}
2384 
2385 
2386     \mbox{\hyperlink{_g_b_8cpp_a7ef08d5336cc8f5a93c110c771ba850d}{DE}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}} = 0xff56;
2387     \mbox{\hyperlink{_g_b_8cpp_a764b6d6d468edba273b26b27618a1f5e}{HL}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}} = 0x000d;
2388    
2389     \mbox{\hyperlink{_g_b_8cpp_a682149c36122c334759aef3639e3a511}{register\_HDMA5}} = 0xff;
2390     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff68] = 0xc0;
2391     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff6a] = 0xc0;
2392 
2393     
2394     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff41] = \mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}} = 0x81;
2395     \mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} = 1;
2396   \}
2397   \textcolor{keywordflow}{else}
2398   \{
2399     \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 4)
2400     \{
2401       \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_aab449ed6ecf2bd502928a3d5aa5c54c4}{gbEmulatorType}} == 5)
2402         \mbox{\hyperlink{_g_b_8cpp_adbdbabf733f29a8d90be3a45b89db300}{AF}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}} = 0xffb0;
2403       \textcolor{keywordflow}{else}
2404         \mbox{\hyperlink{_g_b_8cpp_adbdbabf733f29a8d90be3a45b89db300}{AF}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}} = 0x01b0;
2405       \mbox{\hyperlink{_g_b_8cpp_a7d5b0176171a95aaf6a5883fcfe15e73}{BC}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}} = 0x0013;
2406       \mbox{\hyperlink{_g_b_8cpp_a7ef08d5336cc8f5a93c110c771ba850d}{DE}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}} = 0x00d8;
2407       \mbox{\hyperlink{_g_b_8cpp_a764b6d6d468edba273b26b27618a1f5e}{HL}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}} = 0x014d;
2408     \}
2409     \mbox{\hyperlink{_g_b_8cpp_a8cad8181524ac81a7b88ca97e91cb806}{gbDivTicks}} = 14;
2410     \mbox{\hyperlink{_g_b_8cpp_af524a74ef8a0ee6751c529ae3cb60479}{gbInternalTimer}} = \mbox{\hyperlink{_g_b_8cpp_a8cad8181524ac81a7b88ca97e91cb806}{gbDivTicks}}--;
2411     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff04] = \mbox{\hyperlink{_g_b_8cpp_acbcb739ca521418c569a3ec08893c9fc}{register\_DIV}} = 0xAB;
2412     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff41] = \mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}} = 0x85;
2413     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff44] = \mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} = 0x00; 
2414     \mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}} = 15;
2415     \mbox{\hyperlink{_g_b_8cpp_ae0cdf5545a76d5f524b336ff5b7cd910}{gbLcdLYIncrementTicks}} = 114+\mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}};
2416     \mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} = 1;
2417 
2418     \textcolor{comment}{// used for the handling of the gb Boot Rom}
2419     \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 5) && (\mbox{\hyperlink{gb_globals_8h_aec268401eba88422e56ca0a7a86cb991}{bios}} != \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) && \mbox{\hyperlink{gb_globals_8h_ac2e7c0a19c3be95f9226870ca6875c8b}{useBios}} && !
      \mbox{\hyperlink{gb_globals_8h_a772956138c681d5799da023965e8adfc}{skipBios}})
2420     \{
2421       memcpy ((\mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} *)(\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}), (\mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} *)(\mbox{\hyperlink{gb_globals_8cpp_ae4f6bd8162474dbcfdbc54c36d7f5695}{gbRom}}), 0x1000);
2422       memcpy ((\mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} *)(\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}), (\mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} *)(\mbox{\hyperlink{gb_globals_8h_aec268401eba88422e56ca0a7a86cb991}{bios}}), 0x100);
2423       \mbox{\hyperlink{_g_b_8cpp_adb51d11b7a22a8272a4335e8714f5d41}{gbWhiteScreen}} = 0;
2424 
2425       \mbox{\hyperlink{_g_b_8cpp_af524a74ef8a0ee6751c529ae3cb60479}{gbInternalTimer}} = 0x3e;
2426       \mbox{\hyperlink{_g_b_8cpp_a8cad8181524ac81a7b88ca97e91cb806}{gbDivTicks}} = 0x3f;
2427       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff04] = \mbox{\hyperlink{_g_b_8cpp_acbcb739ca521418c569a3ec08893c9fc}{register\_DIV}} = 0x00;
2428       \mbox{\hyperlink{_g_b_8cpp_abc78e2e4c6db630eeae9741c27e9bda3}{PC}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}} = 0x0000;
2429       \mbox{\hyperlink{_g_b_8cpp_af18da9d87d0d4a930844db59eef99432}{register\_LCDC}} = 0x11;
2430       \mbox{\hyperlink{_g_b_8cpp_af7a8929b0bdf5ebca2d8d44c524210c5}{gbScreenOn}} = \textcolor{keyword}{false};
2431       \mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}} = 0;
2432       \mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} = 0;
2433       \mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} = 0;
2434       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff41] = \mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}} &= 0xfc;
2435       \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} = 0;
2436       \mbox{\hyperlink{_g_b_8cpp_ae0cdf5545a76d5f524b336ff5b7cd910}{gbLcdLYIncrementTicks}} = \mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}};
2437     \}
2438   \}
2439 
2440   \mbox{\hyperlink{_g_b_8cpp_a28b3e64f4ae9ec2cf12131267e7c8a8f}{gbLine99Ticks}} = 1;
2441   \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 8)
2442     \mbox{\hyperlink{_g_b_8cpp_a28b3e64f4ae9ec2cf12131267e7c8a8f}{gbLine99Ticks}}++;
2443 
2444   \mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} = \mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}};
2445   \mbox{\hyperlink{_g_b_8cpp_a67d7812d16307862d7d865d3683e5f66}{gbLcdTicksDelayed}} = \mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}}+1;
2446   \mbox{\hyperlink{_g_b_8cpp_abdb3e275a757da833e774c19ded966d6}{gbLcdLYIncrementTicksDelayed}} = 
      \mbox{\hyperlink{_g_b_8cpp_ae0cdf5545a76d5f524b336ff5b7cd910}{gbLcdLYIncrementTicks}}+1;
2447 
2448 
2449   \mbox{\hyperlink{_g_b_8cpp_a6a791c2b1c13c0c2692288a2df878599}{gbTimerModeChange}} = \textcolor{keyword}{false};
2450   \mbox{\hyperlink{_g_b_8cpp_ad58156c3b1fa7cf868e57be5029f354f}{gbTimerOnChange}} = \textcolor{keyword}{false};
2451   \mbox{\hyperlink{_g_b_8cpp_aff31e411532ed8705e35d10bf7c7eee8}{gbTimerOn}} = \textcolor{keyword}{false};
2452 
2453   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}}) \{
2454     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} = 0; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<0x20; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)
2455       \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = 0x7fff;
2456 
2457     \textcolor{comment}{// This is just to show that the starting values of the OBJ palettes are different}
2458     \textcolor{comment}{// between the 3 consoles, and that they 'kinda' stay the same at each reset}
2459     \textcolor{comment}{// (they can slightly change, somehow (randomly?)).}
2460     \textcolor{comment}{// You can check the effects of gbGBCColorType on the "Vila Caldan Color" gbc demo.}
2461     \textcolor{comment}{// Note that you could also check the Div register to check on which system the game}
2462     \textcolor{comment}{// is running (GB,GBC and GBA(SP) have different startup values).}
2463     \textcolor{comment}{// Unfortunatly, I don't have any SGB system, so I can't get their starting values.}
2464 
2465     \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a032797c08251ee8b8912d71aa360049e}{gbGBCColorType}} == 0) \textcolor{comment}{// GBC Hardware}
2466     \{
2467     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x20] = 0x0600;
2468     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x21] = 0xfdf3;
2469     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x22] = 0x041c;
2470     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x23] = 0xf5db; 
2471     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x24] = 0x4419;
2472     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x25] = 0x57ea;
2473     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x26] = 0x2808;
2474     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x27] = 0x9b75;
2475     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x28] = 0x129b;
2476     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x29] = 0xfce0;
2477     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x2a] = 0x22da;
2478     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x2b] = 0x4ac5;
2479     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x2c] = 0x2d71;
2480     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x2d] = 0xf0c2;
2481     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x2e] = 0x5137;
2482     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x2f] = 0x2d41;
2483     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x30] = 0x6b2d;
2484     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x31] = 0x2215;
2485     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x32] = 0xbe0a;
2486     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x33] = 0xc053;
2487     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x34] = 0xfe5f;
2488     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x35] = 0xe000;
2489     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x36] = 0xbe10;
2490     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x37] = 0x914d;
2491     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x38] = 0x7f91;
2492     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x39] = 0x02b5;
2493     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x3a] = 0x77ac;
2494     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x3b] = 0x14e5;
2495     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x3c] = 0xcf89;
2496     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x3d] = 0xa03d;
2497     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x3e] = 0xfd50;
2498     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x3f] = 0x91ff;
2499     \}
2500     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a032797c08251ee8b8912d71aa360049e}{gbGBCColorType}} == 1) \textcolor{comment}{// GBA Hardware}
2501     \{
2502     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x20] = 0xbe00;
2503     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x21] = 0xfdfd;
2504     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x22] = 0xbd69;
2505     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x23] = 0x7baf;
2506     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x24] = 0xf5ff;
2507     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x25] = 0x3f8f;
2508     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x26] = 0xcee5;
2509     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x27] = 0x5bf7;
2510     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x28] = 0xb35b;
2511     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x29] = 0xef97;
2512     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x2a] = 0xef9f;
2513     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x2b] = 0x97f7;
2514     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x2c] = 0x82bf;
2515     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x2d] = 0x9f3d;
2516     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x2e] = 0xddde;
2517     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x2f] = 0xbad5;
2518     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x30] = 0x3cba;
2519     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x31] = 0xdfd7;
2520     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x32] = 0xedea;
2521     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x33] = 0xfeda;
2522     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x34] = 0xf7f9;
2523     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x35] = 0xfdee;
2524     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x36] = 0x6d2f;
2525     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x37] = 0xf0e6;
2526     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x38] = 0xf7f0;
2527     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x39] = 0xf296;
2528     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x3a] = 0x3bf1;
2529     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x3b] = 0xe211;
2530     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x3c] = 0x69ba;
2531     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x3d] = 0x3d0d;
2532     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x3e] = 0xdfd3;
2533     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x3f] = 0xa6ba;
2534     \}
2535     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a032797c08251ee8b8912d71aa360049e}{gbGBCColorType}} == 2) \textcolor{comment}{// GBASP Hardware}
2536     \{
2537     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x20] = 0x9c00;
2538     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x21] = 0x6340;
2539     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x22] = 0x10c6;
2540     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x23] = 0xdb97;
2541     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x24] = 0x7622;
2542     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x25] = 0x3e57;
2543     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x26] = 0x2e12;
2544     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x27] = 0x95c3;
2545     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x28] = 0x1095;
2546     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x29] = 0x488c;
2547     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x2a] = 0x8241;
2548     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x2b] = 0xde8c;
2549     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x2c] = 0xfabc;
2550     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x2d] = 0x0e81;
2551     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x2e] = 0x7675;
2552     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x2f] = 0xfdec;
2553     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x30] = 0xddfd;
2554     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x31] = 0x5995;
2555     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x32] = 0x066a;
2556     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x33] = 0xed1e;
2557     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x34] = 0x1e84;
2558     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x35] = 0x1d14;
2559     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x36] = 0x11c3;
2560     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x37] = 0x2749;
2561     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x38] = 0xa727;
2562     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x39] = 0x6266;
2563     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x3a] = 0xe27b;
2564     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x3b] = 0xe3fc;
2565     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x3c] = 0x1f76;
2566     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x3d] = 0xf158;
2567     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x3e] = 0x468e;
2568     \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[0x3f] = 0xa540;
2569     \}
2570   \} \textcolor{keywordflow}{else} \{
2571     \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8h_aade6a7bab8d45119651cd9e8103d2cf8}{gbSgbMode}}) \{
2572       \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} = 0; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} < 8; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)
2573         \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = \mbox{\hyperlink{system_8cpp_a0ba4f8654ea47591cc8a66df33d6d3c9}{systemGbPalette}}[\mbox{\hyperlink{gb_globals_8cpp_ad7c4a50738533f076243c2814ffb61b4}{gbPaletteOption}}*8+
      \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];
2574 
2575     \}
2576     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} = 0; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} < 8; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)
2577       \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = \mbox{\hyperlink{system_8cpp_a0ba4f8654ea47591cc8a66df33d6d3c9}{systemGbPalette}}[\mbox{\hyperlink{gb_globals_8cpp_ad7c4a50738533f076243c2814ffb61b4}{gbPaletteOption}}*8+
      \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}];
2578   \}
2579 
2580   \mbox{\hyperlink{_g_b_8cpp_a0328bbe4baa24965986c107986107ea0}{GBTIMER\_MODE\_0\_CLOCK\_TICKS}} = 256;
2581   \mbox{\hyperlink{_g_b_8cpp_a728ce08caba407be6fb7d27c6ca06e03}{GBTIMER\_MODE\_1\_CLOCK\_TICKS}} = 4;
2582   \mbox{\hyperlink{_g_b_8cpp_aef15723c73099507aff99f14681a9461}{GBTIMER\_MODE\_2\_CLOCK\_TICKS}} = 16;
2583   \mbox{\hyperlink{_g_b_8cpp_a8590efb8fe2edb0416817727bf242dcb}{GBTIMER\_MODE\_3\_CLOCK\_TICKS}} = 64;
2584   
2585   \mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}} = 114;
2586   \mbox{\hyperlink{_g_b_8cpp_a30eaefadb9959a0cbd62490b92f89553}{gbTimerTicks}} = \mbox{\hyperlink{_g_b_8cpp_a0328bbe4baa24965986c107986107ea0}{GBTIMER\_MODE\_0\_CLOCK\_TICKS}};
2587   \mbox{\hyperlink{_g_b_8cpp_a2010725d18c236a99b06b460d03d9de0}{gbTimerClockTicks}} = \mbox{\hyperlink{_g_b_8cpp_a0328bbe4baa24965986c107986107ea0}{GBTIMER\_MODE\_0\_CLOCK\_TICKS}};
2588   \mbox{\hyperlink{_g_b_8cpp_a6b56d456e3835eedec7fb20b33c4edf2}{gbSerialTicks}} = 0;
2589   \mbox{\hyperlink{_g_b_8cpp_aede64838ee11e636b4687a781206f921}{gbSerialBits}} = 0;
2590   \mbox{\hyperlink{_g_b_8cpp_a975777bc7fcf27e6cdec077cd985bb89}{gbSerialOn}} = 0;
2591   \mbox{\hyperlink{gb_globals_8cpp_a406aa032fac9ced7e3642fad4e0edd44}{gbWindowLine}} = -1;
2592   \mbox{\hyperlink{_g_b_8cpp_aff31e411532ed8705e35d10bf7c7eee8}{gbTimerOn}} = \textcolor{keyword}{false};
2593   \mbox{\hyperlink{_g_b_8cpp_ae66612e4574615eb4ae43aaf94e0c247}{gbTimerMode}} = 0;
2594   \mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}} = 0;
2595   \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[0] = \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[1] = \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[2] = 
      \mbox{\hyperlink{_g_b_8cpp_a9430ab9d19b2b2b3c725b3f19846c531}{gbJoymask}}[3] = 0;
2596   
2597   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}}) \{
2598     \mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}} = 0;
2599     \mbox{\hyperlink{_g_b_8cpp_ab2950de0ff32aef80979230af408c6c5}{gbHdmaOn}} = 0;
2600     \mbox{\hyperlink{_g_b_8cpp_a8810b2a533466608d60262c385b10e78}{gbHdmaSource}} = 0x99d0;
2601     \mbox{\hyperlink{_g_b_8cpp_adc6546fea331da99c7a6d52b197e18d2}{gbHdmaDestination}} = 0x99d0;
2602     \mbox{\hyperlink{_g_b_8cpp_add76362ee946a71213605116ecf4525b}{gbVramBank}} = 0;
2603     \mbox{\hyperlink{_g_b_8cpp_a449cffa7d3d650625b7f3a00d897140f}{gbWramBank}} = 1;
2604 
2605   \}
2606 
2607   \textcolor{comment}{// used to clean the borders}
2608   \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8h_aade6a7bab8d45119651cd9e8103d2cf8}{gbSgbMode}})
2609   \{
2610     \mbox{\hyperlink{_g_b_8cpp_ae76df9c26f8b70945a2757227a6d4bc7}{gbSgbResetFlag}} = \textcolor{keyword}{true};
2611     \mbox{\hyperlink{gb_s_g_b_8cpp_a961d4ed6f000df9a26ae87e5a3ebb4fe}{gbSgbReset}}();
2612     \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8cpp_a4700c36a68a6b63f7c2e91756a250cd2}{gbBorderOn}})
2613       \mbox{\hyperlink{_g_b_8h_af317983dce6743159185981f1f84e782}{gbSgbRenderBorder}}();
2614     \mbox{\hyperlink{_g_b_8cpp_ae76df9c26f8b70945a2757227a6d4bc7}{gbSgbResetFlag}} = \textcolor{keyword}{false};
2615   \}
2616 
2617   \textcolor{keywordflow}{for}(\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} = 0; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}} < 4; \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)
2618     \mbox{\hyperlink{gb_globals_8cpp_af4aecde48e53c8b3aa9c7241443e5ef7}{gbBgp}}[\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = \mbox{\hyperlink{gb_globals_8cpp_ac4d1dd952085f2cbecc7663050994012}{gbObp0}}[\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = \mbox{\hyperlink{gb_globals_8cpp_a8200c8214bf94708e583eee237042d00}{gbObp1}}[\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}};
2619 
2620   memset(&\mbox{\hyperlink{gb_memory_8cpp_a7af6d99b342979a539d40eed31051185}{gbDataMBC1}},0, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{gb_memory_8cpp_a7af6d99b342979a539d40eed31051185}{gbDataMBC1}}));
2621   \mbox{\hyperlink{gb_memory_8cpp_a7af6d99b342979a539d40eed31051185}{gbDataMBC1}}.\mbox{\hyperlink{structmapper_m_b_c1_a4ef895e141334ea18c5f4af278b3bc76}{mapperROMBank}} = 1;
2622 
2623   \mbox{\hyperlink{gb_memory_8cpp_a2b67d96dcb552c3a9f70dd2914a7c9ef}{gbDataMBC2}}.\mbox{\hyperlink{structmapper_m_b_c2_ab3d0eb8c729491ca26f62d4f70b335ac}{mapperRAMEnable}} = 0;
2624   \mbox{\hyperlink{gb_memory_8cpp_a2b67d96dcb552c3a9f70dd2914a7c9ef}{gbDataMBC2}}.\mbox{\hyperlink{structmapper_m_b_c2_a608aebcc4a8b623a2feac2f78dbeb3c8}{mapperROMBank}} = 1;
2625 
2626   memset(&\mbox{\hyperlink{gb_memory_8cpp_aba489e64022131370e1526c042068e34}{gbDataMBC3}},0, 6 * \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));
2627   \mbox{\hyperlink{gb_memory_8cpp_aba489e64022131370e1526c042068e34}{gbDataMBC3}}.\mbox{\hyperlink{structmapper_m_b_c3_a7a2bf68415cbdab5212e896b4387a1a2}{mapperROMBank}} = 1;
2628 
2629   memset(&\mbox{\hyperlink{gb_memory_8cpp_a2017984f810114e1b508ab2be2032c70}{gbDataMBC5}}, 0, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{gb_memory_8cpp_a2017984f810114e1b508ab2be2032c70}{gbDataMBC5}}));
2630   \mbox{\hyperlink{gb_memory_8cpp_a2017984f810114e1b508ab2be2032c70}{gbDataMBC5}}.\mbox{\hyperlink{structmapper_m_b_c5_a6c1503dde2a71a9cca438b331fc2f96a}{mapperROMBank}} = 1;
2631 
2632   memset(&\mbox{\hyperlink{gb_memory_8cpp_abe0c1b36466a69d971336e3fa9050c10}{gbDataHuC1}}, 0, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{gb_memory_8cpp_abe0c1b36466a69d971336e3fa9050c10}{gbDataHuC1}}));
2633   \mbox{\hyperlink{gb_memory_8cpp_abe0c1b36466a69d971336e3fa9050c10}{gbDataHuC1}}.\mbox{\hyperlink{structmapper_hu_c1_a7fb083af2e79a98adbcc83ff4d039c6e}{mapperROMBank}} = 1;
2634 
2635   memset(&\mbox{\hyperlink{gb_memory_8cpp_a0a4759b76070ed1b08471aeb14188061}{gbDataHuC3}}, 0, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{gb_memory_8cpp_a0a4759b76070ed1b08471aeb14188061}{gbDataHuC3}}));
2636   \mbox{\hyperlink{gb_memory_8cpp_a0a4759b76070ed1b08471aeb14188061}{gbDataHuC3}}.\mbox{\hyperlink{structmapper_hu_c3_a0e4220842438d77ce5ee80686ebd0e87}{mapperROMBank}} = 1;
2637 
2638   memset(&\mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}},0, 26*\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));
2639   \mbox{\hyperlink{gb_memory_8cpp_a78396a18fb366756ca9c01fef3c061df}{gbDataTAMA5}}.\mbox{\hyperlink{structmapper_t_a_m_a5_a29746447b0317e41dc6b23031c02ae97}{mapperROMBank}} = 1;
2640 
2641   memset(&\mbox{\hyperlink{gb_memory_8cpp_af3320602e62b820d94111ecd11e55bb5}{gbDataMMM01}},0, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{gb_memory_8cpp_af3320602e62b820d94111ecd11e55bb5}{gbDataMMM01}}));
2642   \mbox{\hyperlink{gb_memory_8cpp_af3320602e62b820d94111ecd11e55bb5}{gbDataMMM01}}.\mbox{\hyperlink{structmapper_m_m_m01_a3910af13771783e82d42fc1c9fe55157}{mapperROMBank}} = 1;
2643 
2644   \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8h_ac2e7c0a19c3be95f9226870ca6875c8b}{useBios}} && !\mbox{\hyperlink{gb_globals_8h_a772956138c681d5799da023965e8adfc}{skipBios}} && (\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 5))
2645   \{
2646     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x00] = &\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0x0000];
2647     \mbox{\hyperlink{_g_b_8cpp_af479f252219124546774547e69110233}{inBios}} = \textcolor{keyword}{true};
2648   \}
2649   \textcolor{keywordflow}{else}
2650   \{
2651     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x00] = &\mbox{\hyperlink{gb_globals_8cpp_ae4f6bd8162474dbcfdbc54c36d7f5695}{gbRom}}[0x0000];
2652     \mbox{\hyperlink{_g_b_8cpp_af479f252219124546774547e69110233}{inBios}} = \textcolor{keyword}{false};
2653   \}
2654 
2655   \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x01] = &\mbox{\hyperlink{gb_globals_8cpp_ae4f6bd8162474dbcfdbc54c36d7f5695}{gbRom}}[0x1000];
2656   \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x02] = &\mbox{\hyperlink{gb_globals_8cpp_ae4f6bd8162474dbcfdbc54c36d7f5695}{gbRom}}[0x2000];
2657   \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x03] = &\mbox{\hyperlink{gb_globals_8cpp_ae4f6bd8162474dbcfdbc54c36d7f5695}{gbRom}}[0x3000];
2658   \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x04] = &\mbox{\hyperlink{gb_globals_8cpp_ae4f6bd8162474dbcfdbc54c36d7f5695}{gbRom}}[0x4000];
2659   \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x05] = &\mbox{\hyperlink{gb_globals_8cpp_ae4f6bd8162474dbcfdbc54c36d7f5695}{gbRom}}[0x5000];
2660   \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x06] = &\mbox{\hyperlink{gb_globals_8cpp_ae4f6bd8162474dbcfdbc54c36d7f5695}{gbRom}}[0x6000];
2661   \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x07] = &\mbox{\hyperlink{gb_globals_8cpp_ae4f6bd8162474dbcfdbc54c36d7f5695}{gbRom}}[0x7000];
2662   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}}) \{
2663     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x08] = &\mbox{\hyperlink{gb_globals_8cpp_acc4cae98f0f9473610870333741081e9}{gbVram}}[0x0000];
2664     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x09] = &\mbox{\hyperlink{gb_globals_8cpp_acc4cae98f0f9473610870333741081e9}{gbVram}}[0x1000];
2665     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x0a] = &\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xa000];
2666     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x0b] = &\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xb000];
2667     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x0c] = &\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xc000];
2668     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x0d] = &\mbox{\hyperlink{gb_globals_8cpp_a8cedc409ffccdcaeae687da92d986004}{gbWram}}[0x1000];
2669     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x0e] = &\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xe000];
2670     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x0f] = &\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xf000];        
2671   \} \textcolor{keywordflow}{else} \{
2672     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x08] = &\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0x8000];
2673     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x09] = &\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0x9000];
2674     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x0a] = &\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xa000];
2675     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x0b] = &\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xb000];
2676     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x0c] = &\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xc000];
2677     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x0d] = &\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xd000];
2678     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x0e] = &\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xe000];
2679     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x0f] = &\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xf000]; 
2680   \}
2681 
2682   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_a5e89477379c5d2241d53357a34219750}{gbRam}}) \{
2683     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x0a] = &\mbox{\hyperlink{gb_globals_8cpp_a5e89477379c5d2241d53357a34219750}{gbRam}}[0x0000];
2684     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x0b] = &\mbox{\hyperlink{gb_globals_8cpp_a5e89477379c5d2241d53357a34219750}{gbRam}}[0x1000];
2685   \}
2686 
2687   \mbox{\hyperlink{_g_b_8h_aa86b9ce126dc3c399fc94443164c0d98}{gbSoundReset}}();
2688 
2689   \mbox{\hyperlink{system_8cpp_a2f706b3379eaffa6beb045c711a2102c}{systemSaveUpdateCounter}} = \mbox{\hyperlink{_system_8h_a84a7ba498ccb75cd12b84b881d4d2db3}{SYSTEM\_SAVE\_NOT\_UPDATED}};
2690 
2691   \mbox{\hyperlink{_g_b_8cpp_aca3a31fc6e9ec76072a9b9b104aa37af}{gbLastTime}} = \mbox{\hyperlink{system_8cpp_a49fda3252b87be83c1bc235b1c217f35}{systemGetClock}}();
2692   \mbox{\hyperlink{_g_b_8cpp_a06ee7c3acb6c46cd2db0d121d5d786c0}{gbFrameCount}} = 0;
2693 
2694   \mbox{\hyperlink{_g_b_8cpp_af7a8929b0bdf5ebca2d8d44c524210c5}{gbScreenOn}} = \textcolor{keyword}{true};
2695   \mbox{\hyperlink{_g_b_8cpp_a91724fc6f85d4e830e69124e3ddcf6b1}{gbSystemMessage}} = \textcolor{keyword}{false};
2696 
2697   \mbox{\hyperlink{gb_cheats_8cpp_a62e7f47b3eac98eb01dfcf8cb95fa743}{gbCheatWrite}}(\textcolor{keyword}{true}); \textcolor{comment}{// Emulates GS codes.}
2698 
2699 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_a9447f508d6d45a49df2ce7619650a6de_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_a9447f508d6d45a49df2ce7619650a6de_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_g_b_8h_af317983dce6743159185981f1f84e782}\label{_g_b_8h_af317983dce6743159185981f1f84e782}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Sgb\+Render\+Border@{gb\+Sgb\+Render\+Border}}
\index{gb\+Sgb\+Render\+Border@{gb\+Sgb\+Render\+Border}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Sgb\+Render\+Border()}{gbSgbRenderBorder()}}
{\footnotesize\ttfamily void gb\+Sgb\+Render\+Border (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



gb\+S\+G\+B.\+cpp 파일의 289 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
290 \{
291   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_a4700c36a68a6b63f7c2e91756a250cd2}{gbBorderOn}}) \{
292     \mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} *fromAddress = \mbox{\hyperlink{gb_s_g_b_8cpp_a8c4ccc3f80d36a24b74b43b3f4afcc81}{gbSgbBorder}};
293   
294     \textcolor{keywordflow}{for}(\mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} y = 0; y < 28; y++) \{
295       \textcolor{keywordflow}{for}(\mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} x = 0; x< 32; x++) \{
296         \mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} tile = *fromAddress++;
297         \mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} attr = *fromAddress++;
298         
299         \mbox{\hyperlink{gb_s_g_b_8cpp_aeb7b2d01545ddcbcb89db687a815d0f5}{gbSgbDrawBorderTile}}(x*8,y*8,tile,attr);
300       \}
301     \}
302   \}
303 \}
\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_af317983dce6743159185981f1f84e782_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_g_b_8h_aa86b9ce126dc3c399fc94443164c0d98}\label{_g_b_8h_aa86b9ce126dc3c399fc94443164c0d98}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Sound\+Reset@{gb\+Sound\+Reset}}
\index{gb\+Sound\+Reset@{gb\+Sound\+Reset}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Sound\+Reset()}{gbSoundReset()}}
{\footnotesize\ttfamily void gb\+Sound\+Reset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



gb\+Sound.\+cpp 파일의 764 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
765 \{
766   \mbox{\hyperlink{gb_sound_8cpp_a10f738bb99a0e191b93b16418d4d7ff9}{soundPaused}} = 1;
767   \mbox{\hyperlink{gb_sound_8cpp_a7971a8dbca2875c3a7abbd81171c95f7}{soundPlay}} = 0;
768   \mbox{\hyperlink{gb_sound_8cpp_aef0cd952d257abbb552903fc848d30d9}{SOUND\_CLOCK\_TICKS}} = \mbox{\hyperlink{gb_sound_8cpp_aaeaa156dcc7083863fa6554b8e14854a}{soundQuality}} * 24;  
769   \mbox{\hyperlink{gb_sound_8cpp_a7b7a0e8dd81f4dce01ae52637208f23b}{soundTicks}} = \mbox{\hyperlink{gb_sound_8cpp_aef0cd952d257abbb552903fc848d30d9}{SOUND\_CLOCK\_TICKS}};
770   \mbox{\hyperlink{gb_sound_8cpp_adc4aef1739da801b4dd16c7d92eccf45}{soundNextPosition}} = 0;
771   \mbox{\hyperlink{gb_sound_8cpp_a68e33ebf7732b2c821c680c684beb52f}{soundMasterOn}} = 1;
772   \mbox{\hyperlink{gb_sound_8cpp_a80142a927f9306b8eb68ae094e71e157}{soundIndex}} = 0;
773   \mbox{\hyperlink{gb_sound_8cpp_ac54680afc40360edc641e6da624ec65e}{soundBufferIndex}} = 0;
774   \mbox{\hyperlink{gb_sound_8cpp_a5b7760cb5ad000d1f74b97a93e0b9a5e}{soundLevel1}} = 7;
775   \mbox{\hyperlink{gb_sound_8cpp_a5acfc4ec0b0879432255c928fb9e04f2}{soundLevel2}} = 7;
776   \mbox{\hyperlink{gb_sound_8cpp_ac51c88c1ce7c598f88dda5195f6f5628}{soundVIN}} = 0;
777   
778   \mbox{\hyperlink{gb_sound_8cpp_a81e547dd3700c5cc8b4327372a903a49}{sound1On}} = 0;
779   \mbox{\hyperlink{gb_sound_8cpp_a2651cc8218f76d32e0927df388b59294}{sound1ATL}} = 0;
780   \mbox{\hyperlink{gb_sound_8cpp_a04d0f50a70da07d27b87697633586240}{sound1Skip}} = 0;
781   \mbox{\hyperlink{gb_sound_8cpp_aaf90aa91459a12fe48e1e4d4034b6cad}{sound1Index}} = 0;
782   \mbox{\hyperlink{gb_sound_8cpp_aa0237e70cfda4cea28519b15e92d1980}{sound1Continue}} = 0;
783   \mbox{\hyperlink{gb_sound_8cpp_a0edffec4e2117575aa9cf1249065ef82}{sound1EnvelopeVolume}} =  0;
784   \mbox{\hyperlink{gb_sound_8cpp_aeaef67ab69bf849539b83c12554c16e1}{sound1EnvelopeATL}} = 0;
785   \mbox{\hyperlink{gb_sound_8cpp_aa71fe2a62db271a0bf6c8e405d63b9f6}{sound1EnvelopeUpDown}} = 0;
786   \mbox{\hyperlink{gb_sound_8cpp_a9ac75345829f67e255af93955a59ed79}{sound1EnvelopeATLReload}} = 0;
787   \mbox{\hyperlink{gb_sound_8cpp_a19a0ca30481afc5658661b7f1b14b6be}{sound1SweepATL}} = 0;
788   \mbox{\hyperlink{gb_sound_8cpp_a8e9da97b2a8d68fe7dd94fe2830a69e2}{sound1SweepATLReload}} = 0;
789   \mbox{\hyperlink{gb_sound_8cpp_a2a05777d981812be45dfdb6f0d4ec660}{sound1SweepSteps}} = 0;
790   \mbox{\hyperlink{gb_sound_8cpp_a7604a390bbc1406c41809d4b0e0a94b6}{sound1SweepUpDown}} = 0;
791   \mbox{\hyperlink{gb_sound_8cpp_a7c9877c70fe83d12fa3670de672f1adb}{sound1SweepStep}} = 0;
792   \mbox{\hyperlink{gb_sound_8cpp_ae2a0bf9027c1ddde5da12cd223f26464}{sound1Wave}} = \mbox{\hyperlink{gb_sound_8cpp_aa62c41cbead810e4351c9e812a106468}{soundWavePattern}}[2];
793   
794   \mbox{\hyperlink{gb_sound_8cpp_a3d3599d20f8eec03eff16e325ca1d1c8}{sound2On}} = 0;
795   \mbox{\hyperlink{gb_sound_8cpp_a40a2be40dae0872c37bbb004989e3a21}{sound2ATL}} = 0;
796   \mbox{\hyperlink{gb_sound_8cpp_a0bee7b05ca0c87ea16875286e821d2b2}{sound2Skip}} = 0;
797   \mbox{\hyperlink{gb_sound_8cpp_afac8c2c586ad076566278966624e3c81}{sound2Index}} = 0;
798   \mbox{\hyperlink{gb_sound_8cpp_a5622c502a8190d2a94fd349310d8ee9d}{sound2Continue}} = 0;
799   \mbox{\hyperlink{gb_sound_8cpp_a8d09c99ea3b3576743fb7a2b44bc30c9}{sound2EnvelopeVolume}} =  0;
800   \mbox{\hyperlink{gb_sound_8cpp_ac1c907b92329020856caec61ac1c3d08}{sound2EnvelopeATL}} = 0;
801   \mbox{\hyperlink{gb_sound_8cpp_ae44550b7b754bf2ceab54252d44aafd1}{sound2EnvelopeUpDown}} = 0;
802   \mbox{\hyperlink{gb_sound_8cpp_a00cd8afcdd57b632895e3e61b8332575}{sound2EnvelopeATLReload}} = 0;
803   \mbox{\hyperlink{gb_sound_8cpp_ad8dfe3da7f641ba7b58d8d63a5ca51d5}{sound2Wave}} = \mbox{\hyperlink{gb_sound_8cpp_aa62c41cbead810e4351c9e812a106468}{soundWavePattern}}[2];
804   
805   \mbox{\hyperlink{gb_sound_8cpp_ab7b33e5afcda807c338ba2db9a06bd57}{sound3On}} = 0;
806   \mbox{\hyperlink{gb_sound_8cpp_a63596c6b933dbf89b1c89b5d6a927c71}{sound3ATL}} = 0;
807   \mbox{\hyperlink{gb_sound_8cpp_adfa68fbff574b4dee9f6a31dc360a3af}{sound3Skip}} = 0;
808   \mbox{\hyperlink{gb_sound_8cpp_adc5636a2e8b60d5b2f5d05250b6ed653}{sound3Index}} = 0;
809   \mbox{\hyperlink{gb_sound_8cpp_a4e959302778ef831889d893bfe74401b}{sound3Continue}} = 0;
810   \mbox{\hyperlink{gb_sound_8cpp_a490f7d604d5f992edd9227175b0c0bc1}{sound3OutputLevel}} = 0;
811   
812   \mbox{\hyperlink{gb_sound_8cpp_a1658472630e589ef5b5918fcaa6c769c}{sound4On}} = 0;
813   \mbox{\hyperlink{gb_sound_8cpp_a9ed9acdf4637d86197bfd1d14c8af01d}{sound4Clock}} = 0;
814   \mbox{\hyperlink{gb_sound_8cpp_a66cb25ad97967a46d9ab826000896373}{sound4ATL}} = 0;
815   \mbox{\hyperlink{gb_sound_8cpp_af1baae9a3c10498baddb300cd3c7efcb}{sound4Skip}} = 0;
816   \mbox{\hyperlink{gb_sound_8cpp_a541e813f4bf56ae462c292815388283c}{sound4Index}} = 0;
817   \mbox{\hyperlink{gb_sound_8cpp_a3a4deccc12ffda8963a33a516c91410f}{sound4ShiftRight}} = 0x7f;
818   \mbox{\hyperlink{gb_sound_8cpp_a4c606ab264174d684d98004fef06ae3e}{sound4NSteps}} = 0;
819   \mbox{\hyperlink{gb_sound_8cpp_a6b11d6a07c92e365cf9b1c17817d2809}{sound4CountDown}} = 0;
820   \mbox{\hyperlink{gb_sound_8cpp_a8f0313ca421942911e976f2ca0767e43}{sound4Continue}} = 0;
821   \mbox{\hyperlink{gb_sound_8cpp_a6a454a0fd8e69a5e6d7727b810bbe0bb}{sound4EnvelopeVolume}} =  0;
822   \mbox{\hyperlink{gb_sound_8cpp_a7bc7d26aac7999d1fd01b3967f7c5727}{sound4EnvelopeATL}} = 0;
823   \mbox{\hyperlink{gb_sound_8cpp_ae7e37783a24d980c3e9e656a1c10ec49}{sound4EnvelopeUpDown}} = 0;
824   \mbox{\hyperlink{gb_sound_8cpp_aa7070f6010f3b5fcd3766d1d4aa1ed55}{sound4EnvelopeATLReload}} = 0;
825 
826   \textcolor{comment}{// don't translate}
827   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_sound_8cpp_ad242f52b11bb44d2d50424a4a2e1f2c1}{soundDebug}}) \{
828     \mbox{\hyperlink{_system_8h_a030b0efa526d082f69e842cc48dff885}{log}}(\textcolor{stringliteral}{"*** Sound Init ***\(\backslash\)n"});
829   \}
830   
831   \mbox{\hyperlink{gb_sound_8cpp_a2f59ab705ed261b94ca8d094a964271e}{gbSoundEvent}}(0xff10, 0x80);
832   \mbox{\hyperlink{gb_sound_8cpp_a2f59ab705ed261b94ca8d094a964271e}{gbSoundEvent}}(0xff11, 0xbf);
833   \mbox{\hyperlink{gb_sound_8cpp_a2f59ab705ed261b94ca8d094a964271e}{gbSoundEvent}}(0xff12, 0xf3);
834   \mbox{\hyperlink{gb_sound_8cpp_a2f59ab705ed261b94ca8d094a964271e}{gbSoundEvent}}(0xff14, 0xbf);
835   \mbox{\hyperlink{gb_sound_8cpp_a2f59ab705ed261b94ca8d094a964271e}{gbSoundEvent}}(0xff16, 0x3f);
836   \mbox{\hyperlink{gb_sound_8cpp_a2f59ab705ed261b94ca8d094a964271e}{gbSoundEvent}}(0xff17, 0x00);
837   \mbox{\hyperlink{gb_sound_8cpp_a2f59ab705ed261b94ca8d094a964271e}{gbSoundEvent}}(0xff19, 0xbf);
838 
839   \mbox{\hyperlink{gb_sound_8cpp_a2f59ab705ed261b94ca8d094a964271e}{gbSoundEvent}}(0xff1a, 0x7f);  
840   \mbox{\hyperlink{gb_sound_8cpp_a2f59ab705ed261b94ca8d094a964271e}{gbSoundEvent}}(0xff1b, 0xff);
841   \mbox{\hyperlink{gb_sound_8cpp_a2f59ab705ed261b94ca8d094a964271e}{gbSoundEvent}}(0xff1c, 0xbf);
842   \mbox{\hyperlink{gb_sound_8cpp_a2f59ab705ed261b94ca8d094a964271e}{gbSoundEvent}}(0xff1e, 0xbf);    
843 
844   \mbox{\hyperlink{gb_sound_8cpp_a2f59ab705ed261b94ca8d094a964271e}{gbSoundEvent}}(0xff20, 0xff);
845   \mbox{\hyperlink{gb_sound_8cpp_a2f59ab705ed261b94ca8d094a964271e}{gbSoundEvent}}(0xff21, 0x00);
846   \mbox{\hyperlink{gb_sound_8cpp_a2f59ab705ed261b94ca8d094a964271e}{gbSoundEvent}}(0xff22, 0x00);
847   \mbox{\hyperlink{gb_sound_8cpp_a2f59ab705ed261b94ca8d094a964271e}{gbSoundEvent}}(0xff23, 0xbf);
848   \mbox{\hyperlink{gb_sound_8cpp_a2f59ab705ed261b94ca8d094a964271e}{gbSoundEvent}}(0xff24, 0x77);
849   \mbox{\hyperlink{gb_sound_8cpp_a2f59ab705ed261b94ca8d094a964271e}{gbSoundEvent}}(0xff25, 0xf3);
850 
851   \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_sound_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 0x4)
852     \mbox{\hyperlink{gb_sound_8cpp_a2f59ab705ed261b94ca8d094a964271e}{gbSoundEvent}}(0xff26, 0xf0);
853   \textcolor{keywordflow}{else}
854     \mbox{\hyperlink{gb_sound_8cpp_a2f59ab705ed261b94ca8d094a964271e}{gbSoundEvent}}(0xff26, 0xf1);
855 
856   \textcolor{comment}{// don't translate}
857   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_sound_8cpp_ad242f52b11bb44d2d50424a4a2e1f2c1}{soundDebug}}) \{
858     \mbox{\hyperlink{_system_8h_a030b0efa526d082f69e842cc48dff885}{log}}(\textcolor{stringliteral}{"*** Sound Init Complete ***\(\backslash\)n"});
859   \}
860   
861   \mbox{\hyperlink{gb_sound_8cpp_a81e547dd3700c5cc8b4327372a903a49}{sound1On}} = 0;
862   \mbox{\hyperlink{gb_sound_8cpp_a3d3599d20f8eec03eff16e325ca1d1c8}{sound2On}} = 0;
863   \mbox{\hyperlink{gb_sound_8cpp_ab7b33e5afcda807c338ba2db9a06bd57}{sound3On}} = 0;
864   \mbox{\hyperlink{gb_sound_8cpp_a1658472630e589ef5b5918fcaa6c769c}{sound4On}} = 0;
865   
866   \textcolor{keywordtype}{int} addr = 0xff30;
867 
868   \textcolor{keywordflow}{while}(addr < 0xff40) \{
869     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[addr++] = 0x00;
870     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[addr++] = 0xff;
871   \}
872 
873   memset(\mbox{\hyperlink{gb_sound_8cpp_aaaeebaacfff2cb98c4e68a6f89c1c8fc}{soundFinalWave}}, 0x00, \mbox{\hyperlink{gb_sound_8cpp_aae9aa4cd368679872bfcb1d851f33019}{soundBufferLen}});
874 
875 
876   memset(\mbox{\hyperlink{gb_sound_8cpp_a56f553e2bb796eee20ba816a7b2ac132}{soundFilter}}, 0, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{gb_sound_8cpp_a56f553e2bb796eee20ba816a7b2ac132}{soundFilter}}));
877   \mbox{\hyperlink{gb_sound_8cpp_a72b3a612430210b3da0902c1e2274f21}{soundEchoIndex}} = 0;
878 \}
\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_aa86b9ce126dc3c399fc94443164c0d98_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_g_b_8h_a86ed9a5e6bb5230a501d753280690618}\label{_g_b_8h_a86ed9a5e6bb5230a501d753280690618}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Sound\+Set\+Quality@{gb\+Sound\+Set\+Quality}}
\index{gb\+Sound\+Set\+Quality@{gb\+Sound\+Set\+Quality}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Sound\+Set\+Quality()}{gbSoundSetQuality()}}
{\footnotesize\ttfamily void gb\+Sound\+Set\+Quality (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_util_8cpp_a0ef32aa8672df19503a49fab2d0c8071}{int}}}]{ }\end{DoxyParamCaption})}



gb\+Sound.\+cpp 파일의 883 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
884 \{
885   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_sound_8cpp_aaeaa156dcc7083863fa6554b8e14854a}{soundQuality}} != quality && \mbox{\hyperlink{system_8cpp_a98f45c601382b0dee2729693bc8720c7}{systemCanChangeSoundQuality}}()) \{
886     \textcolor{keywordflow}{if}(!\mbox{\hyperlink{gb_sound_8cpp_a2ff51b8fba1a4efea2d3d72f93210375}{soundOffFlag}})
887       \mbox{\hyperlink{gb_sound_8cpp_a2f94fcc352d566069ad4cee1e9a62a39}{soundShutdown}}();
888     \mbox{\hyperlink{gb_sound_8cpp_aaeaa156dcc7083863fa6554b8e14854a}{soundQuality}} = quality;
889     \mbox{\hyperlink{gb_sound_8cpp_adc4aef1739da801b4dd16c7d92eccf45}{soundNextPosition}} = 0;
890     \textcolor{keywordflow}{if}(!\mbox{\hyperlink{gb_sound_8cpp_a2ff51b8fba1a4efea2d3d72f93210375}{soundOffFlag}})
891       \mbox{\hyperlink{gb_sound_8cpp_a48aac7ccc2439587be697d3f15fcd2e7}{soundInit}}();
892     \mbox{\hyperlink{gb_sound_8cpp_aef0cd952d257abbb552903fc848d30d9}{SOUND\_CLOCK\_TICKS}} = (\mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}} ? 2 : 1) * 24 * 
      \mbox{\hyperlink{gb_sound_8cpp_aaeaa156dcc7083863fa6554b8e14854a}{soundQuality}};
893     \mbox{\hyperlink{gb_sound_8cpp_a80142a927f9306b8eb68ae094e71e157}{soundIndex}} = 0;
894     \mbox{\hyperlink{gb_sound_8cpp_ac54680afc40360edc641e6da624ec65e}{soundBufferIndex}} = 0;
895   \} \textcolor{keywordflow}{else} \{
896     \mbox{\hyperlink{gb_sound_8cpp_adc4aef1739da801b4dd16c7d92eccf45}{soundNextPosition}} = 0;
897     \mbox{\hyperlink{gb_sound_8cpp_aef0cd952d257abbb552903fc848d30d9}{SOUND\_CLOCK\_TICKS}} = (\mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}} ? 2 : 1) * 24 * 
      \mbox{\hyperlink{gb_sound_8cpp_aaeaa156dcc7083863fa6554b8e14854a}{soundQuality}};
898     \mbox{\hyperlink{gb_sound_8cpp_a80142a927f9306b8eb68ae094e71e157}{soundIndex}} = 0;
899     \mbox{\hyperlink{gb_sound_8cpp_ac54680afc40360edc641e6da624ec65e}{soundBufferIndex}} = 0;
900   \}
901 \}
\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_a86ed9a5e6bb5230a501d753280690618_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_g_b_8h_aad488d5639e18bd991669476a3a7d71a}\label{_g_b_8h_aad488d5639e18bd991669476a3a7d71a}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Write\+Battery\+File@{gb\+Write\+Battery\+File}}
\index{gb\+Write\+Battery\+File@{gb\+Write\+Battery\+File}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Write\+Battery\+File()}{gbWriteBatteryFile()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool gb\+Write\+Battery\+File (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$}]{ }\end{DoxyParamCaption})}



G\+B.\+cpp 파일의 3265 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3266 \{
3267   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{_g_b_8cpp_a56e69687643cc9893d3029d02e8821e2}{gbBatteryError}})
3268   \{
3269     \mbox{\hyperlink{_g_b_8cpp_a25cad6c0d1059ad4bf219d93d86aa2dd}{gbWriteBatteryFile}}(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}}, \textcolor{keyword}{true});
3270     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
3271   \}
3272   \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} \textcolor{keyword}{false};
3273 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_aad488d5639e18bd991669476a3a7d71a_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_g_b_8h_a9389fdc85e3522a778e41a7004490282}\label{_g_b_8h_a9389fdc85e3522a778e41a7004490282}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Write\+Battery\+File@{gb\+Write\+Battery\+File}}
\index{gb\+Write\+Battery\+File@{gb\+Write\+Battery\+File}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Write\+Battery\+File()}{gbWriteBatteryFile()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool gb\+Write\+Battery\+File (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$}]{,  }\item[{bool}]{ }\end{DoxyParamCaption})}



G\+B.\+cpp 파일의 3227 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3228 \{
3229   \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a5499841d2688c9dec70d0b0af42d481e}{gbBattery}}) \{
3230     \textcolor{keywordflow}{switch}(\mbox{\hyperlink{_g_b_8cpp_aa2d8461e7ac3d690783de903ab527c35}{gbRomType}}) \{
3231     \textcolor{keywordflow}{case} 0x03:
3232       \mbox{\hyperlink{_g_b_8cpp_aea9834252fc8ce2518078fcba98c185b}{gbWriteSaveMBC1}}(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}});
3233       \textcolor{keywordflow}{break};
3234     \textcolor{keywordflow}{case} 0x06:
3235       \mbox{\hyperlink{_g_b_8cpp_a0dd1813f39ff6b94a0b3c9fa69054a68}{gbWriteSaveMBC2}}(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}});
3236       \textcolor{keywordflow}{break};
3237     \textcolor{keywordflow}{case} 0x0d:
3238       \mbox{\hyperlink{_g_b_8cpp_aa8dccd6e9714a0aea7738c39792cd0e2}{gbWriteSaveMMM01}}(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}});
3239       \textcolor{keywordflow}{break};
3240     \textcolor{keywordflow}{case} 0x0f:
3241     \textcolor{keywordflow}{case} 0x10:
3242       \mbox{\hyperlink{_g_b_8cpp_a253c3848a19fc885120bdb34e92ebae6}{gbWriteSaveMBC3}}(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}}, extendedSave);
3243       \textcolor{keywordflow}{break};
3244     \textcolor{keywordflow}{case} 0x13:
3245     \textcolor{keywordflow}{case} 0xfc:
3246       \mbox{\hyperlink{_g_b_8cpp_a253c3848a19fc885120bdb34e92ebae6}{gbWriteSaveMBC3}}(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}}, \textcolor{keyword}{false});
3247     \textcolor{keywordflow}{case} 0x1b:
3248     \textcolor{keywordflow}{case} 0x1e:
3249       \mbox{\hyperlink{_g_b_8cpp_abf4ec8c57024ccf887cf9eb91846b151}{gbWriteSaveMBC5}}(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}});
3250       \textcolor{keywordflow}{break};
3251     \textcolor{keywordflow}{case} 0x22:
3252       \mbox{\hyperlink{_g_b_8cpp_ad2237c5d509ab172b012a56e9dc1e39d}{gbWriteSaveMBC7}}(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}});
3253       \textcolor{keywordflow}{break};
3254     \textcolor{keywordflow}{case} 0xfd:
3255       \mbox{\hyperlink{_g_b_8cpp_ac1b06ebcb3fd13e8b527a902d7fa4645}{gbWriteSaveTAMA5}}(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}}, extendedSave);
3256       \textcolor{keywordflow}{break};
3257     \textcolor{keywordflow}{case} 0xff:
3258       \mbox{\hyperlink{_g_b_8cpp_aea9834252fc8ce2518078fcba98c185b}{gbWriteSaveMBC1}}(\mbox{\hyperlink{expr-lex_8cpp_a702945180aa732857b380a007a7e2a21}{file}});
3259       \textcolor{keywordflow}{break};
3260     \}
3261   \}
3262   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
3263 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_a9389fdc85e3522a778e41a7004490282_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_a9389fdc85e3522a778e41a7004490282_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_g_b_8h_adcfcf660500998b314139045d4067e8d}\label{_g_b_8h_adcfcf660500998b314139045d4067e8d}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Write\+B\+M\+P\+File@{gb\+Write\+B\+M\+P\+File}}
\index{gb\+Write\+B\+M\+P\+File@{gb\+Write\+B\+M\+P\+File}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Write\+B\+M\+P\+File()}{gbWriteBMPFile()}}
{\footnotesize\ttfamily bool gb\+Write\+B\+M\+P\+File (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$}]{ }\end{DoxyParamCaption})}



G\+B.\+cpp 파일의 3973 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3974 \{
3975   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_a4700c36a68a6b63f7c2e91756a250cd2}{gbBorderOn}})
3976     \textcolor{keywordflow}{return} \mbox{\hyperlink{_util_8cpp_a463ac9d205b87967e87d6b7c2b815fd3}{utilWriteBMPFile}}(fileName, 256, 224, \mbox{\hyperlink{_g_b_8cpp_a5ee6554b606dcde59ac92578b33776d0}{pix}});
3977   \textcolor{keywordflow}{return} \mbox{\hyperlink{_util_8cpp_a463ac9d205b87967e87d6b7c2b815fd3}{utilWriteBMPFile}}(fileName, 160, 144, \mbox{\hyperlink{_g_b_8cpp_a5ee6554b606dcde59ac92578b33776d0}{pix}});
3978 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_adcfcf660500998b314139045d4067e8d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_g_b_8h_a157c79a0dc4e8fc437f796e71c05b9ba}\label{_g_b_8h_a157c79a0dc4e8fc437f796e71c05b9ba}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Write\+Memory@{gb\+Write\+Memory}}
\index{gb\+Write\+Memory@{gb\+Write\+Memory}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Write\+Memory()}{gbWriteMemory()}}
{\footnotesize\ttfamily void gb\+Write\+Memory (\begin{DoxyParamCaption}\item[{register}]{u16,  }\item[{register}]{u8 }\end{DoxyParamCaption})}



G\+B.\+cpp 파일의 716 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
717 \{
718 
719   \textcolor{keywordflow}{if}(address < 0x8000) \{
720 \textcolor{preprocessor}{#ifndef FINAL\_VERSION    }
721     \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_afa151794d2605576429772bff8a440d0}{memorydebug}} && (address>0x3fff || address < 0x2000)) \{
722       \mbox{\hyperlink{_system_8h_a030b0efa526d082f69e842cc48dff885}{log}}(\textcolor{stringliteral}{"Memory register write %04x=%02x PC=%04x\(\backslash\)n"},
723           address,
724           value,
725           \mbox{\hyperlink{_g_b_8cpp_abc78e2e4c6db630eeae9741c27e9bda3}{PC}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}});
726     \}
727 
728 \textcolor{preprocessor}{#endif}
729     \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_aaebce0ddd3b4f4e06912f459e709ac32}{mapper}})
730       (*mapper)(address, value);
731     \textcolor{keywordflow}{return};
732 
733   \}
734 
735   \textcolor{keywordflow}{if}(address < 0xa000) \{
736     \textcolor{comment}{// No access to Vram during mode 3}
737     \textcolor{comment}{// (used to emulate the gfx differences between GB & GBC-GBA/SP in Stunt Racer)}
738     \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} !=3) ||
739     \textcolor{comment}{// This part is used to emulate a small difference between hardwares}
740     \textcolor{comment}{// (check 8-in-1's arrow on GBA/GBC to verify it)}
741        ((\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} == 0) && ((\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 0xa) && (
      \mbox{\hyperlink{_g_b_8cpp_af7a8929b0bdf5ebca2d8d44c524210c5}{gbScreenOn}}==\textcolor{keyword}{false}) &&
742        (\mbox{\hyperlink{_g_b_8cpp_af18da9d87d0d4a930844db59eef99432}{register\_LCDC}} & 0x80)) &&
743        (\mbox{\hyperlink{_g_b_8cpp_abdb3e275a757da833e774c19ded966d6}{gbLcdLYIncrementTicksDelayed}} ==(
      \mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}}-\mbox{\hyperlink{_g_b_8cpp_a694d78b9d65ea5c8d37256038db17e80}{GBLCD\_MODE\_2\_CLOCK\_TICKS}}))))
744       \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[address>>12][address&0x0fff] = value;
745     \textcolor{keywordflow}{return};
746   \}
747 
748   \textcolor{comment}{// Used for the mirroring of 0xC000 in 0xE000}
749   \textcolor{keywordflow}{if} ((address >= 0xe000) && (address < 0xfe00))
750     address &= ~0x2000;
751 
752   \textcolor{keywordflow}{if}(address < 0xc000) \{
753 \textcolor{preprocessor}{#ifndef FINAL\_VERSION}
754     \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_afa151794d2605576429772bff8a440d0}{memorydebug}}) \{
755       \mbox{\hyperlink{_system_8h_a030b0efa526d082f69e842cc48dff885}{log}}(\textcolor{stringliteral}{"Memory register write %04x=%02x PC=%04x\(\backslash\)n"},
756           address,
757           value,
758           \mbox{\hyperlink{_g_b_8cpp_abc78e2e4c6db630eeae9741c27e9bda3}{PC}}.\mbox{\hyperlink{uniongb_register_ab3d596e48605bc14793ff0292e6ed814}{W}});
759     \}
760 \textcolor{preprocessor}{#endif}
761 
762     \textcolor{comment}{// Is that a correct fix ??? (it used to be 'if (mapper)')...}
763     \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_ac00ae2ce404349b9a79481e8fa8dcce3}{mapperRAM}})
764         (*mapperRAM)(address, value);
765     \textcolor{keywordflow}{return};
766   \}
767 
768 
769   \textcolor{keywordflow}{if}(address < 0xfe00) \{
770     \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[address>>12][address & 0x0fff] = value;
771     \textcolor{keywordflow}{return};
772   \}
773 
774   \textcolor{comment}{// OAM not accessible during mode 2 & 3.}
775   \textcolor{keywordflow}{if}(address < 0xfea0)
776   \{
777       \textcolor{keywordflow}{if} (((\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 0xa) && ((\mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} | 
      \mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}}) &2)) ||
778           ((\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 5) && (((\mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} == 2) &&
779           (\mbox{\hyperlink{_g_b_8cpp_a67d7812d16307862d7d865d3683e5f66}{gbLcdTicksDelayed}}<=\mbox{\hyperlink{_g_b_8cpp_a694d78b9d65ea5c8d37256038db17e80}{GBLCD\_MODE\_2\_CLOCK\_TICKS}})) ||
780           (\mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} == 3))))
781       \textcolor{keywordflow}{return};
782     \textcolor{keywordflow}{else}
783     \{
784       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[address] = value;
785       \textcolor{keywordflow}{return};
786     \}
787   \}
788 
789 
790 
791   \textcolor{keywordflow}{if}((address > 0xfea0) && (address < 0xff00))\{ \textcolor{comment}{// GBC allows reading/writing to that area}
792     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[address] = value;
793     \textcolor{keywordflow}{return};
794   \}   
795 
796   \textcolor{keywordflow}{switch}(address & 0x00ff) \{
797 
798     \textcolor{keywordflow}{case} 0x00: \{
799       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff00] = ((\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff00] & 0xcf) |
800                         (value & 0x30) | 0xc0);
801       \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8h_aade6a7bab8d45119651cd9e8103d2cf8}{gbSgbMode}}) \{
802         \mbox{\hyperlink{gb_s_g_b_8cpp_a267812a2c6379d46fc74fda066d37fac}{gbSgbDoBitTransfer}}(value);
803       \}
804       \textcolor{keywordflow}{return};
805     \}
806 
807     \textcolor{keywordflow}{case} 0x01: \{
808       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff01] = value;
809       \textcolor{keywordflow}{return};
810     \}
811     
812     \textcolor{comment}{// serial control}
813     \textcolor{keywordflow}{case} 0x02: \{
814       \mbox{\hyperlink{_g_b_8cpp_a975777bc7fcf27e6cdec077cd985bb89}{gbSerialOn}} = (value & 0x80);
815       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff02] = value;    
816       \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a975777bc7fcf27e6cdec077cd985bb89}{gbSerialOn}}) \{
817         \mbox{\hyperlink{_g_b_8cpp_a6b56d456e3835eedec7fb20b33c4edf2}{gbSerialTicks}} = \mbox{\hyperlink{_g_b_8cpp_a6e0e4786007aaf918170106e5d8265d4}{GBSERIAL\_CLOCK\_TICKS}};
818 \textcolor{preprocessor}{#ifdef LINK\_EMULATION}
819         \textcolor{keywordflow}{if}(linkConnected) \{
820           \textcolor{keywordflow}{if}(value & 1) \{
821             linkSendByte(0x100|\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xFF01]);
822             Sleep(5);
823           \}
824         \}
825 \textcolor{preprocessor}{#endif}
826       \}
827 
828       \mbox{\hyperlink{_g_b_8cpp_aede64838ee11e636b4687a781206f921}{gbSerialBits}} = 0;
829       \textcolor{keywordflow}{return};
830     \}
831   
832     \textcolor{keywordflow}{case} 0x04: \{
833     \textcolor{comment}{// DIV register resets on any write}
834     \textcolor{comment}{// (not totally perfect, but better than nothing)}
835       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff04] = \mbox{\hyperlink{_g_b_8cpp_acbcb739ca521418c569a3ec08893c9fc}{register\_DIV}} = 0;
836       \mbox{\hyperlink{_g_b_8cpp_a8cad8181524ac81a7b88ca97e91cb806}{gbDivTicks}} = \mbox{\hyperlink{_g_b_8cpp_a2aeb4daa5c079754ff00de8b6cb071cf}{GBDIV\_CLOCK\_TICKS}};
837      \textcolor{comment}{// Another weird timer 'bug' :}
838      \textcolor{comment}{// Writing to DIV register resets the internal timer,}
839      \textcolor{comment}{// and can also increase TIMA/trigger an interrupt}
840      \textcolor{comment}{// in some cases...}
841       \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_aff31e411532ed8705e35d10bf7c7eee8}{gbTimerOn}} && !(\mbox{\hyperlink{_g_b_8cpp_af524a74ef8a0ee6751c529ae3cb60479}{gbInternalTimer}} & (
      \mbox{\hyperlink{_g_b_8cpp_a2010725d18c236a99b06b460d03d9de0}{gbTimerClockTicks}}>>1)))
842       \{
843         \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff05] = ++\mbox{\hyperlink{_g_b_8cpp_a4b7d2d4e5c539a4ae530c9a87f704364}{register\_TIMA}};
844         \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a4b7d2d4e5c539a4ae530c9a87f704364}{register\_TIMA}} == 0) \{
845           \textcolor{comment}{// timer overflow!}
846             
847           \textcolor{comment}{// reload timer modulo}
848           \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff05] = \mbox{\hyperlink{_g_b_8cpp_a4b7d2d4e5c539a4ae530c9a87f704364}{register\_TIMA}} = \mbox{\hyperlink{_g_b_8cpp_ab72522f07d60001a142345e55ab781a1}{register\_TMA}};
849               
850           \textcolor{comment}{// flag interrupt}
851           \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff0f] = \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} |= 4;
852         \}
853       \}
854       \mbox{\hyperlink{_g_b_8cpp_af524a74ef8a0ee6751c529ae3cb60479}{gbInternalTimer}} = 0xff;
855       \textcolor{keywordflow}{return};
856     \}
857     \textcolor{keywordflow}{case} 0x05:
858       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff05] = \mbox{\hyperlink{_g_b_8cpp_a4b7d2d4e5c539a4ae530c9a87f704364}{register\_TIMA}} = value;
859       \textcolor{keywordflow}{return};
860 
861     \textcolor{keywordflow}{case} 0x06:
862       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff06] = \mbox{\hyperlink{_g_b_8cpp_ab72522f07d60001a142345e55ab781a1}{register\_TMA}} = value;
863       \textcolor{keywordflow}{return};
864     
865       \textcolor{comment}{// TIMER control}
866     \textcolor{keywordflow}{case} 0x07: \{
867 
868       \mbox{\hyperlink{_g_b_8cpp_a6a791c2b1c13c0c2692288a2df878599}{gbTimerModeChange}} = (((value & 3) != (\mbox{\hyperlink{_g_b_8cpp_a893111f1604efeaeaccbc1dd11cca3ac}{register\_TAC}}&3)) && (value & 
      \mbox{\hyperlink{_g_b_8cpp_a893111f1604efeaeaccbc1dd11cca3ac}{register\_TAC}} & 4)) ? \textcolor{keyword}{true} : \textcolor{keyword}{false};
869       \mbox{\hyperlink{_g_b_8cpp_ad58156c3b1fa7cf868e57be5029f354f}{gbTimerOnChange}} = (((value ^ \mbox{\hyperlink{_g_b_8cpp_a893111f1604efeaeaccbc1dd11cca3ac}{register\_TAC}}) & 4) == 4) ? \textcolor{keyword}{true} : \textcolor{keyword}{false};
870       
871       \mbox{\hyperlink{_g_b_8cpp_aff31e411532ed8705e35d10bf7c7eee8}{gbTimerOn}} = (value & 4) ? \textcolor{keyword}{true} : \textcolor{keyword}{false};    
872 
873       \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_ad58156c3b1fa7cf868e57be5029f354f}{gbTimerOnChange}} || \mbox{\hyperlink{_g_b_8cpp_a6a791c2b1c13c0c2692288a2df878599}{gbTimerModeChange}})
874       \{
875         \mbox{\hyperlink{_g_b_8cpp_ae66612e4574615eb4ae43aaf94e0c247}{gbTimerMode}} = value & 3;
876 
877         \textcolor{keywordflow}{switch}(\mbox{\hyperlink{_g_b_8cpp_ae66612e4574615eb4ae43aaf94e0c247}{gbTimerMode}}) \{
878           \textcolor{keywordflow}{case} 0:
879             \mbox{\hyperlink{_g_b_8cpp_a2010725d18c236a99b06b460d03d9de0}{gbTimerClockTicks}} = \mbox{\hyperlink{_g_b_8cpp_a0328bbe4baa24965986c107986107ea0}{GBTIMER\_MODE\_0\_CLOCK\_TICKS}};
880             \textcolor{keywordflow}{break};
881           \textcolor{keywordflow}{case} 1:
882             \mbox{\hyperlink{_g_b_8cpp_a2010725d18c236a99b06b460d03d9de0}{gbTimerClockTicks}} = \mbox{\hyperlink{_g_b_8cpp_a728ce08caba407be6fb7d27c6ca06e03}{GBTIMER\_MODE\_1\_CLOCK\_TICKS}};
883             \textcolor{keywordflow}{break};
884           \textcolor{keywordflow}{case} 2:
885             \mbox{\hyperlink{_g_b_8cpp_a2010725d18c236a99b06b460d03d9de0}{gbTimerClockTicks}} = \mbox{\hyperlink{_g_b_8cpp_aef15723c73099507aff99f14681a9461}{GBTIMER\_MODE\_2\_CLOCK\_TICKS}};
886             \textcolor{keywordflow}{break};
887           \textcolor{keywordflow}{case} 3:
888             \mbox{\hyperlink{_g_b_8cpp_a2010725d18c236a99b06b460d03d9de0}{gbTimerClockTicks}} = \mbox{\hyperlink{_g_b_8cpp_a8590efb8fe2edb0416817727bf242dcb}{GBTIMER\_MODE\_3\_CLOCK\_TICKS}};
889             \textcolor{keywordflow}{break};
890         \}
891       \}
892 
893 
894       \textcolor{comment}{// This looks weird, but this emulates a bug in which register\_TIMA}
895       \textcolor{comment}{// is increased when writing to register\_TAC}
896       \textcolor{comment}{// (This fixes Korodice's long-delay between menus bug).}
897     
898       \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_ad58156c3b1fa7cf868e57be5029f354f}{gbTimerOnChange}} || \mbox{\hyperlink{_g_b_8cpp_a6a791c2b1c13c0c2692288a2df878599}{gbTimerModeChange}}) 
899       \{
900         \textcolor{keywordtype}{bool} temp = \textcolor{keyword}{false};
901 
902         \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_aff31e411532ed8705e35d10bf7c7eee8}{gbTimerOn}}  && !\mbox{\hyperlink{_g_b_8cpp_a6a791c2b1c13c0c2692288a2df878599}{gbTimerModeChange}})  && (
      \mbox{\hyperlink{_g_b_8cpp_ae66612e4574615eb4ae43aaf94e0c247}{gbTimerMode}} & 2) &&
903             !(\mbox{\hyperlink{_g_b_8cpp_af524a74ef8a0ee6751c529ae3cb60479}{gbInternalTimer}} & 0x80) && (\mbox{\hyperlink{_g_b_8cpp_af524a74ef8a0ee6751c529ae3cb60479}{gbInternalTimer}} & (
      \mbox{\hyperlink{_g_b_8cpp_a2010725d18c236a99b06b460d03d9de0}{gbTimerClockTicks}}>>1)) &&
904             !(\mbox{\hyperlink{_g_b_8cpp_af524a74ef8a0ee6751c529ae3cb60479}{gbInternalTimer}} & (\mbox{\hyperlink{_g_b_8cpp_a2010725d18c236a99b06b460d03d9de0}{gbTimerClockTicks}}>>5)))
905           temp = \textcolor{keyword}{true};
906         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((!\mbox{\hyperlink{_g_b_8cpp_aff31e411532ed8705e35d10bf7c7eee8}{gbTimerOn}} && !\mbox{\hyperlink{_g_b_8cpp_a6a791c2b1c13c0c2692288a2df878599}{gbTimerModeChange}} && 
      \mbox{\hyperlink{_g_b_8cpp_ad58156c3b1fa7cf868e57be5029f354f}{gbTimerOnChange}} ) &&  ((\mbox{\hyperlink{_g_b_8cpp_a30eaefadb9959a0cbd62490b92f89553}{gbTimerTicks}}-1) < (
      \mbox{\hyperlink{_g_b_8cpp_a2010725d18c236a99b06b460d03d9de0}{gbTimerClockTicks}}>>1)))
907           temp = \textcolor{keyword}{true};
908         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_aff31e411532ed8705e35d10bf7c7eee8}{gbTimerOn}} && \mbox{\hyperlink{_g_b_8cpp_a6a791c2b1c13c0c2692288a2df878599}{gbTimerModeChange}} && !
      \mbox{\hyperlink{_g_b_8cpp_ad58156c3b1fa7cf868e57be5029f354f}{gbTimerOnChange}})
909         \{
910           \textcolor{keywordflow}{switch}(\mbox{\hyperlink{_g_b_8cpp_ae66612e4574615eb4ae43aaf94e0c247}{gbTimerMode}} & 3)
911           \{
912             \textcolor{keywordflow}{case} 0x00:
913               temp = \textcolor{keyword}{false};
914               \textcolor{keywordflow}{break};
915             \textcolor{keywordflow}{case} 0x01:
916               \textcolor{keywordflow}{if} (((\mbox{\hyperlink{_g_b_8cpp_af524a74ef8a0ee6751c529ae3cb60479}{gbInternalTimer}} & 0x82) == 2) && (
      \mbox{\hyperlink{_g_b_8cpp_a30eaefadb9959a0cbd62490b92f89553}{gbTimerTicks}}>(\mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}}+1))) 
917                 temp = \textcolor{keyword}{true};
918               \textcolor{keywordflow}{break};
919             \textcolor{keywordflow}{case} 0x02:
920               \textcolor{keywordflow}{if} (((\mbox{\hyperlink{_g_b_8cpp_af524a74ef8a0ee6751c529ae3cb60479}{gbInternalTimer}} & 0x88) == 0x8) && (
      \mbox{\hyperlink{_g_b_8cpp_a30eaefadb9959a0cbd62490b92f89553}{gbTimerTicks}}>(\mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}}+1)))
921                 temp = \textcolor{keyword}{true};
922              \textcolor{keywordflow}{break};
923             \textcolor{keywordflow}{case} 0x03:
924               \textcolor{keywordflow}{if} (((\mbox{\hyperlink{_g_b_8cpp_af524a74ef8a0ee6751c529ae3cb60479}{gbInternalTimer}} & 0xA0) == 0x20) && (
      \mbox{\hyperlink{_g_b_8cpp_a30eaefadb9959a0cbd62490b92f89553}{gbTimerTicks}}>(\mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}}+1)))
925                 temp = \textcolor{keyword}{true};
926               \textcolor{keywordflow}{break};
927           \}
928         \}
929 
930         \textcolor{keywordflow}{if} (temp)
931         \{
932           \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff05] = ++\mbox{\hyperlink{_g_b_8cpp_a4b7d2d4e5c539a4ae530c9a87f704364}{register\_TIMA}};
933           \textcolor{keywordflow}{if}((\mbox{\hyperlink{_g_b_8cpp_a4b7d2d4e5c539a4ae530c9a87f704364}{register\_TIMA}} & 0xff) == 0) \{
934             \textcolor{comment}{// timer overflow!}
935             
936             \textcolor{comment}{// reload timer modulo}
937             \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff05] = \mbox{\hyperlink{_g_b_8cpp_a4b7d2d4e5c539a4ae530c9a87f704364}{register\_TIMA}} = \mbox{\hyperlink{_g_b_8cpp_ab72522f07d60001a142345e55ab781a1}{register\_TMA}};
938             
939             \textcolor{comment}{// flag interrupt}
940             \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff0f] = \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} |= 4;
941           \}
942         \}
943       \}
944       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff07] = \mbox{\hyperlink{_g_b_8cpp_a893111f1604efeaeaccbc1dd11cca3ac}{register\_TAC}} = value;
945       \textcolor{keywordflow}{return};
946     \}
947 
948     \textcolor{keywordflow}{case} 0x0f: \{
949       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff0f] = \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} = value;
950       \textcolor{comment}{//gbMemory[0xff0f] = register\_IE |= value;}
951       \textcolor{keywordflow}{return};
952     \}
953   
954     \textcolor{keywordflow}{case} 0x10:
955     \textcolor{keywordflow}{case} 0x11:
956     \textcolor{keywordflow}{case} 0x12:
957     \textcolor{keywordflow}{case} 0x13:
958     \textcolor{keywordflow}{case} 0x14:
959     \textcolor{keywordflow}{case} 0x16:
960     \textcolor{keywordflow}{case} 0x17:
961     \textcolor{keywordflow}{case} 0x18:
962     \textcolor{keywordflow}{case} 0x19:
963     \textcolor{keywordflow}{case} 0x1a:
964     \textcolor{keywordflow}{case} 0x1b:
965     \textcolor{keywordflow}{case} 0x1c:
966     \textcolor{keywordflow}{case} 0x1d:
967     \textcolor{keywordflow}{case} 0x1e:
968     \textcolor{keywordflow}{case} 0x20:
969     \textcolor{keywordflow}{case} 0x21:
970     \textcolor{keywordflow}{case} 0x22:
971     \textcolor{keywordflow}{case} 0x23:
972     \textcolor{keywordflow}{case} 0x24:
973     \textcolor{keywordflow}{case} 0x25: \{
974       \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[\mbox{\hyperlink{gb_sound_8h_a254c0d88c931aea1d3822a0131a4f884}{NR52}}] & 0x80) \{
975         \mbox{\hyperlink{gb_sound_8h_a3ba39a4b42f292676cadc6bc6be90c2e}{SOUND\_EVENT}}(address,value);
976         \textcolor{keywordflow}{return};
977       \}
978     \}
979 
980     \textcolor{keywordflow}{case} 0x26: \{
981       \mbox{\hyperlink{gb_sound_8h_a3ba39a4b42f292676cadc6bc6be90c2e}{SOUND\_EVENT}}(address,value);
982       \textcolor{keywordflow}{return};
983     \}
984 
985     \textcolor{keywordflow}{case} 0x30:
986     \textcolor{keywordflow}{case} 0x31:
987     \textcolor{keywordflow}{case} 0x32:
988     \textcolor{keywordflow}{case} 0x33:
989     \textcolor{keywordflow}{case} 0x34:
990     \textcolor{keywordflow}{case} 0x35:
991     \textcolor{keywordflow}{case} 0x36:
992     \textcolor{keywordflow}{case} 0x37:
993     \textcolor{keywordflow}{case} 0x38:
994     \textcolor{keywordflow}{case} 0x39:
995     \textcolor{keywordflow}{case} 0x3a:
996     \textcolor{keywordflow}{case} 0x3b:
997     \textcolor{keywordflow}{case} 0x3c:
998     \textcolor{keywordflow}{case} 0x3d:
999     \textcolor{keywordflow}{case} 0x3e:
1000     \textcolor{keywordflow}{case} 0x3f: \{
1001       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[address] = value;
1002       \textcolor{keywordflow}{return};
1003     \}
1004 
1005     \textcolor{keywordflow}{case} 0x40: \{
1006       \textcolor{keywordtype}{int} lcdChange = (\mbox{\hyperlink{_g_b_8cpp_af18da9d87d0d4a930844db59eef99432}{register\_LCDC}} & 0x80) ^ (value & 0x80);
1007 
1008       \textcolor{comment}{// don't draw the window if it was not enabled and not being drawn before}
1009       \textcolor{keywordflow}{if}(!(\mbox{\hyperlink{_g_b_8cpp_af18da9d87d0d4a930844db59eef99432}{register\_LCDC}} & 0x20) && (value & 0x20) && \mbox{\hyperlink{gb_globals_8cpp_a406aa032fac9ced7e3642fad4e0edd44}{gbWindowLine}} == -1 &&
1010          \mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} > \mbox{\hyperlink{_g_b_8cpp_a0c0df073066ca310ec6fecb25bd3988c}{register\_WY}})
1011         \mbox{\hyperlink{gb_globals_8cpp_a406aa032fac9ced7e3642fad4e0edd44}{gbWindowLine}} = 146;
1012       \textcolor{comment}{// 007 fix : don't draw the first window's 1st line if it's enable 'too late'}
1013       \textcolor{comment}{// (ie. if register\_LY == register\_WY when enabling it)}
1014       \textcolor{comment}{// and move it to the next line}
1015       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!(\mbox{\hyperlink{_g_b_8cpp_af18da9d87d0d4a930844db59eef99432}{register\_LCDC}} & 0x20) && (value & 0x20) && (
      \mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} == \mbox{\hyperlink{_g_b_8cpp_a0c0df073066ca310ec6fecb25bd3988c}{register\_WY}}))
1016         \mbox{\hyperlink{gb_globals_8cpp_a406aa032fac9ced7e3642fad4e0edd44}{gbWindowLine}} = -2;
1017 
1018 
1019       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff40] = \mbox{\hyperlink{_g_b_8cpp_af18da9d87d0d4a930844db59eef99432}{register\_LCDC}} = value;
1020 
1021 
1022       \textcolor{keywordflow}{if}(lcdChange) \{
1023         \textcolor{keywordflow}{if}((value & 0x80) && (!\mbox{\hyperlink{_g_b_8cpp_adc3de5d9e717dd87fe6b58a696449dcd}{register\_LCDCBusy}})) \{
1024 
1025         \textcolor{comment}{//  if (!gbWhiteScreen && !gbSgbMask)}
1026 
1027           \textcolor{comment}{//  systemDrawScreen();}
1028 
1029 
1030 
1031           \mbox{\hyperlink{_g_b_8cpp_ac63553daea2709301af0702249046b53}{gbRegisterLYLCDCOffOn}} = (\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} + 144) % 154;
1032 
1033           \mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}} = \mbox{\hyperlink{_g_b_8cpp_a694d78b9d65ea5c8d37256038db17e80}{GBLCD\_MODE\_2\_CLOCK\_TICKS}} - (
      \mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}} ? 2 : 1);
1034           \mbox{\hyperlink{_g_b_8cpp_a67d7812d16307862d7d865d3683e5f66}{gbLcdTicksDelayed}} = \mbox{\hyperlink{_g_b_8cpp_a694d78b9d65ea5c8d37256038db17e80}{GBLCD\_MODE\_2\_CLOCK\_TICKS}} - (
      \mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}} ? 1 : 0);
1035           \mbox{\hyperlink{_g_b_8cpp_ae0cdf5545a76d5f524b336ff5b7cd910}{gbLcdLYIncrementTicks}} = 
      \mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}} - (\mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}} ? 2 : 1);
1036           \mbox{\hyperlink{_g_b_8cpp_abdb3e275a757da833e774c19ded966d6}{gbLcdLYIncrementTicksDelayed}} = 
      \mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}} - (\mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}} ? 1 : 0);
1037           \mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} = 2;
1038           \mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} = 2;
1039           \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff41] = \mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}} = (\mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}} & 0xfc) | 2;
1040           \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff44] = \mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} = 0x00;
1041           \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} = 0;
1042           \mbox{\hyperlink{_g_b_8cpp_a238377c335fc8259839d03a324993acd}{gbLYChangeHappened}} = \textcolor{keyword}{false};
1043           \mbox{\hyperlink{_g_b_8cpp_a243ed6fb41567443335cef76d722e1ea}{gbLCDChangeHappened}} = \textcolor{keyword}{false};
1044           \mbox{\hyperlink{gb_globals_8cpp_a406aa032fac9ced7e3642fad4e0edd44}{gbWindowLine}} = 146;
1045           \mbox{\hyperlink{_g_b_8cpp_ae85aa77fbabadb9981575f14fc251b50}{oldRegister\_WY}} = 146;
1046 
1047           \textcolor{comment}{// Fix for Namco Gallery Vol.2}
1048           \textcolor{comment}{// (along with updating register\_LCDC at the start of 'case 0x40') :}
1049           \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}} & 0x20)
1050           \{
1051             \textcolor{comment}{// send LCD interrupt only if no interrupt 48h signal...}
1052             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}})
1053             \{
1054               \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff0f] = \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} |= 2;
1055             \}
1056             \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} |= 4;
1057           \}
1058           \mbox{\hyperlink{_g_b_8cpp_aa26a94a9b4a904634ab42555ae8cd05b}{gbCompareLYToLYC}}();
1059 
1060         \} \textcolor{keywordflow}{else} \{
1061   
1062           \mbox{\hyperlink{_g_b_8cpp_adc3de5d9e717dd87fe6b58a696449dcd}{register\_LCDCBusy}} = \mbox{\hyperlink{_g_b_8cpp_aa3ae0c84718fc27ac99214a1b555a126}{clockTicks}}+6;
1063 
1064           \textcolor{comment}{//used to update the screen with white lines when it's off.}
1065           \textcolor{comment}{//(it looks strange, but it's pretty accurate)}
1066 
1067           \mbox{\hyperlink{_g_b_8cpp_adb51d11b7a22a8272a4335e8714f5d41}{gbWhiteScreen}} = 0;
1068 
1069           \mbox{\hyperlink{_g_b_8cpp_a7c41c60dd0ca7a252bb3019aa08236a6}{gbScreenTicks}} = ((150-\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}})*
      \mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}} +
1070                           (49<<(\mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}} ? 1 : 0)));
1071 
1072           \textcolor{comment}{// disable the screen rendering}
1073           \mbox{\hyperlink{_g_b_8cpp_af7a8929b0bdf5ebca2d8d44c524210c5}{gbScreenOn}} = \textcolor{keyword}{false};
1074           \mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}} = 0;
1075           \mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} = 0;
1076           \mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} = 0;
1077           \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff41] = \mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}} &= 0xfc;
1078           \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} = 0;
1079         \}
1080       \}
1081       \textcolor{keywordflow}{return};
1082     \}
1083 
1084     \textcolor{comment}{// STAT}
1085     \textcolor{keywordflow}{case} 0x41: \{
1086       \textcolor{comment}{//register\_STAT = (register\_STAT & 0x87) |}
1087       \textcolor{comment}{//      (value & 0x7c);}
1088       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff41] = \mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}} = (value & 0xf8) | (
      \mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}} & 0x07); \textcolor{comment}{// fix ?}
1089       \textcolor{comment}{// GB bug from Devrs FAQ}
1090       \textcolor{comment}{// Corrected : it happens if Lcd Mode<2, but also if LY == LYC whatever}
1091       \textcolor{comment}{// Lcd Mode is, and if !gbInt48Signal in all cases. The screen being off}
1092       \textcolor{comment}{// doesn't matter (the bug will still happen).}
1093       \textcolor{comment}{// That fixes 'Satoru Nakajima - F-1 Hero' crash bug.}
1094 
1095       \textcolor{keywordflow}{if}((\mbox{\hyperlink{_g_b_8cpp_ac5eee2272338972760639fe83c16709d}{gbHardware}} & 5) && (((!\mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}}) && (
      \mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}}<2) && (\mbox{\hyperlink{_g_b_8cpp_af18da9d87d0d4a930844db59eef99432}{register\_LCDC}} & 0x80)) ||
1096           (\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} == \mbox{\hyperlink{_g_b_8cpp_aaef25423ec345e8c454581a0119b93f8}{register\_LYC}})))
1097       \{
1098         \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff0f] = \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} |=2;
1099       \}
1100     
1101       \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} &= ((\mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}}>>3) & 0xF);
1102 
1103       \textcolor{keywordflow}{if}((\mbox{\hyperlink{_g_b_8cpp_af18da9d87d0d4a930844db59eef99432}{register\_LCDC}} & 0x80)) \{
1104         \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}} & 0x08) && (\mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} == 0))
1105         \{
1106           \textcolor{keywordflow}{if} (!\mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}})
1107           \{
1108             \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff0f] = \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} |=2;
1109           \}
1110           \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} |= 1;
1111         \}
1112         \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}} & 0x10) && (\mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} == 1))
1113         \{
1114           \textcolor{keywordflow}{if} (!\mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}})
1115           \{
1116             \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff0f] = \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} |=2;
1117           \}
1118           \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} |= 2;
1119         \}
1120         \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}} & 0x20) && (\mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} == 2))
1121         \{
1122           \textcolor{keywordflow}{if} (!\mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}})
1123           \{
1124             \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff0f] = \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}} |=2;
1125           \}
1126           \mbox{\hyperlink{_g_b_8cpp_a2c2f9b6a204bc775b150b570de73291b}{gbInt48Signal}} |= 4;
1127         \}
1128         \mbox{\hyperlink{_g_b_8cpp_aa26a94a9b4a904634ab42555ae8cd05b}{gbCompareLYToLYC}}();
1129 
1130         \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff0f] = \mbox{\hyperlink{_g_b_8cpp_a0343e080901b08fc37cf44be712c9a88}{register\_IF}};
1131         \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff41] = \mbox{\hyperlink{_g_b_8cpp_a8f1b6b32a7a1cbcf9f6140cdafbe380a}{register\_STAT}};
1132     
1133       \}
1134       \textcolor{keywordflow}{return};
1135     \}
1136 
1137     \textcolor{comment}{// SCY}
1138     \textcolor{keywordflow}{case} 0x42: \{
1139       \textcolor{keywordtype}{int} temp = -1;
1140 
1141       \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} == 3) || (\mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} == 3))
1142         temp = ((\mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}}-
      \mbox{\hyperlink{_g_b_8cpp_a694d78b9d65ea5c8d37256038db17e80}{GBLCD\_MODE\_2\_CLOCK\_TICKS}}) - 
1143                \mbox{\hyperlink{_g_b_8cpp_ae0cdf5545a76d5f524b336ff5b7cd910}{gbLcdLYIncrementTicks}});
1144 
1145       \textcolor{keywordflow}{if} (temp >=0)
1146       \{
1147         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=temp<<(\mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}} ? 1 : 2);\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<300;\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)
1148           \textcolor{keywordflow}{if} (temp < 300)
1149             \mbox{\hyperlink{_g_b_8cpp_a26111ddea8553b4079e52f0ecbee0b95}{gbSCYLine}}[\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = value;
1150       \}
1151       
1152       \textcolor{keywordflow}{else} 
1153         memset(\mbox{\hyperlink{_g_b_8cpp_a26111ddea8553b4079e52f0ecbee0b95}{gbSCYLine}}, value, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{_g_b_8cpp_a26111ddea8553b4079e52f0ecbee0b95}{gbSCYLine}}));
1154 
1155       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff42] = \mbox{\hyperlink{_g_b_8cpp_a969488e6c82c7bb97c6e86968315a960}{register\_SCY}} = value;
1156       \textcolor{keywordflow}{return};
1157     \}
1158   
1159     \textcolor{comment}{// SCX}
1160     \textcolor{keywordflow}{case} 0x43: \{
1161       \textcolor{keywordtype}{int} temp = -1;
1162 
1163       \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} == 3)
1164         temp = ((\mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}}-
      \mbox{\hyperlink{_g_b_8cpp_a694d78b9d65ea5c8d37256038db17e80}{GBLCD\_MODE\_2\_CLOCK\_TICKS}}) - 
1165                \mbox{\hyperlink{_g_b_8cpp_abdb3e275a757da833e774c19ded966d6}{gbLcdLYIncrementTicksDelayed}});
1166 
1167       \textcolor{keywordflow}{if} (temp >=0)
1168       \{
1169         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=temp<<(\mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}} ? 1 : 2);\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<300;\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)
1170           \textcolor{keywordflow}{if} (temp < 300)
1171             \mbox{\hyperlink{_g_b_8cpp_a36343b46b0d9331cfee81944cda1087c}{gbSCXLine}}[\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = value;
1172       \}
1173       
1174       \textcolor{keywordflow}{else} 
1175         memset(\mbox{\hyperlink{_g_b_8cpp_a36343b46b0d9331cfee81944cda1087c}{gbSCXLine}}, value, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{_g_b_8cpp_a36343b46b0d9331cfee81944cda1087c}{gbSCXLine}}));
1176 
1177       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff43] = \mbox{\hyperlink{_g_b_8cpp_a28884b40d0a2100be4080ae1184e1400}{register\_SCX}} = value;
1178       \textcolor{keywordflow}{return};
1179     \}
1180   
1181     \textcolor{comment}{// LY}
1182     \textcolor{keywordflow}{case} 0x44: \{
1183       \textcolor{comment}{// read only}
1184       \textcolor{keywordflow}{return};
1185     \}
1186 
1187     \textcolor{comment}{// LYC}
1188     \textcolor{keywordflow}{case} 0x45: \{
1189       \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_aaef25423ec345e8c454581a0119b93f8}{register\_LYC}} != value)
1190       \{
1191         \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff45] = \mbox{\hyperlink{_g_b_8cpp_aaef25423ec345e8c454581a0119b93f8}{register\_LYC}} = value;
1192         \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_af18da9d87d0d4a930844db59eef99432}{register\_LCDC}} & 0x80) \{
1193           \mbox{\hyperlink{_g_b_8cpp_aa26a94a9b4a904634ab42555ae8cd05b}{gbCompareLYToLYC}}();
1194         \}
1195       \}
1196       \textcolor{keywordflow}{return};
1197     \}
1198   
1199     \textcolor{comment}{// DMA!}
1200     \textcolor{keywordflow}{case} 0x46: \{
1201       \textcolor{keywordtype}{int} source = value * 0x0100;
1202 
1203       \mbox{\hyperlink{_g_b_8cpp_a2e165b3f13ae4d61197b1a13baa4f61d}{gbCopyMemory}}(0xfe00,
1204                    source,
1205                    0xa0);
1206       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff46] = \mbox{\hyperlink{_g_b_8cpp_a9fe405f39bf84e015c4714a2e579269c}{register\_DMA}} = value;
1207       \textcolor{keywordflow}{return};
1208     \}
1209   
1210     \textcolor{comment}{// BGP}
1211     \textcolor{keywordflow}{case} 0x47: \{
1212 
1213       \textcolor{keywordtype}{int} temp = -1;
1214 
1215       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff47] = value;
1216 
1217       \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} == 3)
1218         temp = ((\mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}}-
      \mbox{\hyperlink{_g_b_8cpp_a694d78b9d65ea5c8d37256038db17e80}{GBLCD\_MODE\_2\_CLOCK\_TICKS}}) - 
1219                \mbox{\hyperlink{_g_b_8cpp_abdb3e275a757da833e774c19ded966d6}{gbLcdLYIncrementTicksDelayed}});
1220 
1221       \textcolor{keywordflow}{if} (temp >=0)
1222       \{
1223         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=temp<<(\mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}} ? 1 : 2);\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<300;\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)
1224           \textcolor{keywordflow}{if} (temp < 300)
1225             \mbox{\hyperlink{_g_b_8cpp_a754f72d502cf0c77a0b99d387a9d60a4}{gbBgpLine}}[\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = value;
1226       \}
1227       \textcolor{keywordflow}{else}
1228         memset(\mbox{\hyperlink{_g_b_8cpp_a754f72d502cf0c77a0b99d387a9d60a4}{gbBgpLine}},value,\textcolor{keyword}{sizeof}(\mbox{\hyperlink{_g_b_8cpp_a754f72d502cf0c77a0b99d387a9d60a4}{gbBgpLine}}));
1229 
1230       \mbox{\hyperlink{gb_globals_8cpp_af4aecde48e53c8b3aa9c7241443e5ef7}{gbBgp}}[0] = value & 0x03;
1231       \mbox{\hyperlink{gb_globals_8cpp_af4aecde48e53c8b3aa9c7241443e5ef7}{gbBgp}}[1] = (value & 0x0c)>>2;
1232       \mbox{\hyperlink{gb_globals_8cpp_af4aecde48e53c8b3aa9c7241443e5ef7}{gbBgp}}[2] = (value & 0x30)>>4;
1233       \mbox{\hyperlink{gb_globals_8cpp_af4aecde48e53c8b3aa9c7241443e5ef7}{gbBgp}}[3] = (value & 0xc0)>>6;
1234       \textcolor{keywordflow}{break};
1235     \}
1236   
1237     \textcolor{comment}{// OBP0}
1238     \textcolor{keywordflow}{case} 0x48: \{
1239       \textcolor{keywordtype}{int} temp = -1;
1240 
1241       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff48] = value;
1242 
1243       \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} == 3)
1244         temp = ((\mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}}-
      \mbox{\hyperlink{_g_b_8cpp_a694d78b9d65ea5c8d37256038db17e80}{GBLCD\_MODE\_2\_CLOCK\_TICKS}}) - 
1245                \mbox{\hyperlink{_g_b_8cpp_abdb3e275a757da833e774c19ded966d6}{gbLcdLYIncrementTicksDelayed}});
1246 
1247       \textcolor{keywordflow}{if} (temp >=0)
1248       \{
1249         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=temp<<(\mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}} ? 1 : 2);\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<300;\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)
1250           \textcolor{keywordflow}{if} (temp < 300)
1251             \mbox{\hyperlink{_g_b_8cpp_ae9bdf1830d9cc0311f49bc3ac3619e2b}{gbObp0Line}}[\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = value;
1252       \}
1253       \textcolor{keywordflow}{else}
1254         memset(\mbox{\hyperlink{_g_b_8cpp_ae9bdf1830d9cc0311f49bc3ac3619e2b}{gbObp0Line}},value,\textcolor{keyword}{sizeof}(\mbox{\hyperlink{_g_b_8cpp_ae9bdf1830d9cc0311f49bc3ac3619e2b}{gbObp0Line}}));
1255 
1256       \mbox{\hyperlink{gb_globals_8cpp_ac4d1dd952085f2cbecc7663050994012}{gbObp0}}[0] = value & 0x03;
1257       \mbox{\hyperlink{gb_globals_8cpp_ac4d1dd952085f2cbecc7663050994012}{gbObp0}}[1] = (value & 0x0c)>>2;
1258       \mbox{\hyperlink{gb_globals_8cpp_ac4d1dd952085f2cbecc7663050994012}{gbObp0}}[2] = (value & 0x30)>>4;
1259       \mbox{\hyperlink{gb_globals_8cpp_ac4d1dd952085f2cbecc7663050994012}{gbObp0}}[3] = (value & 0xc0)>>6;
1260       \textcolor{keywordflow}{break};
1261     \}
1262 
1263     \textcolor{comment}{// OBP1}
1264     \textcolor{keywordflow}{case} 0x49: \{
1265       \textcolor{keywordtype}{int} temp = -1;
1266 
1267       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff49] = value;
1268 
1269       \textcolor{keywordflow}{if} (\mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} == 3)
1270         temp = ((\mbox{\hyperlink{_g_b_8cpp_ac50b7b3f6003c2960484b3d363160d7c}{GBLY\_INCREMENT\_CLOCK\_TICKS}}-
      \mbox{\hyperlink{_g_b_8cpp_a694d78b9d65ea5c8d37256038db17e80}{GBLCD\_MODE\_2\_CLOCK\_TICKS}}) - 
1271                \mbox{\hyperlink{_g_b_8cpp_abdb3e275a757da833e774c19ded966d6}{gbLcdLYIncrementTicksDelayed}});
1272 
1273       \textcolor{keywordflow}{if} (temp >=0)
1274       \{
1275         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}=temp<<(\mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}} ? 1 : 2);\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}<300;\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}++)
1276           \textcolor{keywordflow}{if} (temp < 300)
1277             \mbox{\hyperlink{_g_b_8cpp_a5c2bbe8c392c9c591ba889e3ea8ff5fc}{gbObp1Line}}[\mbox{\hyperlink{expr-lex_8cpp_acb559820d9ca11295b4500f179ef6392}{i}}] = value;
1278       \}
1279       \textcolor{keywordflow}{else}
1280         memset(\mbox{\hyperlink{_g_b_8cpp_a5c2bbe8c392c9c591ba889e3ea8ff5fc}{gbObp1Line}},value,\textcolor{keyword}{sizeof}(\mbox{\hyperlink{_g_b_8cpp_a5c2bbe8c392c9c591ba889e3ea8ff5fc}{gbObp1Line}}));
1281 
1282       \mbox{\hyperlink{gb_globals_8cpp_a8200c8214bf94708e583eee237042d00}{gbObp1}}[0] = value & 0x03;
1283       \mbox{\hyperlink{gb_globals_8cpp_a8200c8214bf94708e583eee237042d00}{gbObp1}}[1] = (value & 0x0c)>>2;
1284       \mbox{\hyperlink{gb_globals_8cpp_a8200c8214bf94708e583eee237042d00}{gbObp1}}[2] = (value & 0x30)>>4;
1285       \mbox{\hyperlink{gb_globals_8cpp_a8200c8214bf94708e583eee237042d00}{gbObp1}}[3] = (value & 0xc0)>>6;
1286       \textcolor{keywordflow}{break};
1287     \}
1288 
1289     \textcolor{comment}{// WY}
1290     \textcolor{keywordflow}{case} 0x4a:
1291       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff4a] = \mbox{\hyperlink{_g_b_8cpp_a0c0df073066ca310ec6fecb25bd3988c}{register\_WY}} = value;
1292       \textcolor{keywordflow}{if} ((\mbox{\hyperlink{_g_b_8cpp_aad4589c2dc32beaef2c70b2f9af5e54b}{register\_LY}} <= \mbox{\hyperlink{_g_b_8cpp_a0c0df073066ca310ec6fecb25bd3988c}{register\_WY}}) && ((gbWindowLine < 0) || (gbWindowLine>=144))
      )
1293       \{
1294           \mbox{\hyperlink{gb_globals_8cpp_a406aa032fac9ced7e3642fad4e0edd44}{gbWindowLine}} = -1;
1295           \mbox{\hyperlink{_g_b_8cpp_ae85aa77fbabadb9981575f14fc251b50}{oldRegister\_WY}} = \mbox{\hyperlink{_g_b_8cpp_a0c0df073066ca310ec6fecb25bd3988c}{register\_WY}};
1296       \}
1297       \textcolor{keywordflow}{return};
1298 
1299     \textcolor{comment}{// WX}
1300     \textcolor{keywordflow}{case} 0x4b:
1301       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff4b] = \mbox{\hyperlink{_g_b_8cpp_a43896b4dc65b98644f0b065e4e56a636}{register\_WX}} = value;
1302       \textcolor{keywordflow}{return};
1303   
1304     \textcolor{comment}{// KEY1}
1305     \textcolor{keywordflow}{case} 0x4d: \{
1306       \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}}) \{
1307         \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff4d] = (\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff4d] & 0x80) | (value & 1) | 0x7e;
1308         \textcolor{keywordflow}{return};
1309       \}
1310     \}
1311     \textcolor{keywordflow}{break};
1312     
1313     \textcolor{comment}{// VBK}
1314     \textcolor{keywordflow}{case} 0x4f: \{
1315       \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}}) \{
1316         value = value & 1;
1317         \textcolor{keywordflow}{if}(value == \mbox{\hyperlink{_g_b_8cpp_add76362ee946a71213605116ecf4525b}{gbVramBank}})
1318           \textcolor{keywordflow}{return};
1319       
1320         \textcolor{keywordtype}{int} vramAddress = value * 0x2000;
1321         \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x08] = &\mbox{\hyperlink{gb_globals_8cpp_acc4cae98f0f9473610870333741081e9}{gbVram}}[vramAddress];
1322         \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x09] = &\mbox{\hyperlink{gb_globals_8cpp_acc4cae98f0f9473610870333741081e9}{gbVram}}[vramAddress + 0x1000];
1323       
1324         \mbox{\hyperlink{_g_b_8cpp_add76362ee946a71213605116ecf4525b}{gbVramBank}} = value;
1325         \mbox{\hyperlink{_g_b_8cpp_a649138268bf54f59608cbe4543a7d6de}{register\_VBK}} = value;
1326       \}
1327       \textcolor{keywordflow}{return};
1328     \}
1329     \textcolor{keywordflow}{break};
1330 
1331     \textcolor{comment}{// BOOTROM disable register (also gbCgbMode enabler if value & 0x10 ?)}
1332     \textcolor{keywordflow}{case} 0x50 :
1333     \{
1334       \textcolor{keywordflow}{if} (\mbox{\hyperlink{gb_globals_8h_ac2e7c0a19c3be95f9226870ca6875c8b}{useBios}} && \mbox{\hyperlink{_g_b_8cpp_af479f252219124546774547e69110233}{inBios}} && !\mbox{\hyperlink{gb_globals_8h_a772956138c681d5799da023965e8adfc}{skipBios}} && (value & 1))
1335       \{
1336         \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x00] = &\mbox{\hyperlink{gb_globals_8cpp_ae4f6bd8162474dbcfdbc54c36d7f5695}{gbRom}}[0x0000];
1337         memcpy ((\mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} *)(\mbox{\hyperlink{gb_globals_8cpp_ae4f6bd8162474dbcfdbc54c36d7f5695}{gbRom}}+0x100), (\mbox{\hyperlink{_system_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} *)(\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}} + 0x100), 0xF00);
1338         \mbox{\hyperlink{_g_b_8cpp_af479f252219124546774547e69110233}{inBios}} = \textcolor{keyword}{false};
1339       \}
1340     \}
1341 
1342     \textcolor{comment}{// HDMA1}
1343     \textcolor{keywordflow}{case} 0x51: \{
1344       \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}}) \{
1345         \textcolor{keywordflow}{if}(value > 0x7f && value < 0xa0)
1346           value = 0;
1347       
1348         \mbox{\hyperlink{_g_b_8cpp_a8810b2a533466608d60262c385b10e78}{gbHdmaSource}} = (value << 8) | (\mbox{\hyperlink{_g_b_8cpp_a8810b2a533466608d60262c385b10e78}{gbHdmaSource}} & 0xf0);
1349       
1350         \mbox{\hyperlink{_g_b_8cpp_a4b14af08953150e165d5b6f17dc6448c}{register\_HDMA1}} = value;
1351         \textcolor{keywordflow}{return};
1352       \}
1353     \}
1354     \textcolor{keywordflow}{break};
1355   
1356     \textcolor{comment}{// HDMA2}
1357     \textcolor{keywordflow}{case} 0x52: \{
1358       \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}}) \{
1359         value = value & 0xf0;
1360       
1361         \mbox{\hyperlink{_g_b_8cpp_a8810b2a533466608d60262c385b10e78}{gbHdmaSource}} = (\mbox{\hyperlink{_g_b_8cpp_a8810b2a533466608d60262c385b10e78}{gbHdmaSource}} & 0xff00) | (value);
1362       
1363         \mbox{\hyperlink{_g_b_8cpp_ad94b6beda86d4e269d99c507cc2135bd}{register\_HDMA2}} = value;
1364         \textcolor{keywordflow}{return};
1365       \}
1366     \}
1367     \textcolor{keywordflow}{break};
1368 
1369     \textcolor{comment}{// HDMA3}
1370     \textcolor{keywordflow}{case} 0x53: \{
1371       \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}}) \{
1372         value = value & 0x1f;
1373         \mbox{\hyperlink{_g_b_8cpp_adc6546fea331da99c7a6d52b197e18d2}{gbHdmaDestination}} = (value << 8) | (\mbox{\hyperlink{_g_b_8cpp_adc6546fea331da99c7a6d52b197e18d2}{gbHdmaDestination}} & 0xf0);
1374         \mbox{\hyperlink{_g_b_8cpp_adc6546fea331da99c7a6d52b197e18d2}{gbHdmaDestination}} |= 0x8000;
1375         \mbox{\hyperlink{_g_b_8cpp_a482f3143d580db1097c1a810c26e449e}{register\_HDMA3}} = value;
1376         \textcolor{keywordflow}{return};
1377       \}
1378     \}
1379     \textcolor{keywordflow}{break};
1380   
1381     \textcolor{comment}{// HDMA4}
1382     \textcolor{keywordflow}{case} 0x54: \{
1383       \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}}) \{
1384         value = value & 0xf0;
1385         \mbox{\hyperlink{_g_b_8cpp_adc6546fea331da99c7a6d52b197e18d2}{gbHdmaDestination}} = (\mbox{\hyperlink{_g_b_8cpp_adc6546fea331da99c7a6d52b197e18d2}{gbHdmaDestination}} & 0x1f00) | value;
1386         \mbox{\hyperlink{_g_b_8cpp_adc6546fea331da99c7a6d52b197e18d2}{gbHdmaDestination}} |= 0x8000;
1387         \mbox{\hyperlink{_g_b_8cpp_a6d2ae54faba31ec925feff674b62da09}{register\_HDMA4}} = value;
1388         \textcolor{keywordflow}{return};
1389       \}
1390     \}
1391     \textcolor{keywordflow}{break};
1392   
1393     \textcolor{comment}{// HDMA5}
1394     \textcolor{keywordflow}{case} 0x55: \{
1395 
1396       \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}}) \{
1397         \mbox{\hyperlink{_g_b_8cpp_ab5f4fd7b086c59ec1bed653984a2cf66}{gbHdmaBytes}} = 16 + (value & 0x7f) * 16;
1398         \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_ab2950de0ff32aef80979230af408c6c5}{gbHdmaOn}}) \{
1399           \textcolor{keywordflow}{if}(value & 0x80) \{
1400             \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff55] = \mbox{\hyperlink{_g_b_8cpp_a682149c36122c334759aef3639e3a511}{register\_HDMA5}} = (value & 0x7f);
1401           \} \textcolor{keywordflow}{else} \{
1402             \mbox{\hyperlink{_g_b_8cpp_a682149c36122c334759aef3639e3a511}{register\_HDMA5}} = 0xff;
1403             \mbox{\hyperlink{_g_b_8cpp_ab2950de0ff32aef80979230af408c6c5}{gbHdmaOn}} = 0;
1404           \}
1405         \} \textcolor{keywordflow}{else} \{
1406           \textcolor{keywordflow}{if}(value & 0x80) \{
1407             \mbox{\hyperlink{_g_b_8cpp_ab2950de0ff32aef80979230af408c6c5}{gbHdmaOn}} = 1;
1408             \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff55] = \mbox{\hyperlink{_g_b_8cpp_a682149c36122c334759aef3639e3a511}{register\_HDMA5}} = value & 0x7f;
1409             \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} == 0)
1410               \mbox{\hyperlink{_g_b_8cpp_a2711feca0f3db1195f06f2068309c407}{gbDoHdma}}();
1411           \} \textcolor{keywordflow}{else} \{
1412             \textcolor{comment}{// we need to take the time it takes to complete the transfer into}
1413             \textcolor{comment}{// account... according to GB DEV FAQs, the setup time is the same}
1414             \textcolor{comment}{// for single and double speed, but the actual transfer takes the}
1415             \textcolor{comment}{// same time}
1416             \textcolor{keywordflow}{if}(\mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}})
1417               \mbox{\hyperlink{gb_globals_8cpp_a5c69b801c0be4a12f58244736b806097}{gbDmaTicks}} = 2+16 * ((value & 0x7f) +1);
1418             \textcolor{keywordflow}{else}
1419               \mbox{\hyperlink{gb_globals_8cpp_a5c69b801c0be4a12f58244736b806097}{gbDmaTicks}} = 1+8 * ((value & 0x7f)+1);
1420 
1421             \mbox{\hyperlink{_g_b_8cpp_a2e165b3f13ae4d61197b1a13baa4f61d}{gbCopyMemory}}((\mbox{\hyperlink{_g_b_8cpp_adc6546fea331da99c7a6d52b197e18d2}{gbHdmaDestination}} & 0x1ff0) | 0x8000,
1422                          \mbox{\hyperlink{_g_b_8cpp_a8810b2a533466608d60262c385b10e78}{gbHdmaSource}} & 0xfff0,
1423                          \mbox{\hyperlink{_g_b_8cpp_ab5f4fd7b086c59ec1bed653984a2cf66}{gbHdmaBytes}});
1424             \mbox{\hyperlink{_g_b_8cpp_adc6546fea331da99c7a6d52b197e18d2}{gbHdmaDestination}} += \mbox{\hyperlink{_g_b_8cpp_ab5f4fd7b086c59ec1bed653984a2cf66}{gbHdmaBytes}};
1425             \mbox{\hyperlink{_g_b_8cpp_a8810b2a533466608d60262c385b10e78}{gbHdmaSource}} += \mbox{\hyperlink{_g_b_8cpp_ab5f4fd7b086c59ec1bed653984a2cf66}{gbHdmaBytes}};
1426           
1427             \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff51] = \mbox{\hyperlink{_g_b_8cpp_a4b14af08953150e165d5b6f17dc6448c}{register\_HDMA1}} = 0xff;\textcolor{comment}{// = (gbHdmaSource >> 8) & 0xff;}
1428             \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff52] = \mbox{\hyperlink{_g_b_8cpp_ad94b6beda86d4e269d99c507cc2135bd}{register\_HDMA2}} = 0xff;\textcolor{comment}{// = gbHdmaSource & 0xf0;}
1429             \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff53] = \mbox{\hyperlink{_g_b_8cpp_a482f3143d580db1097c1a810c26e449e}{register\_HDMA3}} = 0xff;\textcolor{comment}{// = ((gbHdmaDestination -
       0x8000) >> 8) & 0x1f;}
1430             \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff54] = \mbox{\hyperlink{_g_b_8cpp_a6d2ae54faba31ec925feff674b62da09}{register\_HDMA4}} = 0xff;\textcolor{comment}{// = gbHdmaDestination & 0xf0;}
1431             \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff55] = \mbox{\hyperlink{_g_b_8cpp_a682149c36122c334759aef3639e3a511}{register\_HDMA5}} = 0xff;
1432           \}
1433         \}
1434         \textcolor{keywordflow}{return};
1435       \}
1436     \}
1437     \textcolor{keywordflow}{break};
1438   
1439     \textcolor{comment}{// BCPS}
1440     \textcolor{keywordflow}{case} 0x68: \{
1441        \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}}) \{
1442         \textcolor{keywordtype}{int} paletteIndex = (value & 0x3f) >> 1;
1443         \textcolor{keywordtype}{int} paletteHiLo   = (value & 0x01);
1444         
1445         \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff68] = value;
1446         
1447         \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff69] = (paletteHiLo ?
1448                            (\mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[paletteIndex] >> 8) :
1449                            (\mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[paletteIndex] & 0x00ff));
1450         \textcolor{keywordflow}{return};
1451       \}
1452     \}
1453     \textcolor{keywordflow}{break};
1454   
1455     \textcolor{comment}{// BCPD}
1456     \textcolor{keywordflow}{case} 0x69: \{
1457       \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}}) \{
1458         \textcolor{keywordtype}{int} v = \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff68];      
1459         \textcolor{keywordtype}{int} paletteIndex = (v & 0x3f) >> 1;
1460         \textcolor{keywordtype}{int} paletteHiLo  = (v & 0x01);
1461 
1462         \textcolor{comment}{// No access to gbPalette during mode 3 (Color Panel Demo)}
1463         \textcolor{keywordflow}{if} (((\mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} != 3) && (!((\mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} == 0) && (
      \mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}}>=(\mbox{\hyperlink{_g_b_8cpp_ae639d730d73d663ea6f0449f3cd51843}{GBLCD\_MODE\_0\_CLOCK\_TICKS}}-
      \mbox{\hyperlink{_g_b_8cpp_a715f2cbfee64834b0811918eae6133f4}{gbSpritesTicks}}[299]-1)))) && (!\mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}})) ||
1464            (\mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}} && ((\mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} == 1) || (\mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} == 2) ||
1465            ((\mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} == 3) && (\mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}}>(
      \mbox{\hyperlink{_g_b_8cpp_a5ff22891600b25586b32912c649900a5}{GBLCD\_MODE\_3\_CLOCK\_TICKS}}-2))) ||
1466            ((\mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} == 0) && (\mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}}<=(
      \mbox{\hyperlink{_g_b_8cpp_ae639d730d73d663ea6f0449f3cd51843}{GBLCD\_MODE\_0\_CLOCK\_TICKS}}-\mbox{\hyperlink{_g_b_8cpp_a715f2cbfee64834b0811918eae6133f4}{gbSpritesTicks}}[299]-2))))))
1467         \{
1468           \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff69] = value;
1469           \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[paletteIndex] = (paletteHiLo ?
1470                                    ((value << 8) | (\mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[paletteIndex] & 0xff)) :
1471                                     ((\mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[paletteIndex] & 0xff00) | (value))) & 0x7fff;
1472         \}
1473 
1474                                         
1475         \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff68] & 0x80) \{
1476           \textcolor{keywordtype}{int} index = ((\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff68] & 0x3f) + 1) & 0x3f;
1477         
1478           \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff68] = (\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff68] & 0x80) | index;
1479           \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff69] = (index & 1 ?
1480                              (\mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[index>>1] >> 8) :
1481                              (\mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[index>>1] & 0x00ff));
1482         \}
1483         \textcolor{keywordflow}{return};
1484       \}
1485     \}
1486     \textcolor{keywordflow}{break};
1487   
1488     \textcolor{comment}{// OCPS }
1489     \textcolor{keywordflow}{case} 0x6a: \{
1490       \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}}) \{
1491         \textcolor{keywordtype}{int} paletteIndex = (value & 0x3f) >> 1;
1492         \textcolor{keywordtype}{int} paletteHiLo   = (value & 0x01);
1493       
1494         paletteIndex += 32;
1495 
1496         \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff6a] = value;
1497 
1498         \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff6b] = (paletteHiLo ?
1499                            (\mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[paletteIndex] >> 8) :
1500                            (\mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[paletteIndex] & 0x00ff));
1501         \textcolor{keywordflow}{return};
1502       \}
1503     \}
1504     \textcolor{keywordflow}{break};
1505   
1506     \textcolor{comment}{// OCPD}
1507     \textcolor{keywordflow}{case} 0x6b: \{
1508 
1509       \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}}) \{
1510         \textcolor{keywordtype}{int} v = \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff6a];      
1511         \textcolor{keywordtype}{int} paletteIndex = (v & 0x3f) >> 1;
1512         \textcolor{keywordtype}{int} paletteHiLo  = (v & 0x01);
1513       
1514         paletteIndex += 32;
1515       
1516         \textcolor{comment}{// No access to gbPalette during mode 3 (Color Panel Demo)}
1517         \textcolor{keywordflow}{if} (((\mbox{\hyperlink{_g_b_8cpp_a3dd925eac997e713e1ad661b62013e50}{gbLcdModeDelayed}} != 3) && (!((\mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} == 0) && (
      \mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}}>=(\mbox{\hyperlink{_g_b_8cpp_ae639d730d73d663ea6f0449f3cd51843}{GBLCD\_MODE\_0\_CLOCK\_TICKS}}-
      \mbox{\hyperlink{_g_b_8cpp_a715f2cbfee64834b0811918eae6133f4}{gbSpritesTicks}}[299]-1)))) && (!\mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}})) ||
1518            (\mbox{\hyperlink{_g_b_8cpp_a57af6302651162dfa4efd78a14a6dd29}{gbSpeed}} && ((\mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} == 1) || (\mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} == 2) ||
1519            ((\mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} == 3) && (\mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}}>(
      \mbox{\hyperlink{_g_b_8cpp_a5ff22891600b25586b32912c649900a5}{GBLCD\_MODE\_3\_CLOCK\_TICKS}}-2))) ||
1520            ((\mbox{\hyperlink{_g_b_8cpp_addb3b6a9f070543f41c5ef0ea0380fbc}{gbLcdMode}} == 0) && (\mbox{\hyperlink{_g_b_8cpp_aca3fa9999d96d4f2d8690dbc7e9795ba}{gbLcdTicks}}<=(
      \mbox{\hyperlink{_g_b_8cpp_ae639d730d73d663ea6f0449f3cd51843}{GBLCD\_MODE\_0\_CLOCK\_TICKS}}-\mbox{\hyperlink{_g_b_8cpp_a715f2cbfee64834b0811918eae6133f4}{gbSpritesTicks}}[299]-2))))))
1521         \{
1522           \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff6b] = value;
1523           \mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[paletteIndex] = (paletteHiLo ?
1524                                     ((value << 8) | (\mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[paletteIndex] & 0xff)) :
1525                                     ((\mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[paletteIndex] & 0xff00) | (value))) & 0x7fff;
1526         \}
1527 
1528         \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff6a] & 0x80) \{
1529           \textcolor{keywordtype}{int} index = ((\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff6a] & 0x3f) + 1) & 0x3f;
1530         
1531           \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff6a] = (\mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff6a] & 0x80) | index;
1532         
1533           \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff6b] = (index & 1 ?
1534                              (\mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[(index>>1) + 32] >> 8) :
1535                              (\mbox{\hyperlink{gb_globals_8cpp_a7c46bfb4d71e64d27d5aec543ba85b9a}{gbPalette}}[(index>>1) + 32] & 0x00ff));
1536         \}      
1537         \textcolor{keywordflow}{return};
1538       \}
1539     \}
1540     \textcolor{keywordflow}{break};
1541 
1542     \textcolor{keywordflow}{case} 0x6c: \{
1543       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff6c] = 0xfe | value;
1544       \textcolor{keywordflow}{return};
1545     \}
1546 
1547   
1548     \textcolor{comment}{// SVBK}
1549     \textcolor{keywordflow}{case} 0x70: \{
1550       \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_aa3e3449c9ba4db2eeb687d6facfca761}{gbCgbMode}}) \{
1551         value = value & 7;
1552 
1553         \textcolor{keywordtype}{int} bank = value;
1554         \textcolor{keywordflow}{if}(value == 0)
1555           bank = 1;
1556   
1557         \textcolor{keywordflow}{if}(bank == \mbox{\hyperlink{_g_b_8cpp_a449cffa7d3d650625b7f3a00d897140f}{gbWramBank}})
1558           \textcolor{keywordflow}{return};
1559       
1560         \textcolor{keywordtype}{int} wramAddress = bank * 0x1000;
1561         \mbox{\hyperlink{gb_globals_8cpp_a71edbb615a1ec7c5b134e660531dd7dd}{gbMemoryMap}}[0x0d] = &\mbox{\hyperlink{gb_globals_8cpp_a8cedc409ffccdcaeae687da92d986004}{gbWram}}[wramAddress];
1562       
1563         \mbox{\hyperlink{_g_b_8cpp_a449cffa7d3d650625b7f3a00d897140f}{gbWramBank}} = bank;
1564         \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff70] = \mbox{\hyperlink{_g_b_8cpp_a77a3aeae8b099c2f838c32192dd46ab1}{register\_SVBK}} = value;
1565         \textcolor{keywordflow}{return};
1566       \}
1567     \}
1568 
1569     \textcolor{keywordflow}{case} 0x75:\{
1570       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xff75] = 0x8f | value;
1571       \textcolor{keywordflow}{return};
1572     \}
1573   
1574     \textcolor{keywordflow}{case} 0xff: \{
1575       \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[0xffff] = \mbox{\hyperlink{_g_b_8cpp_a94319ecba885d1837ce422125f5e4b7a}{register\_IE}} = value;
1576       \textcolor{keywordflow}{return};
1577     \}
1578   \}
1579 
1580   \textcolor{keywordflow}{if}(address < 0xff80)
1581   \{
1582     \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[address] = value;
1583     \textcolor{keywordflow}{return};
1584   \}
1585 
1586   \mbox{\hyperlink{gb_globals_8cpp_a43f07d3a5fcb2301e2662188e888c5a1}{gbMemory}}[address] = value;
1587 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_a157c79a0dc4e8fc437f796e71c05b9ba_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_a157c79a0dc4e8fc437f796e71c05b9ba_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_g_b_8h_abf83eaea4927776c4d4e4e70720515eb}\label{_g_b_8h_abf83eaea4927776c4d4e4e70720515eb}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Write\+Mem\+Save\+State@{gb\+Write\+Mem\+Save\+State}}
\index{gb\+Write\+Mem\+Save\+State@{gb\+Write\+Mem\+Save\+State}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Write\+Mem\+Save\+State()}{gbWriteMemSaveState()}}
{\footnotesize\ttfamily bool gb\+Write\+Mem\+Save\+State (\begin{DoxyParamCaption}\item[{char $\ast$}]{,  }\item[{\mbox{\hyperlink{_util_8cpp_a0ef32aa8672df19503a49fab2d0c8071}{int}}}]{ }\end{DoxyParamCaption})}



G\+B.\+cpp 파일의 3562 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3563 \{
3564   gzFile gzFile = \mbox{\hyperlink{_util_8cpp_a02e6a64e4965d9911ebe6cf6b43fd192}{utilMemGzOpen}}(memory, available, \textcolor{stringliteral}{"w"});
3565 
3566   \textcolor{keywordflow}{if}(gzFile == \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}) \{
3567     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
3568   \}
3569 
3570   \textcolor{keywordtype}{bool} res = \mbox{\hyperlink{_g_b_8cpp_a77f9be79e1680248f3468c5aee7b88b2}{gbWriteSaveState}}(gzFile);
3571 
3572   \textcolor{keywordtype}{long} pos = \mbox{\hyperlink{_util_8cpp_a99f60350d1f02a32e39fda2978830191}{utilGzMemTell}}(gzFile)+8;
3573 
3574   \textcolor{keywordflow}{if}(pos >= (available))
3575     res = \textcolor{keyword}{false};
3576 
3577   \mbox{\hyperlink{_util_8cpp_ae27f61ca2a7be5ae312a177b9b7eca78}{utilGzClose}}(gzFile);
3578 
3579   \textcolor{keywordflow}{return} res;
3580 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_abf83eaea4927776c4d4e4e70720515eb_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_g_b_8h_a0c59c2c9bf1b5742e5b5d4eb58ac5357}\label{_g_b_8h_a0c59c2c9bf1b5742e5b5d4eb58ac5357}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Write\+P\+N\+G\+File@{gb\+Write\+P\+N\+G\+File}}
\index{gb\+Write\+P\+N\+G\+File@{gb\+Write\+P\+N\+G\+File}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Write\+P\+N\+G\+File()}{gbWritePNGFile()}}
{\footnotesize\ttfamily bool gb\+Write\+P\+N\+G\+File (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$}]{ }\end{DoxyParamCaption})}



G\+B.\+cpp 파일의 3966 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3967 \{
3968   \textcolor{keywordflow}{if}(\mbox{\hyperlink{gb_globals_8cpp_a4700c36a68a6b63f7c2e91756a250cd2}{gbBorderOn}})
3969     \textcolor{keywordflow}{return} \mbox{\hyperlink{_util_8cpp_a046a5f7eac6cdd259a72d1ba02bb7c7a}{utilWritePNGFile}}(fileName, 256, 224, \mbox{\hyperlink{_g_b_8cpp_a5ee6554b606dcde59ac92578b33776d0}{pix}});
3970   \textcolor{keywordflow}{return} \mbox{\hyperlink{_util_8cpp_a046a5f7eac6cdd259a72d1ba02bb7c7a}{utilWritePNGFile}}(fileName, 160, 144, \mbox{\hyperlink{_g_b_8cpp_a5ee6554b606dcde59ac92578b33776d0}{pix}});
3971 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_a0c59c2c9bf1b5742e5b5d4eb58ac5357_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{_g_b_8h_a16f5ced9f16fed81202b78f8b6ec0874}\label{_g_b_8h_a16f5ced9f16fed81202b78f8b6ec0874}} 
\index{G\+B.\+h@{G\+B.\+h}!gb\+Write\+Save\+State@{gb\+Write\+Save\+State}}
\index{gb\+Write\+Save\+State@{gb\+Write\+Save\+State}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{gb\+Write\+Save\+State()}{gbWriteSaveState()}}
{\footnotesize\ttfamily bool gb\+Write\+Save\+State (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$}]{ }\end{DoxyParamCaption})}



G\+B.\+cpp 파일의 3582 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
3583 \{
3584   gzFile gzFile = \mbox{\hyperlink{_util_8cpp_a4030eff11c2659e960204acd8e8fdbd4}{utilGzOpen}}(name,\textcolor{stringliteral}{"wb"});
3585 
3586   \textcolor{keywordflow}{if}(gzFile == \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}})
3587     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
3588   
3589   \textcolor{keywordtype}{bool} res = \mbox{\hyperlink{_g_b_8cpp_a77f9be79e1680248f3468c5aee7b88b2}{gbWriteSaveState}}(gzFile);
3590   
3591   \mbox{\hyperlink{_util_8cpp_ae27f61ca2a7be5ae312a177b9b7eca78}{utilGzClose}}(gzFile);
3592   \textcolor{keywordflow}{return} res;
3593 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_g_b_8h_a16f5ced9f16fed81202b78f8b6ec0874_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=327pt]{_g_b_8h_a16f5ced9f16fed81202b78f8b6ec0874_icgraph}
\end{center}
\end{figure}


\subsection{변수 문서화}
\mbox{\Hypertarget{_g_b_8h_a4b388379bafe0e6ea2e7b57486ffa929}\label{_g_b_8h_a4b388379bafe0e6ea2e7b57486ffa929}} 
\index{G\+B.\+h@{G\+B.\+h}!G\+B\+System@{G\+B\+System}}
\index{G\+B\+System@{G\+B\+System}!G\+B.\+h@{G\+B.\+h}}
\subsubsection{\texorpdfstring{G\+B\+System}{GBSystem}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{struct_emulated_system}{Emulated\+System}} G\+B\+System}



G\+B.\+cpp 파일의 5409 번째 라인에서 정의되었습니다.

