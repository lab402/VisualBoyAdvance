\hypertarget{class_a_v_i_write}{}\section{A\+V\+I\+Write 클래스 참조}
\label{class_a_v_i_write}\index{A\+V\+I\+Write@{A\+V\+I\+Write}}


{\ttfamily \#include $<$A\+V\+I\+Write.\+h$>$}



A\+V\+I\+Write에 대한 협력 다이어그램\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=185pt]{class_a_v_i_write__coll__graph}
\end{center}
\end{figure}
\subsection*{Public 멤버 함수}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_a_v_i_write_a057b52eb963ac47d2e6a5bc7970b2002}{A\+V\+I\+Write}} ()
\item 
virtual \mbox{\hyperlink{class_a_v_i_write_aa6fcfa34e54a6164554a9f1d43f666ad}{$\sim$\+A\+V\+I\+Write}} ()
\item 
bool \mbox{\hyperlink{class_a_v_i_write_a2b4ef2aeeef846bcb12ef58189043eb1}{Open}} (\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$\mbox{\hyperlink{_test_emu_8cpp_ac33a174c39700095ca0f892624d85a3f}{filename}})
\item 
virtual bool \mbox{\hyperlink{class_a_v_i_write_a904b7f02ff6ecfeeaeec6e1c82f1592a}{Add\+Frame}} (\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{_util_8cpp_a0ef32aa8672df19503a49fab2d0c8071}{int}} number, \mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$bmp)
\item 
void \mbox{\hyperlink{class_a_v_i_write_a3beb976b918287e0592ab4feebd9ce59}{Set\+F\+PS}} (\mbox{\hyperlink{_util_8cpp_a0ef32aa8672df19503a49fab2d0c8071}{int}} fps)
\item 
void \mbox{\hyperlink{class_a_v_i_write_a1da91adeefacf0dd4655f5029875c5d6}{Set\+Video\+Format}} (B\+I\+T\+M\+A\+P\+I\+N\+F\+O\+H\+E\+A\+D\+ER $\ast$)
\item 
bool \mbox{\hyperlink{class_a_v_i_write_a7e14c1640c3c888c2b0a0b042c0d5b8f}{Is\+Sound\+Added}} ()
\item 
void \mbox{\hyperlink{class_a_v_i_write_a8d864e6e2cea4147ffa6f24d69fbe339}{Set\+Sound\+Format}} (W\+A\+V\+E\+F\+O\+R\+M\+A\+T\+EX $\ast$)
\item 
bool \mbox{\hyperlink{class_a_v_i_write_a63b7d54c048e517bbfad0ae2004d9861}{Add\+Sound}} (\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$sound, \mbox{\hyperlink{_util_8cpp_a0ef32aa8672df19503a49fab2d0c8071}{int}} \mbox{\hyperlink{expr-lex_8cpp_afed088663f8704004425cdae2120b9b3}{len}})
\end{DoxyCompactItemize}


\subsection{상세한 설명}


A\+V\+I\+Write.\+h 파일의 22 번째 라인에서 정의되었습니다.



\subsection{생성자 \& 소멸자 문서화}
\mbox{\Hypertarget{class_a_v_i_write_a057b52eb963ac47d2e6a5bc7970b2002}\label{class_a_v_i_write_a057b52eb963ac47d2e6a5bc7970b2002}} 
\index{A\+V\+I\+Write@{A\+V\+I\+Write}!A\+V\+I\+Write@{A\+V\+I\+Write}}
\index{A\+V\+I\+Write@{A\+V\+I\+Write}!A\+V\+I\+Write@{A\+V\+I\+Write}}
\subsubsection{\texorpdfstring{A\+V\+I\+Write()}{AVIWrite()}}
{\footnotesize\ttfamily A\+V\+I\+Write\+::\+A\+V\+I\+Write (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



A\+V\+I\+Write.\+cpp 파일의 22 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
23 \{
24   m\_failed = \textcolor{keyword}{false};
25   m\_file = \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};
26   m\_stream = \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};
27   m\_streamCompressed = \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};
28   m\_streamSound = \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};
29   m\_samplesSound = 0;
30   
31   AVIFileInit();
32 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_a_v_i_write_aa6fcfa34e54a6164554a9f1d43f666ad}\label{class_a_v_i_write_aa6fcfa34e54a6164554a9f1d43f666ad}} 
\index{A\+V\+I\+Write@{A\+V\+I\+Write}!````~A\+V\+I\+Write@{$\sim$\+A\+V\+I\+Write}}
\index{````~A\+V\+I\+Write@{$\sim$\+A\+V\+I\+Write}!A\+V\+I\+Write@{A\+V\+I\+Write}}
\subsubsection{\texorpdfstring{$\sim$\+A\+V\+I\+Write()}{~AVIWrite()}}
{\footnotesize\ttfamily A\+V\+I\+Write\+::$\sim$\+A\+V\+I\+Write (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



A\+V\+I\+Write.\+cpp 파일의 34 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
35 \{
36   \textcolor{keywordflow}{if}(m\_streamSound)
37     AVIStreamClose(m\_streamSound);
38 
39   \textcolor{keywordflow}{if}(m\_streamCompressed)
40     AVIStreamClose(m\_streamCompressed);
41   
42   \textcolor{keywordflow}{if}(m\_stream)
43     AVIStreamClose(m\_stream);
44 
45   \textcolor{keywordflow}{if}(m\_file)
46     AVIFileClose(m\_file);
47 
48   AVIFileExit();
49 \}
\end{DoxyCode}


\subsection{멤버 함수 문서화}
\mbox{\Hypertarget{class_a_v_i_write_a904b7f02ff6ecfeeaeec6e1c82f1592a}\label{class_a_v_i_write_a904b7f02ff6ecfeeaeec6e1c82f1592a}} 
\index{A\+V\+I\+Write@{A\+V\+I\+Write}!Add\+Frame@{Add\+Frame}}
\index{Add\+Frame@{Add\+Frame}!A\+V\+I\+Write@{A\+V\+I\+Write}}
\subsubsection{\texorpdfstring{Add\+Frame()}{AddFrame()}}
{\footnotesize\ttfamily bool A\+V\+I\+Write\+::\+Add\+Frame (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{_util_8cpp_a0ef32aa8672df19503a49fab2d0c8071}{int}}}]{number,  }\item[{\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$}]{bmp }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



A\+V\+I\+Write.\+cpp 파일의 159 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
160 \{
161   \textcolor{keywordflow}{if} (m\_failed)
162     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
163   
164   \textcolor{comment}{// write the frame to the video stream}
165   \textcolor{keywordflow}{if}(FAILED(AVIStreamWrite(m\_streamCompressed,
166                            frame,
167                            1,
168                            (LPVOID)bmp,
169                            m\_bitmap.biSizeImage,
170                            AVIIF\_KEYFRAME,
171                            \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}},
172                            \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}))) \{
173     m\_failed = \textcolor{keyword}{true};
174     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
175   \}
176   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
177 \}
\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=324pt]{class_a_v_i_write_a904b7f02ff6ecfeeaeec6e1c82f1592a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_a_v_i_write_a63b7d54c048e517bbfad0ae2004d9861}\label{class_a_v_i_write_a63b7d54c048e517bbfad0ae2004d9861}} 
\index{A\+V\+I\+Write@{A\+V\+I\+Write}!Add\+Sound@{Add\+Sound}}
\index{Add\+Sound@{Add\+Sound}!A\+V\+I\+Write@{A\+V\+I\+Write}}
\subsubsection{\texorpdfstring{Add\+Sound()}{AddSound()}}
{\footnotesize\ttfamily bool A\+V\+I\+Write\+::\+Add\+Sound (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$}]{sound,  }\item[{\mbox{\hyperlink{_util_8cpp_a0ef32aa8672df19503a49fab2d0c8071}{int}}}]{len }\end{DoxyParamCaption})}



A\+V\+I\+Write.\+cpp 파일의 135 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
136 \{
137   \textcolor{comment}{// return if we failed somewhere already}
138   \textcolor{keywordflow}{if}(m\_failed)
139     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
140 
141   \textcolor{keywordtype}{int} samples = \mbox{\hyperlink{expr-lex_8cpp_afed088663f8704004425cdae2120b9b3}{len}} / m\_soundFormat.nBlockAlign;
142 
143   \textcolor{keywordflow}{if}(FAILED(AVIStreamWrite(m\_streamSound,
144                            m\_samplesSound,
145                            samples,
146                            (LPVOID)sound,
147                            \mbox{\hyperlink{expr-lex_8cpp_afed088663f8704004425cdae2120b9b3}{len}},
148                            0,
149                            \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}},
150                            \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}))) \{
151     m\_failed = \textcolor{keyword}{true};
152     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
153   \}
154   m\_samplesSound += samples;
155 
156   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
157 \}
\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=319pt]{class_a_v_i_write_a63b7d54c048e517bbfad0ae2004d9861_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_a_v_i_write_a7e14c1640c3c888c2b0a0b042c0d5b8f}\label{class_a_v_i_write_a7e14c1640c3c888c2b0a0b042c0d5b8f}} 
\index{A\+V\+I\+Write@{A\+V\+I\+Write}!Is\+Sound\+Added@{Is\+Sound\+Added}}
\index{Is\+Sound\+Added@{Is\+Sound\+Added}!A\+V\+I\+Write@{A\+V\+I\+Write}}
\subsubsection{\texorpdfstring{Is\+Sound\+Added()}{IsSoundAdded()}}
{\footnotesize\ttfamily bool A\+V\+I\+Write\+::\+Is\+Sound\+Added (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



A\+V\+I\+Write.\+cpp 파일의 179 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
180 \{
181   \textcolor{keywordflow}{return} m\_streamSound != \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}};
182 \}
\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=337pt]{class_a_v_i_write_a7e14c1640c3c888c2b0a0b042c0d5b8f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_a_v_i_write_a2b4ef2aeeef846bcb12ef58189043eb1}\label{class_a_v_i_write_a2b4ef2aeeef846bcb12ef58189043eb1}} 
\index{A\+V\+I\+Write@{A\+V\+I\+Write}!Open@{Open}}
\index{Open@{Open}!A\+V\+I\+Write@{A\+V\+I\+Write}}
\subsubsection{\texorpdfstring{Open()}{Open()}}
{\footnotesize\ttfamily bool A\+V\+I\+Write\+::\+Open (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const}} char $\ast$}]{filename }\end{DoxyParamCaption})}



A\+V\+I\+Write.\+cpp 파일의 83 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
84 \{
85   \textcolor{comment}{// create the AVI file}
86   \textcolor{keywordflow}{if}(FAILED(AVIFileOpen(&m\_file,
87                         \mbox{\hyperlink{_s_d_l_8cpp_ac33a174c39700095ca0f892624d85a3f}{filename}},
88                         OF\_WRITE | OF\_CREATE,
89                         \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}))) \{
90     m\_failed = \textcolor{keyword}{true};
91     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
92   \}
93   \textcolor{comment}{// setup the video stream information}
94   ZeroMemory(&m\_header, \textcolor{keyword}{sizeof}(AVISTREAMINFO));
95   m\_header.fccType = streamtypeVIDEO;
96   m\_header.dwScale = 1;
97   m\_header.dwRate = m\_fps;
98   m\_header.dwSuggestedBufferSize  = m\_bitmap.biSizeImage;
99 
100   \textcolor{comment}{// create the video stream}
101   \textcolor{keywordflow}{if}(FAILED(AVIFileCreateStream(m\_file,
102                                 &m\_stream,
103                                 &m\_header))) \{
104     m\_failed = \textcolor{keyword}{true};
105     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
106   \}
107       
108   ZeroMemory(&m\_options, \textcolor{keyword}{sizeof}(AVICOMPRESSOPTIONS));
109   m\_arrayOptions[0] = &m\_options;
110 
111   \textcolor{comment}{// call the dialog to setup the compress options to be used}
112   \textcolor{keywordflow}{if}(!AVISaveOptions(AfxGetApp()->m\_pMainWnd->GetSafeHwnd(), 0, 1, &m\_stream, m\_arrayOptions)) \{
113     m\_failed = \textcolor{keyword}{true};
114     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
115   \}
116   
117   \textcolor{comment}{// create the compressed stream}
118   \textcolor{keywordflow}{if}(FAILED(AVIMakeCompressedStream(&m\_streamCompressed, m\_stream, &m\_options, 
      \mbox{\hyperlink{getopt1_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}}))) \{
119     m\_failed = \textcolor{keyword}{true};
120     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
121   \}
122   
123   \textcolor{comment}{// setup the video stream format}
124   \textcolor{keywordflow}{if}(FAILED( AVIStreamSetFormat(m\_streamCompressed, 0,
125                                 &m\_bitmap,
126                                 m\_bitmap.biSize +
127                                 m\_bitmap.biClrUsed * \textcolor{keyword}{sizeof}(RGBQUAD)))) \{
128     m\_failed = \textcolor{keyword}{true};
129     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
130   \}
131 
132   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
133 \}
\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=302pt]{class_a_v_i_write_a2b4ef2aeeef846bcb12ef58189043eb1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_a_v_i_write_a3beb976b918287e0592ab4feebd9ce59}\label{class_a_v_i_write_a3beb976b918287e0592ab4feebd9ce59}} 
\index{A\+V\+I\+Write@{A\+V\+I\+Write}!Set\+F\+PS@{Set\+F\+PS}}
\index{Set\+F\+PS@{Set\+F\+PS}!A\+V\+I\+Write@{A\+V\+I\+Write}}
\subsubsection{\texorpdfstring{Set\+F\+P\+S()}{SetFPS()}}
{\footnotesize\ttfamily void A\+V\+I\+Write\+::\+Set\+F\+PS (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_util_8cpp_a0ef32aa8672df19503a49fab2d0c8071}{int}}}]{fps }\end{DoxyParamCaption})}



A\+V\+I\+Write.\+cpp 파일의 184 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
185 \{
186   m\_fps = f;
187 \}
\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=313pt]{class_a_v_i_write_a3beb976b918287e0592ab4feebd9ce59_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_a_v_i_write_a8d864e6e2cea4147ffa6f24d69fbe339}\label{class_a_v_i_write_a8d864e6e2cea4147ffa6f24d69fbe339}} 
\index{A\+V\+I\+Write@{A\+V\+I\+Write}!Set\+Sound\+Format@{Set\+Sound\+Format}}
\index{Set\+Sound\+Format@{Set\+Sound\+Format}!A\+V\+I\+Write@{A\+V\+I\+Write}}
\subsubsection{\texorpdfstring{Set\+Sound\+Format()}{SetSoundFormat()}}
{\footnotesize\ttfamily void A\+V\+I\+Write\+::\+Set\+Sound\+Format (\begin{DoxyParamCaption}\item[{W\+A\+V\+E\+F\+O\+R\+M\+A\+T\+EX $\ast$}]{format }\end{DoxyParamCaption})}



A\+V\+I\+Write.\+cpp 파일의 57 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
58 \{
59   memcpy(&m\_soundFormat, format, \textcolor{keyword}{sizeof}(WAVEFORMATEX));
60   ZeroMemory(&m\_soundHeader, \textcolor{keyword}{sizeof}(AVISTREAMINFO));
61   \textcolor{comment}{// setup the sound stream header}
62   m\_soundHeader.fccType = streamtypeAUDIO;
63   m\_soundHeader.dwQuality = (DWORD)-1;
64   m\_soundHeader.dwScale = format->nBlockAlign;
65   m\_soundHeader.dwInitialFrames = 1;
66   m\_soundHeader.dwRate = format->nAvgBytesPerSec;
67   m\_soundHeader.dwSampleSize = format->nBlockAlign;
68   
69   \textcolor{comment}{// create the sound stream}
70   \textcolor{keywordflow}{if}(FAILED(AVIFileCreateStream(m\_file, &m\_streamSound, &m\_soundHeader))) \{
71     m\_failed = \textcolor{keyword}{true};
72     \textcolor{keywordflow}{return};
73   \}
74   
75   \textcolor{comment}{// setup the sound stream format}
76   \textcolor{keywordflow}{if}(FAILED(AVIStreamSetFormat(m\_streamSound, 0 , (\textcolor{keywordtype}{void} *)&m\_soundFormat,
77                                \textcolor{keyword}{sizeof}(WAVEFORMATEX)))) \{
78     m\_failed = \textcolor{keyword}{true};
79     \textcolor{keywordflow}{return};
80   \}
81 \}
\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=347pt]{class_a_v_i_write_a8d864e6e2cea4147ffa6f24d69fbe339_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_a_v_i_write_a1da91adeefacf0dd4655f5029875c5d6}\label{class_a_v_i_write_a1da91adeefacf0dd4655f5029875c5d6}} 
\index{A\+V\+I\+Write@{A\+V\+I\+Write}!Set\+Video\+Format@{Set\+Video\+Format}}
\index{Set\+Video\+Format@{Set\+Video\+Format}!A\+V\+I\+Write@{A\+V\+I\+Write}}
\subsubsection{\texorpdfstring{Set\+Video\+Format()}{SetVideoFormat()}}
{\footnotesize\ttfamily void A\+V\+I\+Write\+::\+Set\+Video\+Format (\begin{DoxyParamCaption}\item[{B\+I\+T\+M\+A\+P\+I\+N\+F\+O\+H\+E\+A\+D\+ER $\ast$}]{bh }\end{DoxyParamCaption})}



A\+V\+I\+Write.\+cpp 파일의 51 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
52 \{
53   \textcolor{comment}{// force size to 0x28 to avoid extra fields}
54   memcpy(&m\_bitmap, bh, 0x28);
55 \}
\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=349pt]{class_a_v_i_write_a1da91adeefacf0dd4655f5029875c5d6_icgraph}
\end{center}
\end{figure}


이 클래스에 대한 문서화 페이지는 다음의 파일들로부터 생성되었습니다.\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/sjh13/sources/\+Visual\+Boy\+Advance/src/win32/\mbox{\hyperlink{_a_v_i_write_8h}{A\+V\+I\+Write.\+h}}\item 
C\+:/\+Users/sjh13/sources/\+Visual\+Boy\+Advance/src/win32/\mbox{\hyperlink{_a_v_i_write_8cpp}{A\+V\+I\+Write.\+cpp}}\end{DoxyCompactItemize}
